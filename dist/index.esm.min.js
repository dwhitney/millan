var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function __extends(t,e){function n(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var __assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var utils=createCommonjsModule(function(t,e){function n(t){return t&&0===t.length}function r(t){return null==t?[]:Object.keys(t)}function i(t){for(var e=[],n=Object.keys(t),r=0;r<n.length;r++)e.push(t[n[r]]);return e}function o(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e.call(null,t[n],n);else{if(!S(t))throw Error("non exhaustive match");var i=r(t);for(n=0;n<i.length;n++){var o=i[n],a=t[o];e.call(null,a,o)}}}function a(t){return void 0===t}function s(t,e){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n}function u(t,e){return s(t,function(t){return!e(t)})}function l(t,e){return!!S(t)&&t.hasOwnProperty(e)}function c(t,e){return void 0!==f(t,function(t){return t===e})}function p(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}function E(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function f(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(e.call(null,r))return r}}function L(t,e,n){for(var r=Array.isArray(t)?t:i(t),o=n,a=0;a<r.length;a++)o=e.call(null,o,r[a],a);return o}function S(t){return t instanceof Object}function T(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++){var o=e[i];if(!a(o))for(var s=r(o),u=0;u<s.length;u++){var c=s[u];l(t,c)||(t[c]=o[c])}}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=n,e.keys=r,e.values=i,e.mapValues=function(t,e){for(var n=[],i=r(t),o=0;o<i.length;o++){var a=i[o];n.push(e.call(null,t[a],a))}return n},e.map=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e.call(null,t[r],r));return n},e.flatten=function t(e){for(var n=[],r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?n=n.concat(t(i)):n.push(i)}return n},e.first=function(t){return n(t)?void 0:t[0]},e.last=function(t){var e=t&&t.length;return e?t[e-1]:void 0},e.forEach=o,e.isString=function(t){return"string"==typeof t},e.isUndefined=a,e.isFunction=function(t){return t instanceof Function},e.drop=function(t,e){return void 0===e&&(e=1),t.slice(e,t.length)},e.dropRight=function(t,e){return void 0===e&&(e=1),t.slice(0,t.length-e)},e.filter=s,e.reject=u,e.pick=function(t,e){for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];e(a)&&(r[o]=a)}return r},e.has=l,e.contains=c,e.cloneArr=p,e.cloneObj=E,e.find=f,e.findAll=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];e.call(null,i)&&n.push(i)}return n},e.reduce=L,e.compact=function(t){return u(t,function(t){return null==t})},e.uniq=function(t,e){void 0===e&&(e=function(t){return t});var n=[];return L(t,function(t,r){var i=e(r);return c(n,i)?t:(n.push(i),t.concat(r))},[])},e.partial=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[null].concat(e);return Function.bind.apply(t,r)},e.isArray=function(t){return Array.isArray(t)},e.isRegExp=function(t){return t instanceof RegExp},e.isObject=S,e.every=function(t,e){for(var n=0;n<t.length;n++)if(!e(t[n],n))return!1;return!0},e.difference=function(t,e){return u(t,function(t){return c(e,t)})},e.some=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1},e.indexOf=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},e.sortBy=function(t,e){var n=p(t);return n.sort(function(t,n){return e(t)-e(n)}),n},e.zipObject=function(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var n={},r=0;r<t.length;r++)n[t[r]]=e[r];return n},e.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0;i<e.length;i++)for(var o=e[i],a=r(o),s=0;s<a.length;s++){var u=a[s];t[u]=o[u]}return t},e.assignNoOverwrite=T,e.defaults=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return T.apply(null,[{}].concat(t))},e.groupBy=function(t,e){var n={};return o(t,function(t){var r=e(t),i=n[r];i?i.push(t):n[r]=[t]}),n},e.merge=function(t,e){for(var n=E(t),i=r(e),o=0;o<i.length;o++){var a=i[o],s=e[a];n[a]=s}return n},e.NOOP=function(){},e.IDENTITY=function(t){return t}});unwrapExports(utils);var utils_1=utils.isEmpty,utils_2=utils.keys,utils_3=utils.values,utils_4=utils.mapValues,utils_5=utils.map,utils_6=utils.flatten,utils_7=utils.first,utils_8=utils.last,utils_9=utils.forEach,utils_10=utils.isString,utils_11=utils.isUndefined,utils_12=utils.isFunction,utils_13=utils.drop,utils_14=utils.dropRight,utils_15=utils.filter,utils_16=utils.reject,utils_17=utils.pick,utils_18=utils.has,utils_19=utils.contains,utils_20=utils.cloneArr,utils_21=utils.cloneObj,utils_22=utils.find,utils_23=utils.findAll,utils_24=utils.reduce,utils_25=utils.compact,utils_26=utils.uniq,utils_27=utils.partial,utils_28=utils.isArray,utils_29=utils.isRegExp,utils_30=utils.isObject,utils_31=utils.every,utils_32=utils.difference,utils_33=utils.some,utils_34=utils.indexOf,utils_35=utils.sortBy,utils_36=utils.zipObject,utils_37=utils.assign,utils_38=utils.assignNoOverwrite,utils_39=utils.defaults,utils_40=utils.groupBy,utils_41=utils.merge,utils_42=utils.NOOP,utils_43=utils.IDENTITY,lang_extensions=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=utils;e.classNameFromInstance=function(t){return o(t.constructor)};var r=/^\s*function\s*(\S*)\s*\(/,i="name";function o(t){var e=t.name;return e||t.toString().match(r)[1]}e.functionName=o,e.defineNameProp=function(t,e){var r=Object.getOwnPropertyDescriptor(t,i);return!(!n.isUndefined(r)&&!r.configurable||(Object.defineProperty(t,i,{enumerable:!1,configurable:!0,writable:!1,value:e}),0))};var a=function(){function t(){this._state={}}return t.prototype.keys=function(){return utils.keys(this._state)},t.prototype.values=function(){return utils.values(this._state)},t.prototype.put=function(t,e){this._state[t]=e},t.prototype.putAll=function(t){this._state=utils.assign(this._state,t._state)},t.prototype.get=function(t){return this._state[t]},t.prototype.containsKey=function(t){return utils.has(this._state,t)},t.prototype.clear=function(){this._state={}},t}();e.HashTable=a});unwrapExports(lang_extensions);var lang_extensions_1=lang_extensions.classNameFromInstance,lang_extensions_2=lang_extensions.functionName,lang_extensions_3=lang_extensions.defineNameProp,lang_extensions_4=lang_extensions.HashTable,cache=createCommonjsModule(function(t,e){function n(t,e){var n=e.get(t);return void 0===n&&(e.put(t,new lang_extensions.HashTable),n=e.get(t)),n}Object.defineProperty(e,"__esModule",{value:!0}),e.CLASS_TO_DEFINITION_ERRORS=new lang_extensions.HashTable,e.CLASS_TO_SELF_ANALYSIS_DONE=new lang_extensions.HashTable,e.CLASS_TO_GRAMMAR_PRODUCTIONS=new lang_extensions.HashTable,e.getProductionsForClass=function(t){return n(t,e.CLASS_TO_GRAMMAR_PRODUCTIONS)},e.CLASS_TO_RESYNC_FOLLOW_SETS=new lang_extensions.HashTable,e.getResyncFollowsForClass=function(t){return n(t,e.CLASS_TO_RESYNC_FOLLOW_SETS)},e.setResyncFollowsForClass=function(t,n){e.CLASS_TO_RESYNC_FOLLOW_SETS.put(t,n)},e.CLASS_TO_LOOKAHEAD_FUNCS=new lang_extensions.HashTable,e.getLookaheadFuncsForClass=function(t){return n(t,e.CLASS_TO_LOOKAHEAD_FUNCS)},e.CLASS_TO_FIRST_AFTER_REPETITION=new lang_extensions.HashTable,e.getFirstAfterRepForClass=function(t){return n(t,e.CLASS_TO_FIRST_AFTER_REPETITION)},e.CLASS_TO_PRODUCTION_OVERRIDEN=new lang_extensions.HashTable,e.getProductionOverriddenForClass=function(t){return n(t,e.CLASS_TO_PRODUCTION_OVERRIDEN)},e.CLASS_TO_CST_DICT_DEF_PER_RULE=new lang_extensions.HashTable,e.CLASS_TO_BASE_CST_VISITOR=new lang_extensions.HashTable,e.CLASS_TO_BASE_CST_VISITOR_WITH_DEFAULTS=new lang_extensions.HashTable,e.CLASS_TO_ALL_RULE_NAMES=new lang_extensions.HashTable,e.clearCache=function(){var e=utils.filter(utils.values(t.exports),function(t){return t instanceof lang_extensions.HashTable});utils.forEach(e,function(t){return t.clear()})}});unwrapExports(cache);var cache_1=cache.CLASS_TO_DEFINITION_ERRORS,cache_2=cache.CLASS_TO_SELF_ANALYSIS_DONE,cache_3=cache.CLASS_TO_GRAMMAR_PRODUCTIONS,cache_4=cache.getProductionsForClass,cache_5=cache.CLASS_TO_RESYNC_FOLLOW_SETS,cache_6=cache.getResyncFollowsForClass,cache_7=cache.setResyncFollowsForClass,cache_8=cache.CLASS_TO_LOOKAHEAD_FUNCS,cache_9=cache.getLookaheadFuncsForClass,cache_10=cache.CLASS_TO_FIRST_AFTER_REPETITION,cache_11=cache.getFirstAfterRepForClass,cache_12=cache.CLASS_TO_PRODUCTION_OVERRIDEN,cache_13=cache.getProductionOverriddenForClass,cache_14=cache.CLASS_TO_CST_DICT_DEF_PER_RULE,cache_15=cache.CLASS_TO_BASE_CST_VISITOR,cache_16=cache.CLASS_TO_BASE_CST_VISITOR_WITH_DEFAULTS,cache_17=cache.CLASS_TO_ALL_RULE_NAMES,cache_18=cache.clearCache,exceptions_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="MismatchedTokenException",r="NoViableAltException",i="EarlyExitException",o="NotAllInputParsedException",a=[n,r,i,o];function s(t,e){this.name=n,this.message=t,this.token=e,this.resyncedTokens=[]}function u(t,e){this.name=r,this.message=t,this.token=e,this.resyncedTokens=[]}function l(t,e){this.name=o,this.message=t,this.token=e,this.resyncedTokens=[]}function c(t,e,n){this.name=i,this.message=t,this.token=e,this.previousToken=n,this.resyncedTokens=[]}Object.freeze(a),e.isRecognitionException=function(t){return utils.contains(a,t.name)},e.MismatchedTokenException=s,s.prototype=Error.prototype,e.NoViableAltException=u,u.prototype=Error.prototype,e.NotAllInputParsedException=l,l.prototype=Error.prototype,e.EarlyExitException=c,c.prototype=Error.prototype});unwrapExports(exceptions_public);var exceptions_public_1=exceptions_public.isRecognitionException,exceptions_public_2=exceptions_public.MismatchedTokenException,exceptions_public_3=exceptions_public.NoViableAltException,exceptions_public_4=exceptions_public.NotAllInputParsedException,exceptions_public_5=exceptions_public.EarlyExitException,lexer=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="PATTERN";function r(t){var e=utils.filter(t,function(t){return!utils.has(t,n)});return{errors:utils.map(e,function(t){return{message:"Token Type: ->"+tokens_public.tokenName(t)+"<- missing static 'PATTERN' property",type:lexer_public.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[t]}}),valid:utils.difference(t,e)}}function i(t){var e=utils.filter(t,function(t){var e=t[n];return!(utils.isRegExp(e)||utils.isFunction(e)||utils.has(e,"exec")||utils.isString(e))});return{errors:utils.map(e,function(t){return{message:"Token Type: ->"+tokens_public.tokenName(t)+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:lexer_public.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[t]}}),valid:utils.difference(t,e)}}e.DEFAULT_MODE="defaultMode",e.MODES="modes",e.SUPPORT_STICKY="boolean"==typeof new RegExp("(?:)").sticky,e.disableSticky=function(){e.SUPPORT_STICKY=!1},e.enableSticky=function(){e.SUPPORT_STICKY=!0},e.analyzeTokenTypes=function(t,r){void 0===r&&(r=e.SUPPORT_STICKY);var i=utils.reject(t,function(t){return t[n]===lexer_public.Lexer.NA}),o=!1,a=utils.map(i,function(t){var e=t[n];if(utils.isRegExp(e)){var i=e.source;return 1===i.length&&"^"!==i&&"$"!==i&&"."!==i?i:2!==i.length||"\\"!==i[0]||utils.contains(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],i[1])?r?T(e):S(e):i[1]}if(utils.isFunction(e))return o=!0,{exec:e};if(utils.has(e,"exec"))return o=!0,e;if("string"==typeof e){if(1===e.length)return e;var a=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=new RegExp(a);return r?T(s):S(s)}throw Error("non exhaustive match")}),s=utils.map(i,function(t){return t.tokenTypeIdx}),u=utils.map(i,function(t){var e=t.GROUP;if(e!==lexer_public.Lexer.SKIPPED){if(utils.isString(e))return e;if(utils.isUndefined(e))return!1;throw Error("non exhaustive match")}}),l=utils.map(i,function(t){var e=t.LONGER_ALT;if(e)return utils.indexOf(i,e)}),c=utils.map(i,function(t){return t.PUSH_MODE}),p=utils.map(i,function(t){return utils.has(t,"POP_MODE")}),E=utils.map(i,function(t){return!0===t.LINE_BREAKS}),f=utils.map(i,R),L=utils.map(a,_);return{emptyGroups:utils.reduce(i,function(t,e){var n=e.GROUP;return utils.isString(n)&&n!==lexer_public.Lexer.SKIPPED&&(t[n]=[]),t},{}),patternIdxToConfig:utils.map(a,function(t,e){return{pattern:a[e],longerAlt:l[e],canLineTerminator:E[e],isCustom:f[e],short:L[e],group:u[e],push:c[e],pop:p[e],tokenTypeIdx:s[e],tokenType:i[e]}}),hasCustom:o}},e.validatePatterns=function(t,e){var o=[],u=r(t);o=o.concat(u.errors);var S=i(u.valid),T=S.valid;return o=(o=(o=(o=(o=o.concat(S.errors)).concat(function(t){var e=[],r=utils.filter(t,function(t){return utils.isRegExp(t[n])});return e=(e=(e=(e=(e=e.concat(a(r))).concat(l(r))).concat(c(r))).concat(p(r))).concat(s(r))}(T))).concat(E(T))).concat(f(T,e))).concat(L(T))},e.findMissingPatterns=r,e.findInvalidPatterns=i;var o=/[^\\][\$]/;function a(t){var e=utils.filter(t,function(t){var e=t[n];return o.test(e.source)});return utils.map(e,function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+tokens_public.tokenName(t)+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee sap.github.io/chevrotain/website/Building_Grammars/resolving_lexer_errors.html#ANCHORS\tfor details.",type:lexer_public.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[t]}})}function s(t){var e=utils.filter(t,function(t){return t[n].test("")});return utils.map(e,function(t){return{message:"Token Type: ->"+tokens_public.tokenName(t)+"<- static 'PATTERN' must not match an empty string",type:lexer_public.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[t]}})}e.findEndOfInputAnchor=a,e.findEmptyMatchRegExps=s;var u=/[^\\[][\^]|^\^/;function l(t){var e=utils.filter(t,function(t){var e=t[n];return u.test(e.source)});return utils.map(e,function(t){return{message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+tokens_public.tokenName(t)+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://github.com/SAP/chevrotain/blob/master/docs/resolving_lexer_errors.md#ANCHORS\n\tfor details.",type:lexer_public.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[t]}})}function c(t){var e=utils.filter(t,function(t){var e=t[n];return e instanceof RegExp&&(e.multiline||e.global)});return utils.map(e,function(t){return{message:"Token Type: ->"+tokens_public.tokenName(t)+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:lexer_public.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[t]}})}function p(t){var e=[],n=utils.map(t,function(n){return utils.reduce(t,function(t,r){return n.PATTERN.source!==r.PATTERN.source||utils.contains(e,r)||r.PATTERN===lexer_public.Lexer.NA?t:(e.push(r),t.push(r),t)},[])});n=utils.compact(n);var r=utils.filter(n,function(t){return t.length>1});return utils.map(r,function(t){var e=utils.map(t,function(t){return tokens_public.tokenName(t)});return{message:"The same RegExp pattern ->"+utils.first(t).PATTERN+"<-has been used in all of the following Token Types: "+e.join(", ")+" <-",type:lexer_public.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:t}})}function E(t){var e=utils.filter(t,function(t){if(!utils.has(t,"GROUP"))return!1;var e=t.GROUP;return e!==lexer_public.Lexer.SKIPPED&&e!==lexer_public.Lexer.NA&&!utils.isString(e)});return utils.map(e,function(t){return{message:"Token Type: ->"+tokens_public.tokenName(t)+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:lexer_public.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[t]}})}function f(t,e){var n=utils.filter(t,function(t){return void 0!==t.PUSH_MODE&&!utils.contains(e,t.PUSH_MODE)});return utils.map(n,function(t){return{message:"Token Type: ->"+tokens_public.tokenName(t)+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+t.PUSH_MODE+"<-which does not exist",type:lexer_public.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[t]}})}function L(t){var e=[],n=utils.reduce(t,function(t,e,n){var r,i=e.PATTERN;return i===lexer_public.Lexer.NA?t:(utils.isString(i)?t.push({str:i,idx:n,tokenType:e}):utils.isRegExp(i)&&(r=i,void 0===utils.find([".","\\","[","]","|","^","$","(",")","?","*","+","{"],function(t){return-1!==r.source.indexOf(t)}))&&t.push({str:i.source,idx:n,tokenType:e}),t)},[]);return utils.forEach(t,function(t,r){utils.forEach(n,function(n){var i=n.str,o=n.idx,a=n.tokenType;if(r<o&&function(t,e){if(utils.isRegExp(e)){var n=e.exec(t);return null!==n&&0===n.index}if(utils.isFunction(e))return e(t,0,[],{});if(utils.has(e,"exec"))return e.exec(t,0,[],{});if("string"==typeof e)return e===t;throw Error("non exhaustive match")}(i,t.PATTERN)){var s="Token: ->"+tokens_public.tokenName(a)+"<- can never be matched.\nBecause it appears AFTER the Token Type ->"+tokens_public.tokenName(t)+"<-in the lexer's definition.\nSee http://sap.github.io/chevrotain/website/Building_Grammars/resolving_lexer_errors.html#UNREACHABLE";e.push({message:s,type:lexer_public.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[t,a]})}})}),e}function S(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}function T(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}function R(t){var e=t.PATTERN;if(utils.isRegExp(e))return!1;if(utils.isFunction(e))return!0;if(utils.has(e,"exec"))return!0;if(utils.isString(e))return!1;throw Error("non exhaustive match")}function _(t){return!(!utils.isString(t)||1!==t.length)&&t.charCodeAt(0)}e.findStartOfInputAnchor=l,e.findUnsupportedFlags=c,e.findDuplicatePatterns=p,e.findInvalidGroupType=E,e.findModesThatDoNotExist=f,e.findUnreachablePatterns=L,e.addStartOfInput=S,e.addStickyFlag=T,e.performRuntimeChecks=function(t,n){var r=[];utils.has(t,e.DEFAULT_MODE)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.DEFAULT_MODE+"> property in its definition\n",type:lexer_public.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),utils.has(t,e.MODES)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+e.MODES+"> property in its definition\n",type:lexer_public.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),utils.has(t,e.MODES)&&utils.has(t,e.DEFAULT_MODE)&&!utils.has(t.modes,t.defaultMode)&&r.push({message:"A MultiMode Lexer cannot be initialized with a "+e.DEFAULT_MODE+": <"+t.defaultMode+">which does not exist\n",type:lexer_public.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),utils.has(t,e.MODES)&&utils.forEach(t.modes,function(t,e){utils.forEach(t,function(t,n){utils.isUndefined(t)&&r.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:<"+e+"> at index: <"+n+">\n",type:lexer_public.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})});var i=utils.flatten(utils.mapValues(t.modes,function(t){return t}));return n&&void 0===utils.find(i,function(t){return t.LINE_BREAKS})&&r.push({message:"No LINE_BREAKS Error:\n\tThis Lexer has been defined to track line and column information,\n\tyet none of the Token definitions contain a LINE_BREAK flag.\n\tSee http://sap.github.io/chevrotain/website/Building_Grammars/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:lexer_public.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),r},e.cloneEmptyGroups=function(t){var e={},n=utils.keys(t);return utils.forEach(n,function(n){var r=t[n];if(!utils.isArray(r))throw Error("non exhaustive match");e[n]=[]}),e},e.isCustomPattern=R,e.isShortPattern=_,e.LineTerminatorOptimizedTester={test:function(t){for(var e=t.length,n=this.lastIndex;n<e;n++){var r=t.charCodeAt(n);if(10===r)return this.lastIndex=n+1,!0;if(13===r)return 10===t.charCodeAt(n+1)?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0}});unwrapExports(lexer);var lexer_1=lexer.DEFAULT_MODE,lexer_2=lexer.MODES,lexer_3=lexer.SUPPORT_STICKY,lexer_4=lexer.disableSticky,lexer_5=lexer.enableSticky,lexer_6=lexer.analyzeTokenTypes,lexer_7=lexer.validatePatterns,lexer_8=lexer.findMissingPatterns,lexer_9=lexer.findInvalidPatterns,lexer_10=lexer.findEndOfInputAnchor,lexer_11=lexer.findEmptyMatchRegExps,lexer_12=lexer.findStartOfInputAnchor,lexer_13=lexer.findUnsupportedFlags,lexer_14=lexer.findDuplicatePatterns,lexer_15=lexer.findInvalidGroupType,lexer_16=lexer.findModesThatDoNotExist,lexer_17=lexer.findUnreachablePatterns,lexer_18=lexer.addStartOfInput,lexer_19=lexer.addStickyFlag,lexer_20=lexer.performRuntimeChecks,lexer_21=lexer.cloneEmptyGroups,lexer_22=lexer.isCustomPattern,lexer_23=lexer.isShortPattern,lexer_24=lexer.LineTerminatorOptimizedTester,tokens=createCommonjsModule(function(t,e){function n(t){for(var e=utils.cloneArr(t),n=t,r=!0;r;){n=utils.compact(utils.flatten(utils.map(n,function(t){return t.CATEGORIES})));var i=utils.difference(n,e);e=e.concat(i),utils.isEmpty(i)?r=!1:n=i}return e}function r(t){utils.forEach(t,function(t){a(t)||(e.tokenIdxToClass.put(e.tokenShortNameIdx,t),t.tokenTypeIdx=e.tokenShortNameIdx++),s(t)&&!utils.isArray(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),s(t)||(t.CATEGORIES=[]),u(t)||(t.categoryMatches=[]),l(t)||(t.categoryMatchesMap={}),c(t)||(t.tokenName=tokens_public.tokenName(t))})}function i(t){utils.forEach(t,function(t){t.categoryMatches=[],utils.forEach(t.categoryMatchesMap,function(n,r){t.categoryMatches.push(e.tokenIdxToClass.get(r).tokenTypeIdx)})})}function o(t){utils.forEach(t,function(t){!function t(e,n){utils.forEach(e,function(t){n.categoryMatchesMap[t.tokenTypeIdx]=!0});utils.forEach(n.CATEGORIES,function(r){var i=e.concat(n);utils.contains(i,r)||t(i,r)})}([],t)})}function a(t){return utils.has(t,"tokenTypeIdx")}function s(t){return utils.has(t,"CATEGORIES")}function u(t){return utils.has(t,"categoryMatches")}function l(t){return utils.has(t,"categoryMatchesMap")}function c(t){return utils.has(t,"tokenName")}Object.defineProperty(e,"__esModule",{value:!0}),e.tokenStructuredMatcher=function(t,e){var n=t.tokenTypeIdx;return n===e.tokenTypeIdx||!0===e.isParent&&!0===e.categoryMatchesMap[n]},e.tokenStructuredMatcherNoCategories=function(t,e){return t.tokenTypeIdx===e.tokenTypeIdx},e.tokenShortNameIdx=1,e.tokenIdxToClass=new lang_extensions.HashTable,e.augmentTokenTypes=function(t){var e=n(t);r(e),o(e),i(e),utils.forEach(e,function(t){t.isParent=t.categoryMatches.length>0})},e.expandCategories=n,e.assignTokenDefaultProps=r,e.assignCategoriesTokensProp=i,e.assignCategoriesMapProp=o,e.hasShortKeyProperty=a,e.hasCategoriesProperty=s,e.hasExtendingTokensTypesProperty=u,e.hasExtendingTokensTypesMapProperty=l,e.hasTokenNameProperty=c,e.isTokenType=function(t){return utils.has(t,"tokenTypeIdx")}});unwrapExports(tokens);var tokens_1=tokens.tokenStructuredMatcher,tokens_2=tokens.tokenStructuredMatcherNoCategories,tokens_3=tokens.tokenShortNameIdx,tokens_4=tokens.tokenIdxToClass,tokens_5=tokens.augmentTokenTypes,tokens_6=tokens.expandCategories,tokens_7=tokens.assignTokenDefaultProps,tokens_8=tokens.assignCategoriesTokensProp,tokens_9=tokens.assignCategoriesMapProp,tokens_10=tokens.hasShortKeyProperty,tokens_11=tokens.hasCategoriesProperty,tokens_12=tokens.hasExtendingTokensTypesProperty,tokens_13=tokens.hasExtendingTokensTypesMapProperty,tokens_14=tokens.hasTokenNameProperty,tokens_15=tokens.isTokenType,lexer_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN"}(e.LexerDefinitionErrorType||(e.LexerDefinitionErrorType={}));var n={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g};Object.freeze(n);var r=function(){function t(t,e){void 0===e&&(e=n);var r=this;if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.patternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,"boolean"==typeof e)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=utils.merge(n,e),this.config.lineTerminatorsPattern===n.lineTerminatorsPattern&&(this.config.lineTerminatorsPattern=lexer.LineTerminatorOptimizedTester),this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking);var i,o=!0;utils.isArray(t)?((i={modes:{}}).modes[lexer.DEFAULT_MODE]=utils.cloneArr(t),i[lexer.DEFAULT_MODE]=lexer.DEFAULT_MODE):(o=!1,i=utils.cloneObj(t)),this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(lexer.performRuntimeChecks(i,this.trackStartLines)),i.modes=i.modes?i.modes:{},utils.forEach(i.modes,function(t,e){i.modes[e]=utils.reject(t,function(t){return utils.isUndefined(t)})});var a=utils.keys(i.modes);if(utils.forEach(i.modes,function(t,e){if(r.modes.push(e),r.lexerDefinitionErrors=r.lexerDefinitionErrors.concat(lexer.validatePatterns(t,a)),utils.isEmpty(r.lexerDefinitionErrors)){tokens.augmentTokenTypes(t);var n=lexer.analyzeTokenTypes(t);r.patternIdxToConfig[e]=n.patternIdxToConfig,r.emptyGroups=utils.merge(r.emptyGroups,n.emptyGroups),r.hasCustom=n.hasCustom||r.hasCustom}}),this.defaultMode=i.defaultMode,!utils.isEmpty(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){var s=utils.map(this.lexerDefinitionErrors,function(t){return t.message}).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+s)}if(lexer.SUPPORT_STICKY?(this.chopInput=utils.IDENTITY,this.match=this.matchWithTest):(this.updateLastIndex=utils.NOOP,this.match=this.matchWithExec),o&&(this.handleModes=utils.NOOP),!1===this.trackStartLines&&(this.computeNewColumn=utils.IDENTITY),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=utils.NOOP),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error('Invalid <positionTracking> config option: "'+this.config.positionTracking+'"');this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?this.addToken=this.addTokenUsingPush:this.addToken=this.addTokenUsingMemberAccess}return t.prototype.tokenize=function(t,e){if(void 0===e&&(e=this.defaultMode),!utils.isEmpty(this.lexerDefinitionErrors)){var n=utils.map(this.lexerDefinitionErrors,function(t){return t.message}).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+n)}return this.tokenizeInternal(t,e)},t.prototype.tokenizeInternal=function(t,e){var n,r,i,o,a,s,u,l,c,p,E,f,L,S=this,T=t,R=T.length,_=0,N=0,U=this.hasCustom?0:Math.floor(t.length/10),A=new Array(U),h=[],d=this.trackStartLines?1:void 0,O=this.trackStartLines?1:void 0,M=lexer.cloneEmptyGroups(this.emptyGroups),k=this.trackStartLines,I=this.config.lineTerminatorsPattern,C=0,m=[],g=[],y=function(t){if(1===g.length&&void 0===t.tokenType.PUSH_MODE){var e="Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty";h.push({offset:t.startOffset,line:void 0!==t.startLine?t.startLine:void 0,column:void 0!==t.startColumn?t.startColumn:void 0,length:t.image.length,message:e})}else{g.pop();var n=utils.last(g);m=S.patternIdxToConfig[n],C=m.length}};function P(t){g.push(t),m=this.patternIdxToConfig[t],C=m.length}for(P.call(this,e);_<R;){for(a=null,n=0;n<C;n++){var v=(L=m[n]).pattern;if(!1!==(j=L.short)?T.charCodeAt(_)===j&&(a=v):!0===L.isCustom?a=null!==(f=v.exec(T,_,A,M))?f[0]:f:(this.updateLastIndex(v,_),a=this.match(v,t,_)),null!==a){if(void 0!==(o=L.longerAlt)){var B=m[o],x=B.pattern;!0===B.isCustom?i=null!==(f=x.exec(T,_,A,M))?f[0]:f:(this.updateLastIndex(x,_),i=this.match(x,t,_)),i&&i.length>a.length&&(a=i,L=B)}break}}if(null!==a){if(s=a.length,void 0!==(u=L.group)&&(l=L.tokenTypeIdx,c=this.createTokenInstance(a,_,l,L.tokenType,d,O,s),!1===u?N=this.addToken(A,N,c):M[u].push(c)),t=this.chopInput(t,s),_+=s,O=this.computeNewColumn(O,s),!0===k&&!0===L.canLineTerminator){var D=0,b=void 0,F=void 0;I.lastIndex=0;do{!0===(b=I.test(a))&&(F=I.lastIndex-1,D++)}while(b);0!==D&&(d+=D,O=s-F,this.updateTokenEndLineColumnLocation(c,u,F,D,d,O,s))}this.handleModes(n,L,y,P,c)}else{for(var G=_,w=d,V=O,H=!1;!H&&_<R;)for(T.charCodeAt(_),t=this.chopInput(t,1),_++,r=0;r<C;r++){var j,$=m[r];v=$.pattern;if(!1!==(j=$.short)?T.charCodeAt(_)===j&&(H=!0):!0===$.isCustom?H=null!==v.exec(T,_,A,M):(this.updateLastIndex(v,_),H=null!==v.exec(t)),!0===H)break}p=_-G,E="unexpected character: ->"+T.charAt(G)+"<- at offset: "+G+", skipped "+(_-G)+" characters.",h.push({offset:G,line:w,column:V,length:p,message:E})}}return this.hasCustom||(A.length=N),{tokens:A,groups:M,errors:h}},t.prototype.handleModes=function(t,e,n,r,i){if(!0===e.pop){var o=e.push;n(i),void 0!==o&&r.call(this,o)}else void 0!==e.push&&r.call(this,e.push)},t.prototype.chopInput=function(t,e){return t.substring(e)},t.prototype.updateLastIndex=function(t,e){t.lastIndex=e},t.prototype.updateTokenEndLineColumnLocation=function(t,e,n,r,i,o,a){var s,u;void 0!==e&&(u=(s=n===a-1)?-1:0,1===r&&!0===s||(t.endLine=i+u,t.endColumn=o-1-u))},t.prototype.computeNewColumn=function(t,e){return t+e},t.prototype.createTokenInstance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return null},t.prototype.createOffsetOnlyToken=function(t,e,n,r){return{image:t,startOffset:e,tokenTypeIdx:n,tokenType:r}},t.prototype.createStartOnlyToken=function(t,e,n,r,i,o){return{image:t,startOffset:e,startLine:i,startColumn:o,tokenTypeIdx:n,tokenType:r}},t.prototype.createFullToken=function(t,e,n,r,i,o,a){return{image:t,startOffset:e,endOffset:e+a-1,startLine:i,endLine:i,startColumn:o,endColumn:o+a-1,tokenTypeIdx:n,tokenType:r}},t.prototype.addToken=function(t,e,n){return 666},t.prototype.addTokenUsingPush=function(t,e,n){return t.push(n),e},t.prototype.addTokenUsingMemberAccess=function(t,e,n){return t[e]=n,++e},t.prototype.match=function(t,e,n){return null},t.prototype.matchWithTest=function(t,e,n){return!0===t.test(e)?e.substring(n,t.lastIndex):null},t.prototype.matchWithExec=function(t,e){var n=t.exec(e);return null!==n?n[0]:n},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();e.Lexer=r});unwrapExports(lexer_public);var lexer_public_1=lexer_public.LexerDefinitionErrorType,lexer_public_2=lexer_public.Lexer,tokens_public=createCommonjsModule(function(t,e){function n(t){return utils.isString(t.LABEL)&&""!==t.LABEL}function r(t){return utils.isObject(t)&&t.hasOwnProperty("tokenName")&&utils.isString(t.tokenName)?t.tokenName:lang_extensions.functionName(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.tokenLabel=function(t){return n(t)?t.LABEL:r(t)},e.hasTokenLabel=n,e.tokenName=r;var i="parent",o="categories",a="label",s="group",u="push_mode",l="pop_mode",c="longer_alt",p="line_breaks";function E(t){return function(t){var e=t.name,n=t.pattern,r={};lang_extensions.defineNameProp(r,e)||(r.tokenName=e);utils.isUndefined(n)||(r.PATTERN=n);if(utils.has(t,i))throw"The parent property is no longer supported.\nSee: https://github.com/SAP/chevrotain/issues/564#issuecomment-349062346 for details.";utils.has(t,o)&&(r.CATEGORIES=t[o]);tokens.augmentTokenTypes([r]),utils.has(t,a)&&(r.LABEL=t[a]);utils.has(t,s)&&(r.GROUP=t[s]);utils.has(t,l)&&(r.POP_MODE=t[l]);utils.has(t,u)&&(r.PUSH_MODE=t[u]);utils.has(t,c)&&(r.LONGER_ALT=t[c]);utils.has(t,p)&&(r.LINE_BREAKS=t[p]);return r}(t)}e.createToken=E,e.EOF=E({name:"EOF",pattern:lexer_public.Lexer.NA}),tokens.augmentTokenTypes([e.EOF]),e.createTokenInstance=function(t,e,n,r,i,o,a,s){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:o,startColumn:a,endColumn:s,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}},e.tokenMatcher=function(t,e){return tokens.tokenStructuredMatcher(t,e)}});unwrapExports(tokens_public);var tokens_public_1=tokens_public.tokenLabel,tokens_public_2=tokens_public.hasTokenLabel,tokens_public_3=tokens_public.tokenName,tokens_public_4=tokens_public.createToken,tokens_public_5=tokens_public.EOF,tokens_public_6=tokens_public.createTokenInstance,tokens_public_7=tokens_public.tokenMatcher,gast_public=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.definition=t}return t.prototype.accept=function(t){t.visit(this),utils.forEach(this.definition,function(e){e.accept(t)})},t}();e.AbstractProduction=i;var o=function(t){function e(e){var n=t.call(this,[])||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),Object.defineProperty(e.prototype,"definition",{get:function(){return void 0!==this.referencedRule?this.referencedRule.definition:[]},set:function(t){},enumerable:!0,configurable:!0}),e.prototype.accept=function(t){t.visit(this)},e}(i);e.NonTerminal=o;var a=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.orgText="",utils.assign(n,e),n}return r(e,t),e}(i);e.Rule=a;var s=function(t){function e(e){var n=t.call(this,e.definition)||this;return utils.assign(n,e),n}return r(e,t),e}(i);e.Flat=s;var u=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),e}(i);e.Option=u;var l=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),e}(i);e.RepetitionMandatory=l;var c=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),e}(i);e.RepetitionMandatoryWithSeparator=c;var p=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),e}(i);e.Repetition=p;var E=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),e}(i);e.RepetitionWithSeparator=E;var f=function(t){function e(e){var n=t.call(this,e.definition)||this;return n.idx=1,utils.assign(n,e),n}return r(e,t),e}(i);e.Alternation=f;var L=function(){function t(t){this.idx=1,utils.assign(this,t)}return t.prototype.accept=function(t){t.visit(this)},t}();function S(t){function e(t){return utils.map(t,S)}if(t instanceof o)return{type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};if(t instanceof s)return{type:"Flat",definition:e(t.definition)};if(t instanceof u)return{type:"Option",definition:e(t.definition)};if(t instanceof l)return{type:"RepetitionMandatory",definition:e(t.definition)};if(t instanceof c)return{type:"RepetitionMandatoryWithSeparator",separator:S(new L({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof E)return{type:"RepetitionWithSeparator",separator:S(new L({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof p)return{type:"Repetition",definition:e(t.definition)};if(t instanceof f)return{type:"Alternation",definition:e(t.definition)};if(t instanceof L){var n={type:"Terminal",name:tokens_public.tokenName(t.terminalType),label:tokens_public.tokenLabel(t.terminalType),idx:t.idx},r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=utils.isRegExp(r)?r.source:r),n}if(t instanceof a)return{type:"Rule",name:t.name,definition:e(t.definition)};throw Error("non exhaustive match")}e.Terminal=L,e.serializeGrammar=function(t){return utils.map(t,S)},e.serializeProduction=S});unwrapExports(gast_public);var gast_public_1=gast_public.AbstractProduction,gast_public_2=gast_public.NonTerminal,gast_public_3=gast_public.Rule,gast_public_4=gast_public.Flat,gast_public_5=gast_public.Option,gast_public_6=gast_public.RepetitionMandatory,gast_public_7=gast_public.RepetitionMandatoryWithSeparator,gast_public_8=gast_public.Repetition,gast_public_9=gast_public.RepetitionWithSeparator,gast_public_10=gast_public.Alternation,gast_public_11=gast_public.Terminal,gast_public_12=gast_public.serializeGrammar,gast_public_13=gast_public.serializeProduction,gast_visitor_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.visit=function(t){if(t instanceof gast_public.NonTerminal)return this.visitNonTerminal(t);if(t instanceof gast_public.Flat)return this.visitFlat(t);if(t instanceof gast_public.Option)return this.visitOption(t);if(t instanceof gast_public.RepetitionMandatory)return this.visitRepetitionMandatory(t);if(t instanceof gast_public.RepetitionMandatoryWithSeparator)return this.visitRepetitionMandatoryWithSeparator(t);if(t instanceof gast_public.RepetitionWithSeparator)return this.visitRepetitionWithSeparator(t);if(t instanceof gast_public.Repetition)return this.visitRepetition(t);if(t instanceof gast_public.Alternation)return this.visitAlternation(t);if(t instanceof gast_public.Terminal)return this.visitTerminal(t);if(t instanceof gast_public.Rule)return this.visitRule(t);throw Error("non exhaustive match")},t.prototype.visitNonTerminal=function(t){},t.prototype.visitFlat=function(t){},t.prototype.visitOption=function(t){},t.prototype.visitRepetition=function(t){},t.prototype.visitRepetitionMandatory=function(t){},t.prototype.visitRepetitionMandatoryWithSeparator=function(t){},t.prototype.visitRepetitionWithSeparator=function(t){},t.prototype.visitAlternation=function(t){},t.prototype.visitTerminal=function(t){},t.prototype.visitRule=function(t){},t}();e.GAstVisitor=n});unwrapExports(gast_visitor_public);var gast_visitor_public_1=gast_visitor_public.GAstVisitor,gast=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.isSequenceProd=function(t){return t instanceof gast_public.Flat||t instanceof gast_public.Option||t instanceof gast_public.Repetition||t instanceof gast_public.RepetitionMandatory||t instanceof gast_public.RepetitionMandatoryWithSeparator||t instanceof gast_public.RepetitionWithSeparator||t instanceof gast_public.Terminal||t instanceof gast_public.Rule},e.isOptionalProd=function t(e,n){return void 0===n&&(n=[]),!!(e instanceof gast_public.Option||e instanceof gast_public.Repetition||e instanceof gast_public.RepetitionWithSeparator)||(e instanceof gast_public.Alternation?utils.some(e.definition,function(e){return t(e,n)}):!(e instanceof gast_public.NonTerminal&&utils.contains(n,e))&&e instanceof gast_public.AbstractProduction&&(e instanceof gast_public.NonTerminal&&n.push(e),utils.every(e.definition,function(e){return t(e,n)})))},e.isBranchingProd=function(t){return t instanceof gast_public.Alternation},e.getProductionDslName=function(t){if(t instanceof gast_public.NonTerminal)return"SUBRULE";if(t instanceof gast_public.Option)return"OPTION";if(t instanceof gast_public.Alternation)return"OR";if(t instanceof gast_public.RepetitionMandatory)return"AT_LEAST_ONE";if(t instanceof gast_public.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(t instanceof gast_public.RepetitionWithSeparator)return"MANY_SEP";if(t instanceof gast_public.Repetition)return"MANY";if(t instanceof gast_public.Terminal)return"CONSUME";throw Error("non exhaustive match")};var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.visitNonTerminal=function(t){return new gast_public.NonTerminal({nonTerminalName:t.nonTerminalName,idx:t.idx})},e.prototype.visitFlat=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.Flat({definition:n,name:t.name})},e.prototype.visitOption=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.Option({definition:n,idx:t.idx,name:t.name})},e.prototype.visitRepetition=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.Repetition({definition:n,idx:t.idx,name:t.name})},e.prototype.visitRepetitionMandatory=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.RepetitionMandatory({definition:n,idx:t.idx,name:t.name})},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.RepetitionMandatoryWithSeparator({definition:n,separator:t.separator,idx:t.idx,name:t.name})},e.prototype.visitRepetitionWithSeparator=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.RepetitionWithSeparator({definition:n,separator:t.separator,idx:t.idx,name:t.name})},e.prototype.visitAlternation=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.Alternation({definition:n,idx:t.idx,name:t.name})},e.prototype.visitTerminal=function(t){return new gast_public.Terminal({terminalType:t.terminalType,idx:t.idx})},e.prototype.visitRule=function(t){var e=this,n=utils.map(t.definition,function(t){return e.visit(t)});return new gast_public.Rule({name:t.name,definition:n,orgText:t.orgText})},e}(gast_visitor_public.GAstVisitor);e.cloneProduction=function(t){return(new i).visit(t)};var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.separator="-",e.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},e}return r(e,t),e.prototype.visitTerminal=function(t){var e=tokens_public.tokenName(t.terminalType)+this.separator+"Terminal";utils.has(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitNonTerminal=function(t){var e=t.nonTerminalName+this.separator+"Terminal";utils.has(this.dslMethods,e)||(this.dslMethods[e]=[]),this.dslMethods[e].push(t)},e.prototype.visitOption=function(t){this.dslMethods.option.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.dslMethods.repetitionWithSeparator.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.dslMethods.repetitionMandatory.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)},e.prototype.visitRepetition=function(t){this.dslMethods.repetition.push(t)},e.prototype.visitAlternation=function(t){this.dslMethods.alternation.push(t)},e}(gast_visitor_public.GAstVisitor);e.DslMethodsCollectorVisitor=o});unwrapExports(gast);var gast_1=gast.isSequenceProd,gast_2=gast.isOptionalProd,gast_3=gast.isBranchingProd,gast_4=gast.getProductionDslName,gast_5=gast.cloneProduction,gast_6=gast.DslMethodsCollectorVisitor,rest=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.walk=function(t,e){var n=this;void 0===e&&(e=[]),utils.forEach(t.definition,function(r,i){var o=utils.drop(t.definition,i+1);if(r instanceof gast_public.NonTerminal)n.walkProdRef(r,o,e);else if(r instanceof gast_public.Terminal)n.walkTerminal(r,o,e);else if(r instanceof gast_public.Flat)n.walkFlat(r,o,e);else if(r instanceof gast_public.Option)n.walkOption(r,o,e);else if(r instanceof gast_public.RepetitionMandatory)n.walkAtLeastOne(r,o,e);else if(r instanceof gast_public.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(r,o,e);else if(r instanceof gast_public.RepetitionWithSeparator)n.walkManySep(r,o,e);else if(r instanceof gast_public.Repetition)n.walkMany(r,o,e);else{if(!(r instanceof gast_public.Alternation))throw Error("non exhaustive match");n.walkOr(r,o,e)}})},t.prototype.walkTerminal=function(t,e,n){},t.prototype.walkProdRef=function(t,e,n){},t.prototype.walkFlat=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkOption=function(t,e,n){var r=e.concat(n);this.walk(t,r)},t.prototype.walkAtLeastOne=function(t,e,n){var r=[new gast_public.Option({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkAtLeastOneSep=function(t,e,n){var i=r(t,e,n);this.walk(t,i)},t.prototype.walkMany=function(t,e,n){var r=[new gast_public.Option({definition:t.definition})].concat(e,n);this.walk(t,r)},t.prototype.walkManySep=function(t,e,n){var i=r(t,e,n);this.walk(t,i)},t.prototype.walkOr=function(t,e,n){var r=this,i=e.concat(n);utils.forEach(t.definition,function(t){var e=new gast_public.Flat({definition:[t]});r.walk(e,i)})},t}();function r(t,e,n){return[new gast_public.Option({definition:[new gast_public.Terminal({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}e.RestWalker=n});unwrapExports(rest);var rest_1=rest.RestWalker,first_1=createCommonjsModule(function(t,e){function n(t){if(t instanceof gast_public.NonTerminal)return n(t.referencedRule);if(t instanceof gast_public.Terminal)return o(t);if(gast.isSequenceProd(t))return r(t);if(gast.isBranchingProd(t))return i(t);throw Error("non exhaustive match")}function r(t){for(var e,r=[],i=t.definition,o=0,a=i.length>o,s=!0;a&&s;)e=i[o],s=gast.isOptionalProd(e),r=r.concat(n(e)),o+=1,a=i.length>o;return utils.uniq(r)}function i(t){var e=utils.map(t.definition,function(t){return n(t)});return utils.uniq(utils.flatten(e))}function o(t){return[t.terminalType]}Object.defineProperty(e,"__esModule",{value:!0}),e.first=n,e.firstForSequence=r,e.firstForBranching=i,e.firstForTerminal=o});unwrapExports(first_1);var first_2=first_1.first,first_3=first_1.firstForSequence,first_4=first_1.firstForBranching,first_5=first_1.firstForTerminal,interpreter=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,n){var r=t.call(this)||this;return r.topProd=e,r.path=n,r.possibleTokTypes=[],r.nextProductionName="",r.nextProductionOccurrence=0,r.found=!1,r.isAtEndOfPath=!1,r}return r(e,t),e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=utils.cloneArr(this.path.ruleStack).reverse(),this.occurrenceStack=utils.cloneArr(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(e,n){void 0===n&&(n=[]),this.found||t.prototype.walk.call(this,e,n)},e.prototype.walkProdRef=function(t,e,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){var r=e.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,r)}},e.prototype.updateExpectedNext=function(){utils.isEmpty(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(rest.RestWalker);e.AbstractNextPossibleTokensWalker=i;var o=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.path=n,r.nextTerminalName="",r.nextTerminalOccurrence=0,r.nextTerminalName=tokens_public.tokenName(r.path.lastTok),r.nextTerminalOccurrence=r.path.lastTokOccurrence,r}return r(e,t),e.prototype.walkTerminal=function(t,e,n){if(this.isAtEndOfPath&&tokens_public.tokenName(t.terminalType)===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){var r=e.concat(n),i=new gast_public.Flat({definition:r});this.possibleTokTypes=first_1.first(i),this.found=!0}},e}(i);e.NextAfterTokenWalker=o;var a=function(t){function e(e,n){var r=t.call(this)||this;return r.topRule=e,r.occurrence=n,r.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},r}return r(e,t),e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(rest.RestWalker);e.AbstractNextTerminalAfterProductionWalker=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.walkMany=function(e,n,r){if(e.idx===this.occurrence){var i=utils.first(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof gast_public.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkMany.call(this,e,n,r)},e}(a);e.NextTerminalAfterManyWalker=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.walkManySep=function(e,n,r){if(e.idx===this.occurrence){var i=utils.first(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof gast_public.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkManySep.call(this,e,n,r)},e}(a);e.NextTerminalAfterManySepWalker=u;var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.walkAtLeastOne=function(e,n,r){if(e.idx===this.occurrence){var i=utils.first(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof gast_public.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkAtLeastOne.call(this,e,n,r)},e}(a);e.NextTerminalAfterAtLeastOneWalker=l;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.walkAtLeastOneSep=function(e,n,r){if(e.idx===this.occurrence){var i=utils.first(n.concat(r));this.result.isEndOfRule=void 0===i,i instanceof gast_public.Terminal&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else t.prototype.walkAtLeastOneSep.call(this,e,n,r)},e}(a);function p(t,e,n,r){var i=utils.cloneArr(n);i.push(t.name);var o=utils.cloneArr(r);return o.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:o}}e.NextTerminalAfterAtLeastOneSepWalker=c,e.possiblePathsFrom=function t(e,n,r){void 0===r&&(r=[]),r=utils.cloneArr(r);var i=[],o=0;function a(a){var s=t(a.concat(utils.drop(e,o+1)),n,r);return i.concat(s)}for(;r.length<n&&o<e.length;){var s=e[o];if(s instanceof gast_public.Flat)return a(s.definition);if(s instanceof gast_public.NonTerminal)return a(s.definition);if(s instanceof gast_public.Option)i=a(s.definition);else{if(s instanceof gast_public.RepetitionMandatory)return a(s.definition);if(s instanceof gast_public.RepetitionMandatoryWithSeparator)return a(u=[new gast_public.Flat({definition:s.definition}),new gast_public.Repetition({definition:[new gast_public.Terminal({terminalType:s.separator})].concat(s.definition)})]);if(s instanceof gast_public.RepetitionWithSeparator){var u=s.definition.concat([new gast_public.Repetition({definition:[new gast_public.Terminal({terminalType:s.separator})].concat(s.definition)})]);i=a(u)}else if(s instanceof gast_public.Repetition)i=a(s.definition);else{if(s instanceof gast_public.Alternation)return utils.forEach(s.definition,function(t){i=a(t.definition)}),i;if(!(s instanceof gast_public.Terminal))throw Error("non exhaustive match");r.push(s.terminalType)}}o++}return i.push({partialPath:r,suffixDef:utils.drop(e,o)}),i},e.nextPossibleTokensAfter=function(t,e,n,r){var i=["EXIT_NONE_TERMINAL"],o=!1,a=e.length,s=a-r-1,u=[],l=[];for(l.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!utils.isEmpty(l);){var c=l.pop();if("EXIT_ALTERNATIVE"!==c){var E=c.def,f=c.idx,L=c.ruleStack,S=c.occurrenceStack;if(!utils.isEmpty(E)){var T=E[0];if("EXIT_NONE_TERMINAL"===T){var R={idx:f,def:utils.drop(E),ruleStack:utils.dropRight(L),occurrenceStack:utils.dropRight(S)};l.push(R)}else if(T instanceof gast_public.Terminal)if(f<a-1){var _=f+1;n(e[_],T.terminalType)&&(R={idx:_,def:utils.drop(E),ruleStack:L,occurrenceStack:S},l.push(R))}else{if(f!==a-1)throw Error("non exhaustive match");u.push({nextTokenType:T.terminalType,nextTokenOccurrence:T.idx,ruleStack:L,occurrenceStack:S}),o=!0}else if(T instanceof gast_public.NonTerminal){var N=utils.cloneArr(L);N.push(T.nonTerminalName);var U=utils.cloneArr(S);U.push(T.idx),R={idx:f,def:T.definition.concat(i,utils.drop(E)),ruleStack:N,occurrenceStack:U},l.push(R)}else if(T instanceof gast_public.Option){var A={idx:f,def:utils.drop(E),ruleStack:L,occurrenceStack:S};l.push(A),l.push("EXIT_ALTERNATIVE");var h={idx:f,def:T.definition.concat(utils.drop(E)),ruleStack:L,occurrenceStack:S};l.push(h)}else if(T instanceof gast_public.RepetitionMandatory){var d=new gast_public.Repetition({definition:T.definition,idx:T.idx});R={idx:f,def:T.definition.concat([d],utils.drop(E)),ruleStack:L,occurrenceStack:S},l.push(R)}else if(T instanceof gast_public.RepetitionMandatoryWithSeparator){var O=new gast_public.Terminal({terminalType:T.separator});d=new gast_public.Repetition({definition:[O].concat(T.definition),idx:T.idx}),R={idx:f,def:T.definition.concat([d],utils.drop(E)),ruleStack:L,occurrenceStack:S},l.push(R)}else if(T instanceof gast_public.RepetitionWithSeparator){A={idx:f,def:utils.drop(E),ruleStack:L,occurrenceStack:S},l.push(A),l.push("EXIT_ALTERNATIVE"),O=new gast_public.Terminal({terminalType:T.separator});var M=new gast_public.Repetition({definition:[O].concat(T.definition),idx:T.idx});h={idx:f,def:T.definition.concat([M],utils.drop(E)),ruleStack:L,occurrenceStack:S},l.push(h)}else if(T instanceof gast_public.Repetition)A={idx:f,def:utils.drop(E),ruleStack:L,occurrenceStack:S},l.push(A),l.push("EXIT_ALTERNATIVE"),M=new gast_public.Repetition({definition:T.definition,idx:T.idx}),h={idx:f,def:T.definition.concat([M],utils.drop(E)),ruleStack:L,occurrenceStack:S},l.push(h);else if(T instanceof gast_public.Alternation)for(var k=T.definition.length-1;k>=0;k--){var I={idx:f,def:T.definition[k].definition.concat(utils.drop(E)),ruleStack:L,occurrenceStack:S};l.push(I),l.push("EXIT_ALTERNATIVE")}else if(T instanceof gast_public.Flat)l.push({idx:f,def:T.definition.concat(utils.drop(E)),ruleStack:L,occurrenceStack:S});else{if(!(T instanceof gast_public.Rule))throw Error("non exhaustive match");l.push(p(T,f,L,S))}}}else o&&utils.last(l).idx<=s&&l.pop()}return u}});unwrapExports(interpreter);var interpreter_1=interpreter.AbstractNextPossibleTokensWalker,interpreter_2=interpreter.NextAfterTokenWalker,interpreter_3=interpreter.AbstractNextTerminalAfterProductionWalker,interpreter_4=interpreter.NextTerminalAfterManyWalker,interpreter_5=interpreter.NextTerminalAfterManySepWalker,interpreter_6=interpreter.NextTerminalAfterAtLeastOneWalker,interpreter_7=interpreter.NextTerminalAfterAtLeastOneSepWalker,interpreter_8=interpreter.possiblePathsFrom,interpreter_9=interpreter.nextPossibleTokensAfter,lookahead=createCommonjsModule(function(t,e){var n,r,i=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"}(r=e.PROD_TYPE||(e.PROD_TYPE={})),e.getProdType=function(t){if(t instanceof gast_public.Option)return r.OPTION;if(t instanceof gast_public.Repetition)return r.REPETITION;if(t instanceof gast_public.RepetitionMandatory)return r.REPETITION_MANDATORY;if(t instanceof gast_public.RepetitionMandatoryWithSeparator)return r.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof gast_public.RepetitionWithSeparator)return r.REPETITION_WITH_SEPARATOR;if(t instanceof gast_public.Alternation)return r.ALTERNATION;throw Error("non exhaustive match")},e.buildLookaheadFuncForOr=function(t,e,n,r,i,o){var a=u(t,e,n);return o(a,r,p(a)?tokens.tokenStructuredMatcherNoCategories:tokens.tokenStructuredMatcher,i)},e.buildLookaheadFuncForOptionalProd=function(t,e,n,r,i,o){var a=l(t,e,i,n),s=p(a)?tokens.tokenStructuredMatcherNoCategories:tokens.tokenStructuredMatcher;return o(a[0],s,r)},e.buildAlternativesLookAheadFunc=function(t,e,n,r){var i=t.length,o=utils.every(t,function(t){return utils.every(t,function(t){return 1===t.length})});if(e)return function(e){for(var r=utils.map(e,function(t){return t.GATE}),o=0;o<i;o++){var a=t[o],s=a.length,u=r[o];if(!u||u.call(this))t:for(var l=0;l<s;l++){for(var c=a[l],p=c.length,E=0;E<p;E++){var f=this.LA(E+1);if(!1===n(f,c[E]))continue t}return o}}};if(o&&!r){var a=utils.map(t,function(t){return utils.flatten(t)}),s=utils.reduce(a,function(t,e,n){return utils.forEach(e,function(e){utils.has(t,e.tokenTypeIdx)||(t[e.tokenTypeIdx]=n),utils.forEach(e.categoryMatches,function(e){utils.has(t,e)||(t[e]=n)})}),t},{});return function(){var t=this.LA(1);return s[t.tokenTypeIdx]}}return function(){for(var e=0;e<i;e++){var r=t[e],o=r.length;t:for(var a=0;a<o;a++){for(var s=r[a],u=s.length,l=0;l<u;l++){var c=this.LA(l+1);if(!1===n(c,s[l]))continue t}return e}}}},e.buildSingleAlternativeLookaheadFunction=function(t,e,n){var r=utils.every(t,function(t){return 1===t.length}),i=t.length;if(r&&!n){var o=utils.flatten(t);if(1===o.length&&utils.isEmpty(o[0].categoryMatches)){var a=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}var s=utils.reduce(o,function(t,e,n){return t[e.tokenTypeIdx]=!0,utils.forEach(e.categoryMatches,function(e){t[e]=!0}),t},{});return function(){var t=this.LA(1);return!0===s[t.tokenTypeIdx]}}return function(){t:for(var n=0;n<i;n++){for(var r=t[n],o=r.length,a=0;a<o;a++){var s=this.LA(a+1);if(!1===e(s,r[a]))continue t}return!0}return!1}};var o=function(t){function e(e,n,r){var i=t.call(this)||this;return i.topProd=e,i.targetOccurrence=n,i.targetProdType=r,i}return i(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(t,e,n,r){return t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.restDef=n.concat(r),!0)},e.prototype.walkOption=function(e,n,i){this.checkIsTarget(e,r.OPTION,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkAtLeastOne=function(e,n,i){this.checkIsTarget(e,r.REPETITION_MANDATORY,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkAtLeastOneSep=function(e,n,i){this.checkIsTarget(e,r.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkMany=function(e,n,i){this.checkIsTarget(e,r.REPETITION,n,i)||t.prototype.walkOption.call(this,e,n,i)},e.prototype.walkManySep=function(e,n,i){this.checkIsTarget(e,r.REPETITION_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,e,n,i)},e}(rest.RestWalker),a=function(t){function e(e,n){var r=t.call(this)||this;return r.targetOccurrence=e,r.targetProdType=n,r.result=[],r}return i(e,t),e.prototype.checkIsTarget=function(t,e){t.idx===this.targetOccurrence&&this.targetProdType===e&&(this.result=t.definition)},e.prototype.visitOption=function(t){this.checkIsTarget(t,r.OPTION)},e.prototype.visitRepetition=function(t){this.checkIsTarget(t,r.REPETITION)},e.prototype.visitRepetitionMandatory=function(t){this.checkIsTarget(t,r.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.checkIsTarget(t,r.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(t){this.checkIsTarget(t,r.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(t){this.checkIsTarget(t,r.ALTERNATION)},e}(gast_visitor_public.GAstVisitor);function s(t,e){function n(t,e){return utils.reduce(t,function(t,n,r){if(r!==e){var i=utils.map(n,function(t){return t.partialPath});return t.concat(i)}return t},[])}function r(t,e){return void 0===utils.find(t,function(t){return utils.every(e,function(e,n){return e===t[n]})})}function i(t){for(var e=[],n=0;n<t;n++)e.push([]);return e}for(var o=utils.map(t,function(t){return interpreter.possiblePathsFrom([t],1)}),a=i(o.length),s=o,u=1;u<=e;u++){var l=s;s=i(l.length);for(var p=0;p<l.length;p++)for(var E=l[p],f=n(l,p),L=0;L<E.length;L++){var S=E[L].partialPath,T=E[L].suffixDef;if(r(f,S)||utils.isEmpty(T)||S.length===e){var R=a[p];c(R,S)||R.push(S)}else{var _=interpreter.possiblePathsFrom(T,u+1,S);s[p]=s[p].concat(_)}}}return a}function u(t,e,n){var i=new a(t,r.ALTERNATION);return e.accept(i),s(i.result,n)}function l(t,e,n,r){var i=new a(t,n);e.accept(i);var u=i.result,l=new o(e,t,n).startWalking();return s([new gast_public.Flat({definition:u}),new gast_public.Flat({definition:l})],r)}function c(t,e){return void 0!==utils.find(t,function(t){return e.length===t.length&&utils.every(e,function(e,n){return e===t[n]})})}function p(t){return utils.every(t,function(t){return utils.every(t,function(t){return utils.every(t,function(t){return utils.isEmpty(t.categoryMatches)})})})}e.lookAheadSequenceFromAlternatives=s,e.getLookaheadPathsForOr=u,e.getLookaheadPathsForOptionalProd=l,e.containsPath=c,e.isStrictPrefixOfPath=function(t,e){return t.length<e.length&&utils.every(t,function(t,n){return t===e[n]})},e.areTokenCategoriesNotUsed=p});unwrapExports(lookahead);var lookahead_1=lookahead.PROD_TYPE,lookahead_2=lookahead.getProdType,lookahead_3=lookahead.buildLookaheadFuncForOr,lookahead_4=lookahead.buildLookaheadFuncForOptionalProd,lookahead_5=lookahead.buildAlternativesLookAheadFunc,lookahead_6=lookahead.buildSingleAlternativeLookaheadFunction,lookahead_7=lookahead.lookAheadSequenceFromAlternatives,lookahead_8=lookahead.getLookaheadPathsForOr,lookahead_9=lookahead.getLookaheadPathsForOptionalProd,lookahead_10=lookahead.containsPath,lookahead_11=lookahead.isStrictPrefixOfPath,lookahead_12=lookahead.areTokenCategoriesNotUsed,keys=createCommonjsModule(function(t,e){function n(t,e,n){return n|e|t}Object.defineProperty(e,"__esModule",{value:!0}),e.BITS_FOR_METHOD_IDX=4,e.BITS_FOR_OCCURRENCE_IDX=4,e.BITS_FOR_RULE_IDX=24,e.BITS_FOR_ALT_IDX=8,e.OR_IDX=1<<e.BITS_FOR_METHOD_IDX,e.OPTION_IDX=2<<e.BITS_FOR_METHOD_IDX,e.MANY_IDX=3<<e.BITS_FOR_METHOD_IDX,e.AT_LEAST_ONE_IDX=4<<e.BITS_FOR_METHOD_IDX,e.MANY_SEP_IDX=5<<e.BITS_FOR_METHOD_IDX,e.AT_LEAST_ONE_SEP_IDX=6<<e.BITS_FOR_METHOD_IDX,e.getKeyForAutomaticLookahead=n;var r=32-e.BITS_FOR_ALT_IDX;e.getKeyForAltIndex=function(t,e,i,o){var a=o+1<<r;return n(t,e,i)|a}});unwrapExports(keys);var keys_1=keys.BITS_FOR_METHOD_IDX,keys_2=keys.BITS_FOR_OCCURRENCE_IDX,keys_3=keys.BITS_FOR_RULE_IDX,keys_4=keys.BITS_FOR_ALT_IDX,keys_5=keys.OR_IDX,keys_6=keys.OPTION_IDX,keys_7=keys.MANY_IDX,keys_8=keys.AT_LEAST_ONE_IDX,keys_9=keys.MANY_SEP_IDX,keys_10=keys.AT_LEAST_ONE_SEP_IDX,keys_11=keys.getKeyForAutomaticLookahead,keys_12=keys.getKeyForAltIndex,cst=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.addTerminalToCst=function(t,e,n){void 0===t.children[n]?t.children[n]=[e]:t.children[n].push(e)},e.addNoneTerminalToCst=function(t,e,n){void 0===t.children[e]?t.children[e]=[n]:t.children[e].push(n)};var i=function(t){function e(e){var n=t.call(this)||this;return n.result=[],n.ruleIdx=e,n}return r(e,t),e.prototype.collectNamedDSLMethod=function(t,e,n){if(!utils.isUndefined(t.name)){var r=void 0;if(t instanceof gast_public.Option||t instanceof gast_public.Repetition||t instanceof gast_public.RepetitionMandatory||t instanceof gast_public.Alternation)r=new e({definition:t.definition,idx:t.idx});else{if(!(t instanceof gast_public.RepetitionMandatoryWithSeparator||t instanceof gast_public.RepetitionWithSeparator))throw Error("non exhaustive match");r=new e({definition:t.definition,idx:t.idx,separator:t.separator})}var i=[r],o=keys.getKeyForAutomaticLookahead(this.ruleIdx,n,t.idx);this.result.push({def:i,key:o,name:t.name,orgProd:t})}},e.prototype.visitOption=function(t){this.collectNamedDSLMethod(t,gast_public.Option,keys.OPTION_IDX)},e.prototype.visitRepetition=function(t){this.collectNamedDSLMethod(t,gast_public.Repetition,keys.MANY_IDX)},e.prototype.visitRepetitionMandatory=function(t){this.collectNamedDSLMethod(t,gast_public.RepetitionMandatory,keys.AT_LEAST_ONE_IDX)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.collectNamedDSLMethod(t,gast_public.RepetitionMandatoryWithSeparator,keys.AT_LEAST_ONE_SEP_IDX)},e.prototype.visitRepetitionWithSeparator=function(t){this.collectNamedDSLMethod(t,gast_public.RepetitionWithSeparator,keys.MANY_SEP_IDX)},e.prototype.visitAlternation=function(t){var e=this;this.collectNamedDSLMethod(t,gast_public.Alternation,keys.OR_IDX);var n=t.definition.length>1;utils.forEach(t.definition,function(r,i){if(!utils.isUndefined(r.name)){var o=r.definition;o=n?[new gast_public.Option({definition:r.definition})]:r.definition;var a=keys.getKeyForAltIndex(e.ruleIdx,keys.OR_IDX,t.idx,i);e.result.push({def:o,key:a,name:r.name,orgProd:r})}})},e}(gast_visitor_public.GAstVisitor);e.NamedDSLMethodsCollectorVisitor=i,e.analyzeCst=function(t,e){var n={dictDef:new lang_extensions.HashTable,allRuleNames:[]};return utils.forEach(t,function(t){var r=e.get(t.name);n.allRuleNames.push(t.name);var o=new i(r);t.accept(o),utils.forEach(o.result,function(e){e.def,e.key;var r=e.name;n.allRuleNames.push(t.name+r)})}),n}});unwrapExports(cst);var cst_1=cst.addTerminalToCst,cst_2=cst.addNoneTerminalToCst,cst_3=cst.NamedDSLMethodsCollectorVisitor,cst_4=cst.analyzeCst,version=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION="3.0.1"});unwrapExports(version);var version_1=version.VERSION,errors_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=utils;e.defaultParserErrorProvider={buildMismatchTokenMessage:function(t){var e=t.expected,n=t.actual;t.ruleName;return"Expecting "+(tokens_public.hasTokenLabel(e)?"--\x3e "+tokens_public.tokenLabel(e)+" <--":"token of type --\x3e "+tokens_public.tokenName(e)+" <--")+" but found --\x3e '"+n.image+"' <--"},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant;t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,r=t.actual,i=t.customUserDescription,o=(t.ruleName,"\nbut found: '"+n.first(r).image+"'");if(i)return"Expecting: "+i+o;var a=n.reduce(e,function(t,e){return t.concat(e)},[]),s=n.map(a,function(t){return"["+n.map(t,function(t){return tokens_public.tokenLabel(t)}).join(", ")+"]"});return"Expecting: "+("one of these possible Token sequences:\n"+n.map(s,function(t,e){return"  "+(e+1)+". "+t}).join("\n"))+o},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,r=t.actual,i=t.customUserDescription,o=(t.ruleName,"\nbut found: '"+n.first(r).image+"'");return i?"Expecting: "+i+o:"Expecting: "+("expecting at least one iteration which starts with one of these possible Token sequences::\n  <"+n.map(e,function(t){return"["+n.map(t,function(t){return tokens_public.tokenLabel(t)}).join(",")+"]"}).join(" ,")+">")+o}},Object.freeze(e.defaultParserErrorProvider),e.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+"<-\ninside top level rule: ->"+t.name+"<-"}},e.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(t,e){var r,i=t.name,o=n.first(e),a=o.idx,s=gast.getProductionDslName(o),u=(r=o)instanceof gast_public.Terminal?tokens_public.tokenName(r.terminalType):r instanceof gast_public.NonTerminal?r.nonTerminalName:"",l="->"+s+"<- with numerical suffix: ->"+a+"<-\n                  "+(u?"and argument: ->"+u+"<-":"")+"\n                  appears more than once ("+e.length+" times) in the top level rule: ->"+i+"<-.\n                  "+(0===a?"Also note that numerical suffix 0 means "+s+" without any suffix.":"")+"\n                  To fix this make sure each usage of "+s+" "+(u?"with the argument: ->"+u+"<-":"")+"\n                  in the rule ->"+i+"<- has a different occurrence index (0-5), as that combination acts as a unique\n                  position key in the grammar, which is needed by the parsing engine.\n                  \n                  For further details see: http://sap.github.io/chevrotain/website/FAQ.html#NUMERICAL_SUFFIXES \n                  ";return l=(l=l.replace(/[ \t]+/g," ")).replace(/\s\s+/g,"\n")},buildInvalidNestedRuleNameError:function(t,e){return"Invalid nested rule name: ->"+e.name+"<- inside rule: ->"+t.name+"<-\nit must match the pattern: ->"+checks.validNestedRuleName.toString()+"<-.\nNote that this means a nested rule name must start with the '$'(dollar) sign."},buildDuplicateNestedRuleNameError:function(t,e){return"Duplicate nested rule name: ->"+n.first(e).name+"<- inside rule: ->"+t.name+"<-\nA nested name must be unique in the scope of a top level grammar rule."},buildNamespaceConflictError:function(t){return"Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+">.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter."},buildAlternationPrefixAmbiguityError:function(t){var e=n.map(t.prefixPath,function(t){return tokens_public.tokenLabel(t)}).join(", "),r=0===t.alternation.idx?"":t.alternation.idx;return"Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> due to common lookahead prefix\nin <OR"+r+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\nhttp://sap.github.io/chevrotain/website/Building_Grammars/resolving_grammar_errors.html#COMMON_PREFIX For farther details."},buildAlternationAmbiguityError:function(t){var e=n.map(t.prefixPath,function(t){return tokens_public.tokenLabel(t)}).join(", "),r=0===t.alternation.idx?"":t.alternation.idx,i="Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+r+"> inside <"+t.topLevelRule.name+"> Rule,\n<"+e+"> may appears as a prefix path in all these alternatives.\n";return i=i+"To Resolve this, try one of of the following: \n1. Refactor your grammar to be LL(K) for the current value of k (by default k=5)\n2. Increase the value of K for your grammar by providing a larger 'maxLookahead' value in the parser's config\n3. This issue can be ignored (if you know what you are doing...), see http://sap.github.io/chevrotain/documentation/"+version.VERSION.replace(/\./g,"_")+"/interfaces/iparserconfig.html#ignoredissues for more details\n"},buildEmptyRepetitionError:function(t){var e=gast.getProductionDslName(t.repetition);return 0!==t.repetition.idx&&(e+=t.repetition.idx),"The repetition <"+e+"> within Rule <"+t.topLevelRule.name+"> can never consume any tokens.\nThis could lead to an infinite loop."},buildTokenNameError:function(t){return"Invalid Grammar Token name: ->"+tokens_public.tokenName(t.tokenType)+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildEmptyAlternationError:function(t){return"Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+"> in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\nOnly the last alternative may be an empty alternative."},buildTooManyAlternativesError:function(t){return"An Alternation cannot have more than 256 alternatives:\n<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+"> Rule.\n has "+(t.alternation.definition.length+1)+" alternatives."},buildLeftRecursionError:function(t){var e=t.topLevelRule.name;return"Left Recursion found in grammar.\nrule: <"+e+"> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n "+(e+" --\x3e "+utils.map(t.leftRecursionPath,function(t){return t.name}).concat([e]).join(" --\x3e "))+"\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring."},buildInvalidRuleNameError:function(t){return"Invalid grammar rule name: ->"+t.topLevelRule.name+"<- it must match the pattern: ->"+t.expectedPattern.toString()+"<-"},buildDuplicateRuleNameError:function(t){return"Duplicate definition, rule: ->"+(t.topLevelRule instanceof gast_public.Rule?t.topLevelRule.name:t.topLevelRule)+"<- is already defined in the grammar: ->"+t.grammarName+"<-"}}});unwrapExports(errors_public);var errors_public_1=errors_public.defaultParserErrorProvider,errors_public_2=errors_public.defaultGrammarResolverErrorProvider,errors_public_3=errors_public.defaultGrammarValidatorErrorProvider,checks=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=utils;function o(t){return gast.getProductionDslName(t)+"_#_"+t.idx+"_#_"+a(t)}function a(t){return t instanceof gast_public.Terminal?tokens_public.tokenName(t.terminalType):t instanceof gast_public.NonTerminal?t.nonTerminalName:""}e.validateGrammar=function(t,e,n,r,f,L){void 0===r&&(r={}),void 0===f&&(f=errors_public.defaultGrammarValidatorErrorProvider);var R=utils.map(t,function(t){return function(t,e){var n=new s;t.accept(n);var r=n.allProductions,i=utils.groupBy(r,o),u=utils.pick(i,function(t){return t.length>1});return utils.map(utils.values(u),function(n){var r=utils.first(n),i=e.buildDuplicateFoundError(t,n),o=gast.getProductionDslName(r),s={message:i,type:parser_public.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:o,occurrence:r.idx},u=a(r);return u&&(s.parameter=u),s})}(t,f)}),U=utils.map(t,function(t){return E(t,t,f)}),A=[],h=[];i.every(U,i.isEmpty)&&(A=i.map(t,function(t){return S(t,f)}),h=i.map(t,function(t){return T(t,e,r,f)}));var d=function(t,e,n){var r=[],o=i.map(e,function(t){return tokens_public.tokenName(t)});return i.forEach(t,function(t){var e=t.name;if(i.contains(o,e)){var a=n.buildNamespaceConflictError(t);r.push({message:a,type:parser_public.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:e})}}),r}(t,n,f),O=utils.map(n,function(t){return c(t,f)}),M=function(t,e){var n=[];return i.forEach(t,function(t){var r=new cst.NamedDSLMethodsCollectorVisitor("");t.accept(r);var o=i.map(r.result,function(t){return t.orgProd});n.push(i.map(o,function(n){return l(t,n,e)}))}),i.flatten(n)}(t,f),k=function(t,e){var n=[];return i.forEach(t,function(t){var r=new cst.NamedDSLMethodsCollectorVisitor("");t.accept(r);var o=i.groupBy(r.result,function(t){return t.name}),a=i.pick(o,function(t){return t.length>1});i.forEach(i.values(a),function(r){var o=i.map(r,function(t){return t.orgProd}),a=e.buildDuplicateNestedRuleNameError(t,o);n.push({message:a,type:parser_public.ParserDefinitionErrorType.DUPLICATE_NESTED_NAME,ruleName:t.name})})}),n}(t,f),I=N(t,e,f),C=i.map(t,function(t){return _(t,f)}),m=i.map(t,function(t){return u(t,f)}),g=i.map(t,function(e){return p(e,t,L,f)});return utils.flatten(R.concat(O,M,k,I,U,A,h,d,C,m,g))},e.identifyProductionForDuplicates=o;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return r(e,t),e.prototype.visitNonTerminal=function(t){this.allProductions.push(t)},e.prototype.visitOption=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e.prototype.visitAlternation=function(t){this.allProductions.push(t)},e.prototype.visitTerminal=function(t){this.allProductions.push(t)},e}(gast_visitor_public.GAstVisitor);function u(t,n){var r=[],i=t.name;return i.match(e.validTermsPattern)||r.push({message:n.buildInvalidRuleNameError({topLevelRule:t,expectedPattern:e.validTermsPattern}),type:parser_public.ParserDefinitionErrorType.INVALID_RULE_NAME,ruleName:i}),r}function l(t,n,r){var i,o=[];return n.name.match(e.validNestedRuleName)||(i=r.buildInvalidNestedRuleNameError(t,n),o.push({message:i,type:parser_public.ParserDefinitionErrorType.INVALID_NESTED_RULE_NAME,ruleName:t.name})),o}function c(t,n){var r=[];return tokens_public.tokenName(t).match(e.validTermsPattern)||r.push({message:n.buildTokenNameError({tokenType:t,expectedPattern:e.validTermsPattern}),type:parser_public.ParserDefinitionErrorType.INVALID_TOKEN_NAME}),r}function p(t,e,n,r){var o=[];if(i.reduce(e,function(e,n){return n.name===t.name?e+1:e},0)>1){var a=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});o.push({message:a,type:parser_public.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t.name})}return o}function E(t,e,n,r){void 0===r&&(r=[]);var i=[],o=f(e.definition);if(utils.isEmpty(o))return[];var a=t.name;utils.contains(o,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:parser_public.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:a});var s=utils.difference(o,r.concat([t])),u=utils.map(s,function(e){var i=utils.cloneArr(r);return i.push(e),E(t,e,n,i)});return i.concat(utils.flatten(u))}function f(t){var e=[];if(utils.isEmpty(t))return e;var n=utils.first(t);if(n instanceof gast_public.NonTerminal)e.push(n.referencedRule);else if(n instanceof gast_public.Flat||n instanceof gast_public.Option||n instanceof gast_public.RepetitionMandatory||n instanceof gast_public.RepetitionMandatoryWithSeparator||n instanceof gast_public.RepetitionWithSeparator||n instanceof gast_public.Repetition)e=e.concat(f(n.definition));else if(n instanceof gast_public.Alternation)e=utils.flatten(utils.map(n.definition,function(t){return f(t.definition)}));else if(!(n instanceof gast_public.Terminal))throw Error("non exhaustive match");var r=gast.isOptionalProd(n),i=t.length>1;if(r&&i){var o=utils.drop(t);return e.concat(f(o))}return e}e.OccurrenceValidationCollector=s,e.validTermsPattern=/^[a-zA-Z_]\w*$/,e.validNestedRuleName=new RegExp(e.validTermsPattern.source.replace("^","^\\$")),e.validateRuleName=u,e.validateNestedRuleName=l,e.validateTokenName=c,e.validateRuleDoesNotAlreadyExist=p,e.validateRuleIsOverridden=function(t,e,n){var r,i=[];return utils.contains(e,t)||(r="Invalid rule override, rule: ->"+t+"<- cannot be overridden in the grammar: ->"+n+"<-as it is not defined in any of the super grammars ",i.push({message:r,type:parser_public.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:t})),i},e.validateNoLeftRecursion=E,e.getFirstNoneTerminal=f;var L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.alternations=[],e}return r(e,t),e.prototype.visitAlternation=function(t){this.alternations.push(t)},e}(gast_visitor_public.GAstVisitor);function S(t,e){var n=new L;t.accept(n);var r=n.alternations;return utils.reduce(r,function(n,r){var i=utils.dropRight(r.definition),o=utils.map(i,function(n,i){var o=interpreter.nextPossibleTokensAfter([n],[],null,1);return utils.isEmpty(o)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:r,emptyChoiceIdx:i}),type:parser_public.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:r.idx,alternative:i+1}:null});return n.concat(utils.compact(o))},[])}function T(t,e,n,r){var o=new L;t.accept(o);var a=o.alternations,s=n[t.name];return s&&(a=i.reject(a,function(t){return s[gast.getProductionDslName(t)+(0===t.idx?"":t.idx)]})),utils.reduce(a,function(n,o){var a=o.idx,s=lookahead.getLookaheadPathsForOr(a,t,e),u=function(t,e,n,r){var o=[],a=i.reduce(t,function(e,n,r){return i.forEach(n,function(n){var a=[r];i.forEach(t,function(t,e){r!==e&&lookahead.containsPath(t,n)&&a.push(e)}),a.length>1&&!lookahead.containsPath(o,n)&&(o.push(n),e.push({alts:a,path:n}))}),e},[]);return utils.map(a,function(t){var o=i.map(t.alts,function(t){return t+1}),a=r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:o,prefixPath:t.path});return{message:a,type:parser_public.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:[t.alts]}})}(s,o,t,r),l=function(t,e,n,r){var o=[],a=i.reduce(t,function(t,e,n){var r=i.map(e,function(t){return{idx:n,path:t}});return t.concat(r)},[]);return i.forEach(a,function(t){var s=t.idx,u=t.path,l=i.findAll(a,function(t){return t.idx<s&&lookahead.isStrictPrefixOfPath(t.path,u)}),c=i.map(l,function(t){var i=[t.idx+1,s+1],o=0===e.idx?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:i,prefixPath:t.path}),type:parser_public.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:o,alternatives:i}});o=o.concat(c)}),o}(s,o,t,r);return n.concat(u,l)},[])}e.validateEmptyOrAlternative=S,e.validateAmbiguousAlternationAlternatives=T;var R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.allProductions=[],e}return r(e,t),e.prototype.visitRepetitionWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatory=function(t){this.allProductions.push(t)},e.prototype.visitRepetitionMandatoryWithSeparator=function(t){this.allProductions.push(t)},e.prototype.visitRepetition=function(t){this.allProductions.push(t)},e}(gast_visitor_public.GAstVisitor);function _(t,e){var n=new L;t.accept(n);var r=n.alternations;return utils.reduce(r,function(n,r){return r.definition.length>255&&n.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:r}),type:parser_public.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:t.name,occurrence:r.idx}),n},[])}function N(t,e,n){var r=[];return i.forEach(t,function(t){var o=new R;t.accept(o);var a=o.allProductions;i.forEach(a,function(o){var a=lookahead.getProdType(o),s=o.idx,u=lookahead.getLookaheadPathsForOptionalProd(s,t,a,e)[0];if(i.isEmpty(i.flatten(u))){var l=n.buildEmptyRepetitionError({topLevelRule:t,repetition:o});r.push({message:l,type:parser_public.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:t.name})}})}),r}e.RepetionCollector=R,e.validateTooManyAlts=_,e.validateSomeNonEmptyLookaheadPath=N});unwrapExports(checks);var checks_1=checks.validateGrammar,checks_2=checks.identifyProductionForDuplicates,checks_3=checks.OccurrenceValidationCollector,checks_4=checks.validTermsPattern,checks_5=checks.validNestedRuleName,checks_6=checks.validateRuleName,checks_7=checks.validateNestedRuleName,checks_8=checks.validateTokenName,checks_9=checks.validateRuleDoesNotAlreadyExist,checks_10=checks.validateRuleIsOverridden,checks_11=checks.validateNoLeftRecursion,checks_12=checks.getFirstNoneTerminal,checks_13=checks.validateEmptyOrAlternative,checks_14=checks.validateAmbiguousAlternationAlternatives,checks_15=checks.RepetionCollector,checks_16=checks.validateTooManyAlts,checks_17=checks.validateSomeNonEmptyLookaheadPath,constants=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.IN="_~IN~_"});unwrapExports(constants);var constants_1=constants.IN,follow=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n.topProd=e,n.follows=new lang_extensions.HashTable,n}return r(e,t),e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(t,e,n){},e.prototype.walkProdRef=function(t,e,n){var r=o(t.referencedRule,t.idx)+this.topProd.name,i=e.concat(n),a=new gast_public.Flat({definition:i}),s=first_1.first(a);this.follows.put(r,s)},e}(rest.RestWalker);function o(t,e){return t.name+e+constants.IN}e.ResyncFollowsWalker=i,e.computeAllProdsFollows=function(t){var e=new lang_extensions.HashTable;return utils.forEach(t,function(t){var n=new i(t).startWalking();e.putAll(n)}),e},e.buildBetweenProdsFollowPrefix=o,e.buildInProdFollowPrefix=function(t){return tokens_public.tokenName(t.terminalType)+t.idx+constants.IN}});unwrapExports(follow);var follow_1=follow.ResyncFollowsWalker,follow_2=follow.computeAllProdsFollows,follow_3=follow.buildBetweenProdsFollowPrefix,follow_4=follow.buildInProdFollowPrefix,range=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){if(this.start=t,this.end=e,!r(t,e))throw new Error("INVALID RANGE")}return t.prototype.contains=function(t){return this.start<=t&&this.end>=t},t.prototype.containsRange=function(t){return this.start<=t.start&&this.end>=t.end},t.prototype.isContainedInRange=function(t){return t.containsRange(this)},t.prototype.strictlyContainsRange=function(t){return this.start<t.start&&this.end>t.end},t.prototype.isStrictlyContainedInRange=function(t){return t.strictlyContainsRange(this)},t}();function r(t,e){return!(t<0||e<t)}e.Range=n,e.isValidRange=r});unwrapExports(range);var range_1=range.Range,range_2=range.isValidRange,gast_builder=createCommonjsModule(function(t,e){var n;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.OPTION=0]="OPTION",t[t.OR=1]="OR",t[t.MANY=2]="MANY",t[t.MANY_SEP=3]="MANY_SEP",t[t.AT_LEAST_ONE=4]="AT_LEAST_ONE",t[t.AT_LEAST_ONE_SEP=5]="AT_LEAST_ONE_SEP",t[t.REF=6]="REF",t[t.TERMINAL=7]="TERMINAL",t[t.FLAT=8]="FLAT"}(n=e.ProdType||(e.ProdType={}));var r=/(?:\s*{\s*NAME\s*:\s*["'`]([\w$]*)["'`])?/,i=new RegExp(r.source.replace("{","").replace(")?","\\s*,)?")),o=/\.\s*CONSUME(\d+)?\s*\(\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,a=new RegExp(o.source,"g"),s=/\.\s*SUBRULE(\d+)?\s*\(\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,u=new RegExp(s.source,"g"),l=/\.\s*OPTION(\d+)?\s*\(/,c=new RegExp(l.source+r.source),p=new RegExp(l.source,"g"),E=/\.\s*MANY(\d+)?\s*\(/,f=new RegExp(E.source+r.source),L=new RegExp(E.source,"g"),S=/\s*SEP\s*:\s*(?:[a-zA-Z_$]\w*\s*\.\s*)*([a-zA-Z_$]\w*)/,T=new RegExp(/\.\s*MANY_SEP(\d+)?\s*\(\s*{/.source+i.source+S.source),R=new RegExp(T.source,"g"),_=new RegExp(/\.\s*AT_LEAST_ONE_SEP(\d+)?\s*\(\s*{/.source+i.source+S.source),N=new RegExp(_.source,"g"),U=/\.\s*AT_LEAST_ONE(\d+)?\s*\(/,A=new RegExp(U.source+r.source),h=new RegExp(U.source,"g"),d=/\.\s*OR(\d+)?\s*\(/,O=new RegExp(d.source+r.source),M=new RegExp(d.source,"g"),k=new RegExp(i.source+/\s*(ALT)\s*:/.source),I=new RegExp(k.source,"g");function C(t,r){switch(t.type){case n.AT_LEAST_ONE:return function(t,e){return m(A,new gast_public.RepetitionMandatory({definition:[]}),t,e)}(t,r);case n.AT_LEAST_ONE_SEP:return function(t,e){return g(t,e,gast_public.RepetitionMandatoryWithSeparator,_)}(t,r);case n.MANY_SEP:return function(t,e){return g(t,e,gast_public.RepetitionWithSeparator,T)}(t,r);case n.MANY:return function(t,e){return m(f,new gast_public.Repetition({definition:[]}),t,e)}(t,r);case n.OPTION:return function(t,e){return m(c,new gast_public.Option({definition:[]}),t,e)}(t,r);case n.OR:return function(t,e){return m(O,new gast_public.Alternation({definition:[]}),t,e)}(t,r);case n.FLAT:return function(t,e){var n=new gast_public.Flat({definition:[]}),r=k.exec(t.text)[1];utils.isUndefined(r)||(n.name=r);return y(n,t.range,e)}(t,r);case n.REF:return function(t){var e=s.exec(t.text),n=void 0===e[1]?0:parseInt(e[1],10),r=e[2];return new gast_public.NonTerminal({nonTerminalName:r,idx:n})}(t);case n.TERMINAL:return function(t){var n=o.exec(t.text),r=void 0===n[1]?0:parseInt(n[1],10),i=n[2],a=e.terminalNameToConstructor[i];if(!a)throw Error("Terminal Token name: "+i+" not found");return new gast_public.Terminal({terminalType:a,idx:r})}(t);default:throw Error("non exhaustive match")}}function m(t,e,n,r){var i=t.exec(n.text),o=void 0===i[1];e.idx=o?0:parseInt(i[1],10);var a=i[2];return utils.isUndefined(a)||(e.name=a),y(e,n.range,r)}function g(t,n,r,i){var o=i.exec(t.text),a=void 0===o[1],s=a?0:parseInt(o[1],10),u=o[3],l=e.terminalNameToConstructor[u];if(!l)throw Error("Separator Terminal Token name: "+u+" not found");var c=new r({definition:[],separator:l,idx:s});c.implicitOccurrenceIndex=a;var p=o[2];return utils.isUndefined(p)||(c.name=p),y(c,t.range,n)}function y(t,e,n){var r=P(e,n),i=utils.sortBy(r,function(t){return t.range.start}),o=[];return utils.forEach(i,function(t){o.push(C(t,n))}),t.definition=o,t}function P(t,e){return utils.filter(e,function(n){var r=t.strictlyContainsRange(n.range),i=utils.every(e,function(e){var r=e.range.strictlyContainsRange(n.range),i=e.range.isStrictlyContainedInRange(t);return!(r&&i)});return r&&i})}e.terminalNameToConstructor={},e.buildTopProduction=function(t,n,r){e.terminalNameToConstructor=r;var i=w(G(b("  "+t)));return function(t,e,n,r){return y(new gast_public.Rule({name:t,definition:[],orgText:r}),e,n)}(n,new range.Range(0,t.length+2),i,t)},e.buildProdGast=C,e.getDirectlyContainedRanges=P;var v=/\/\/.*/g,B=/\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\//g,x=/(NAME\s*:\s*)?"([^\\"]|\\([bfnrtv"\\\/]|u[0-9a-fA-F]{4}))*"/g,D=/(NAME\s*:\s*)?'([^\\']|\\([bfnrtv'\\\/]|u[0-9a-fA-F]{4}))*'/g;function b(t){return t.replace(v,"").replace(B,"")}function F(t,e){return void 0!==e?t:""}function G(t){return t.replace(x,F).replace(D,F)}function w(t){var e=V(t),n=H(t),r=j(t),i=$(t),o=W(t),a=X(t),s=K(t),u=Y(t);return[].concat(e,n,r,i,o,a,s,u)}function V(t){return Z(t,n.TERMINAL,a)}function H(t){return Z(t,n.REF,u)}function j(t){return J(t,n.AT_LEAST_ONE,h)}function $(t){return J(t,n.AT_LEAST_ONE_SEP,N)}function W(t){return J(t,n.MANY,L)}function X(t){return J(t,n.MANY_SEP,R)}function K(t){return J(t,n.OPTION,p)}function Y(t){var e=J(t,n.OR,M),r=z(e);return e.concat(r)}e.removeComments=b,e.removeStringLiterals=G,e.createRanges=w,e.createTerminalRanges=V,e.createRefsRanges=H,e.createAtLeastOneRanges=j,e.createAtLeastOneSepRanges=$,e.createManyRanges=W,e.createManySepRanges=X,e.createOptionRanges=K,e.createOrRanges=Y;var Q=utils.partial(et,"{","}"),q=utils.partial(et,"(",")");function z(t){var e=[];return utils.forEach(t,function(t){var r=tt(t.text,n.FLAT,I,Q),i=t.range.start;utils.forEach(r,function(t){t.range.start+=i,t.range.end+=i}),e=e.concat(r)}),utils.uniq(e,function(t){return t.type+"~"+t.range.start+"~"+t.range.end+"~"+t.text})}function Z(t,e,n){for(var r,i=[];r=n.exec(t);){var o=r.index,a=n.lastIndex,s=new range.Range(o,a),u=r[0];i.push({range:s,text:u,type:e})}return i}function J(t,e,n){return tt(t,e,n,q)}function tt(t,e,n,r){for(var i,o=[];i=n.exec(t);){var a=i.index,s=r(a+i[0].length,t),u=new range.Range(a,s),l=t.substr(a,s-a+1);o.push({range:u,text:l,type:e})}return o}function et(t,e,n,r){for(var i=[1],o=-1;!utils.isEmpty(i)&&o+n<r.length;){o++;var a=r.charAt(n+o);a===t?i.push(1):a===e&&i.pop()}if(utils.isEmpty(i))return o+n;throw new Error("INVALID INPUT TEXT, UNTERMINATED PARENTHESIS")}e.createOrPartRanges=z,e.findClosingOffset=et});unwrapExports(gast_builder);var gast_builder_1=gast_builder.ProdType,gast_builder_2=gast_builder.terminalNameToConstructor,gast_builder_3=gast_builder.buildTopProduction,gast_builder_4=gast_builder.buildProdGast,gast_builder_5=gast_builder.getDirectlyContainedRanges,gast_builder_6=gast_builder.removeComments,gast_builder_7=gast_builder.removeStringLiterals,gast_builder_8=gast_builder.createRanges,gast_builder_9=gast_builder.createTerminalRanges,gast_builder_10=gast_builder.createRefsRanges,gast_builder_11=gast_builder.createAtLeastOneRanges,gast_builder_12=gast_builder.createAtLeastOneSepRanges,gast_builder_13=gast_builder.createManyRanges,gast_builder_14=gast_builder.createManySepRanges,gast_builder_15=gast_builder.createOptionRanges,gast_builder_16=gast_builder.createOrRanges,gast_builder_17=gast_builder.createOrPartRanges,gast_builder_18=gast_builder.findClosingOffset,cst_visitor=createCommonjsModule(function(t,e){function n(t,e){for(var n=utils.keys(t),r=n.length,i=0;i<r;i++)for(var o=t[n[i]],a=o.length,s=0;s<a;s++){var u=o[s];void 0===u.tokenTypeIdx&&(void 0!==u.fullName?this[u.fullName](u.children,e):this[u.name](u.children,e))}}var r;function i(t,e){var n=o(t,e),r=s(t,e);return n.concat(r)}function o(t,e){var n=utils.map(e,function(e){if(!utils.isFunction(t[e]))return{msg:"Missing visitor method: <"+e+"> on "+lang_extensions.functionName(t.constructor)+" CST Visitor.",type:r.MISSING_METHOD,methodName:e}});return utils.compact(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.defaultVisit=n,e.createBaseSemanticVisitorConstructor=function(t,e){var n=function(){};return lang_extensions.defineNameProp(n,t+"BaseSemantics"),(n.prototype={visit:function(t,e){if(utils.isArray(t)&&(t=t[0]),!utils.isUndefined(t))return void 0!==t.fullName?this[t.fullName](t.children,e):this[t.name](t.children,e)},validateVisitor:function(){var t=i(this,e);if(!utils.isEmpty(t)){var n=utils.map(t,function(t){return t.msg});throw Error("Errors Detected in CST Visitor <"+lang_extensions.functionName(this.constructor)+">:\n\t"+n.join("\n\n").replace(/\n/g,"\n\t"))}}}).constructor=n,n._RULE_NAMES=e,n},e.createBaseVisitorConstructorWithDefaults=function(t,e,r){var i=function(){};lang_extensions.defineNameProp(i,t+"BaseSemanticsWithDefaults");var o=Object.create(r.prototype);return utils.forEach(e,function(t){o[t]=n}),(i.prototype=o).constructor=i,i},function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"}(r=e.CstVisitorDefinitionError||(e.CstVisitorDefinitionError={})),e.validateVisitor=i,e.validateMissingCstMethods=o;var a=["constructor","visit","validateVisitor"];function s(t,e){var n=[];for(var i in t)checks.validTermsPattern.test(i)&&utils.isFunction(t[i])&&!utils.contains(a,i)&&!utils.contains(e,i)&&n.push({msg:"Redundant visitor method: <"+i+"> on "+lang_extensions.functionName(t.constructor)+" CST Visitor\nThere is no Grammar Rule corresponding to this method's name.\nFor utility methods on visitor classes use methods names that do not match /"+checks.validTermsPattern.source+"/.",type:r.REDUNDANT_METHOD,methodName:i});return n}e.validateRedundantMethods=s});unwrapExports(cst_visitor);var cst_visitor_1=cst_visitor.defaultVisit,cst_visitor_2=cst_visitor.createBaseSemanticVisitorConstructor,cst_visitor_3=cst_visitor.createBaseVisitorConstructorWithDefaults,cst_visitor_4=cst_visitor.CstVisitorDefinitionError,cst_visitor_5=cst_visitor.validateVisitor,cst_visitor_6=cst_visitor.validateMissingCstMethods,cst_visitor_7=cst_visitor.validateRedundantMethods,resolver=createCommonjsModule(function(t,e){var n,r=commonjsGlobal&&commonjsGlobal.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.resolveGrammar=function(t,e){void 0===e&&(e=errors_public.defaultGrammarResolverErrorProvider);var n=new i(t,e);return n.resolveRefs(),n.errors};var i=function(t){function e(e,n){var r=t.call(this)||this;return r.nameToTopRule=e,r.errMsgProvider=n,r.errors=[],r}return r(e,t),e.prototype.resolveRefs=function(){var t=this;utils.forEach(this.nameToTopRule.values(),function(e){t.currTopLevel=e,e.accept(t)})},e.prototype.visitNonTerminal=function(t){var e=this.nameToTopRule.get(t.nonTerminalName);if(e)t.referencedRule=e;else{var n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:parser_public.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}},e}(gast_visitor_public.GAstVisitor);e.GastRefResolverVisitor=i});unwrapExports(resolver);var resolver_1=resolver.resolveGrammar,resolver_2=resolver.GastRefResolverVisitor,gast_resolver_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.resolveGrammar=function(t){var e=new lang_extensions.HashTable;return utils.forEach(t.rules,function(t){e.put(t.name,t)}),resolver.resolveGrammar(e)},e.validateGrammar=function(t){return checks.validateGrammar(t.rules,t.maxLookahead,t.tokenTypes,t.ignoredIssues,t.errMsgProvider?t.errMsgProvider:errors_public.defaultGrammarValidatorErrorProvider,t.grammarName)},e.assignOccurrenceIndices=function(t){utils.forEach(t.rules,function(t){var e=new gast.DslMethodsCollectorVisitor;t.accept(e),utils.forEach(e.dslMethods,function(t){utils.forEach(t,function(t,e){t.idx=e+1})})})}});unwrapExports(gast_resolver_public);var gast_resolver_public_1=gast_resolver_public.resolveGrammar,gast_resolver_public_2=gast_resolver_public.validateGrammar,gast_resolver_public_3=gast_resolver_public.assignOccurrenceIndices,parser_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=cache;!function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.INVALID_NESTED_RULE_NAME=10]="INVALID_NESTED_RULE_NAME",t[t.DUPLICATE_NESTED_NAME=11]="DUPLICATE_NESTED_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=12]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=13]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=14]="TOO_MANY_ALTS"}(n=e.ParserDefinitionErrorType||(e.ParserDefinitionErrorType={}));var i="InRuleRecoveryException";e.END_OF_FILE=tokens_public.createTokenInstance(tokens_public.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN),Object.freeze(e.END_OF_FILE);var o=Object.freeze({recoveryEnabled:!1,maxLookahead:4,ignoredIssues:{},dynamicTokensEnabled:!1,outputCst:!1,errorMessageProvider:errors_public.defaultParserErrorProvider}),a=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});e.EMPTY_ALT=function(t){return void 0===t&&(t=void 0),function(){return t}};var s={},u=function(){function t(t,e,n){if(void 0===n&&(n=o),this._errors=[],this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.CST_STACK=[],this.tokensMap=void 0,this.definedRulesNames=[],this.shortRuleNameToFull=new lang_extensions.HashTable,this.fullRuleNameToShort=new lang_extensions.HashTable,this.ruleShortNameIdx=256,this.LAST_EXPLICIT_RULE_STACK=[],this.selfAnalysisDone=!1,this.currIdx=-1,this._productions=new lang_extensions.HashTable,this.input=t,this.recoveryEnabled=utils.has(n,"recoveryEnabled")?n.recoveryEnabled:o.recoveryEnabled,this.recoveryEnabled||(this.attemptInRepetitionRecovery=utils.NOOP),this.dynamicTokensEnabled=utils.has(n,"dynamicTokensEnabled")?n.dynamicTokensEnabled:o.dynamicTokensEnabled,this.maxLookahead=utils.has(n,"maxLookahead")?n.maxLookahead:o.maxLookahead,this.ignoredIssues=utils.has(n,"ignoredIssues")?n.ignoredIssues:o.ignoredIssues,this.outputCst=utils.has(n,"outputCst")?n.outputCst:o.outputCst,this.errorMessageProvider=utils.defaults(n.errorMessageProvider,o.errorMessageProvider),this.outputCst||(this.cstInvocationStateUpdate=utils.NOOP,this.cstFinallyStateUpdate=utils.NOOP,this.cstPostTerminal=utils.NOOP,this.cstPostNonTerminal=utils.NOOP,this.getLastExplicitRuleShortName=this.getLastExplicitRuleShortNameNoCst,this.getPreviousExplicitRuleShortName=this.getPreviousExplicitRuleShortNameNoCst,this.getLastExplicitRuleOccurrenceIndex=this.getLastExplicitRuleOccurrenceIndexNoCst,this.manyInternal=this.manyInternalNoCst,this.orInternal=this.orInternalNoCst,this.optionInternal=this.optionInternalNoCst,this.atLeastOneInternal=this.atLeastOneInternalNoCst,this.manySepFirstInternal=this.manySepFirstInternalNoCst,this.atLeastOneSepFirstInternal=this.atLeastOneSepFirstInternalNoCst),this.className=lang_extensions.classNameFromInstance(this),this.firstAfterRepMap=cache.getFirstAfterRepForClass(this.className),this.classLAFuncs=cache.getLookaheadFuncsForClass(this.className),cache.CLASS_TO_DEFINITION_ERRORS.containsKey(this.className)?this.definitionErrors=cache.CLASS_TO_DEFINITION_ERRORS.get(this.className):(this.definitionErrors=[],cache.CLASS_TO_DEFINITION_ERRORS.put(this.className,this.definitionErrors)),utils.isArray(e))this.tokensMap=utils.reduce(e,function(t,e){return t[tokens_public.tokenName(e)]=e,t},{});else if(utils.has(e,"modes")&&utils.every(utils.flatten(utils.values(e.modes)),tokens.isTokenType)){var r=utils.flatten(utils.values(e.modes)),i=utils.uniq(r);this.tokensMap=utils.reduce(i,function(t,e){return t[tokens_public.tokenName(e)]=e,t},{})}else{if(!utils.isObject(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=utils.cloneObj(e)}var a=utils.every(utils.values(e),function(t){return utils.isEmpty(t.categoryMatches)});this.tokenMatcher=a?tokens.tokenStructuredMatcherNoCategories:tokens.tokenStructuredMatcher,this.tokensMap.EOF=tokens_public.EOF,tokens.augmentTokenTypes(utils.values(this.tokensMap))}return t.performSelfAnalysis=function(e){var n,r=[];e.selfAnalysisDone=!0;var i=lang_extensions.classNameFromInstance(e);if(""===i)throw Error("A Parser's constructor may not be an anonymous Function, it must be a named function\nThe constructor's name is used at runtime for performance (caching) purposes.");if(!cache.CLASS_TO_SELF_ANALYSIS_DONE.containsKey(i)){cache.CLASS_TO_SELF_ANALYSIS_DONE.put(i,!0);var o=e._productions,a=new lang_extensions.HashTable;utils.forEach(o.keys(),function(t){var e=o.get(t);a.put(t,gast.cloneProduction(e))}),cache.getProductionsForClass(i).putAll(a),r=cache.CLASS_TO_DEFINITION_ERRORS.get(i);var s=gast_resolver_public.resolveGrammar({rules:a.values()});if(r.push.apply(r,s),utils.isEmpty(s)){var u=gast_resolver_public.validateGrammar({rules:a.values(),maxLookahead:e.maxLookahead,tokenTypes:utils.values(e.tokensMap),ignoredIssues:e.ignoredIssues,errMsgProvider:errors_public.defaultGrammarValidatorErrorProvider,grammarName:i});r.push.apply(r,u)}if(!utils.isEmpty(r)&&!t.DEFER_DEFINITION_ERRORS_HANDLING)throw n=utils.map(r,function(t){return t.message}),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"));if(utils.isEmpty(r)){var l=follow.computeAllProdsFollows(a.values());cache.setResyncFollowsForClass(i,l)}var c=cst.analyzeCst(a.values(),e.fullRuleNameToShort);cache.CLASS_TO_ALL_RULE_NAMES.put(i,c.allRuleNames)}if(!utils.isEmpty(cache.CLASS_TO_DEFINITION_ERRORS.get(i))&&!t.DEFER_DEFINITION_ERRORS_HANDLING)throw n=utils.map(cache.CLASS_TO_DEFINITION_ERRORS.get(i),function(t){return t.message}),new Error("Parser Definition Errors detected:\n "+n.join("\n-------------------------------\n"))},Object.defineProperty(t.prototype,"errors",{get:function(){return utils.cloneArr(this._errors)},set:function(t){this._errors=t},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.LAST_EXPLICIT_RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),tokens_public.EOF)},t.prototype.getBaseCstVisitorConstructor=function(){var t=r.CLASS_TO_BASE_CST_VISITOR.get(this.className);if(utils.isUndefined(t)){var e=r.CLASS_TO_ALL_RULE_NAMES.get(this.className);t=cst_visitor.createBaseSemanticVisitorConstructor(this.className,e),r.CLASS_TO_BASE_CST_VISITOR.put(this.className,t)}return t},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){var t=r.CLASS_TO_BASE_CST_VISITOR_WITH_DEFAULTS.get(this.className);if(utils.isUndefined(t)){var e=r.CLASS_TO_ALL_RULE_NAMES.get(this.className),n=this.getBaseCstVisitorConstructor();t=cst_visitor.createBaseVisitorConstructorWithDefaults(this.className,e,n),r.CLASS_TO_BASE_CST_VISITOR_WITH_DEFAULTS.put(this.className,t)}return t},t.prototype.getGAstProductions=function(){return cache.getProductionsForClass(this.className)},t.prototype.getSerializedGastProductions=function(){return gast_public.serializeGrammar(cache.getProductionsForClass(this.className).values())},t.prototype.computeContentAssist=function(t,e){var n=cache.getProductionsForClass(this.className).get(t);if(utils.isUndefined(n))throw Error("Rule ->"+t+"<- does not exist in this grammar.");return interpreter.nextPossibleTokensAfter([n],e,this.tokenMatcher,this.maxLookahead)},t.prototype.isBackTracking=function(){return!utils.isEmpty(this.isBackTrackingStack)},t.prototype.getCurrRuleFullName=function(){var t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull.get(t)},t.prototype.shortRuleNameToFullName=function(t){return this.shortRuleNameToFull.get(t)},t.prototype.getHumanReadableRuleStack=function(){var t=this;return utils.isEmpty(this.LAST_EXPLICIT_RULE_STACK)?utils.map(this.RULE_STACK,function(e){return t.shortRuleNameToFullName(e)}):utils.map(this.LAST_EXPLICIT_RULE_STACK,function(e){return t.shortRuleNameToFullName(t.RULE_STACK[e])})},t.prototype.SAVE_ERROR=function(t){if(exceptions_public.isRecognitionException(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:utils.cloneArr(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")},t.prototype.BACKTRACK=function(t,e){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return t.apply(this,e),!0}catch(t){if(exceptions_public.isRecognitionException(t))return!1;throw t}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.CONSUME=function(t,e){return this.consumeInternal(t,0,e)},t.prototype.CONSUME1=function(t,e){return this.consumeInternal(t,1,e)},t.prototype.CONSUME2=function(t,e){return this.consumeInternal(t,2,e)},t.prototype.CONSUME3=function(t,e){return this.consumeInternal(t,3,e)},t.prototype.CONSUME4=function(t,e){return this.consumeInternal(t,4,e)},t.prototype.CONSUME5=function(t,e){return this.consumeInternal(t,5,e)},t.prototype.CONSUME6=function(t,e){return this.consumeInternal(t,6,e)},t.prototype.CONSUME7=function(t,e){return this.consumeInternal(t,7,e)},t.prototype.CONSUME8=function(t,e){return this.consumeInternal(t,8,e)},t.prototype.CONSUME9=function(t,e){return this.consumeInternal(t,9,e)},t.prototype.SUBRULE=function(t,e){return this.subruleInternal(t,0,e)},t.prototype.SUBRULE1=function(t,e){return this.subruleInternal(t,1,e)},t.prototype.SUBRULE2=function(t,e){return this.subruleInternal(t,2,e)},t.prototype.SUBRULE3=function(t,e){return this.subruleInternal(t,3,e)},t.prototype.SUBRULE4=function(t,e){return this.subruleInternal(t,4,e)},t.prototype.SUBRULE5=function(t,e){return this.subruleInternal(t,5,e)},t.prototype.SUBRULE6=function(t,e){return this.subruleInternal(t,6,e)},t.prototype.SUBRULE7=function(t,e){return this.subruleInternal(t,7,e)},t.prototype.SUBRULE8=function(t,e){return this.subruleInternal(t,8,e)},t.prototype.SUBRULE9=function(t,e){return this.subruleInternal(t,9,e)},t.prototype.OPTION=function(t){return this.optionInternal(t,0)},t.prototype.OPTION1=function(t){return this.optionInternal(t,1)},t.prototype.OPTION2=function(t){return this.optionInternal(t,2)},t.prototype.OPTION3=function(t){return this.optionInternal(t,3)},t.prototype.OPTION4=function(t){return this.optionInternal(t,4)},t.prototype.OPTION5=function(t){return this.optionInternal(t,5)},t.prototype.OPTION6=function(t){return this.optionInternal(t,6)},t.prototype.OPTION7=function(t){return this.optionInternal(t,7)},t.prototype.OPTION8=function(t){return this.optionInternal(t,8)},t.prototype.OPTION9=function(t){return this.optionInternal(t,9)},t.prototype.OR=function(t){return this.orInternal(t,0)},t.prototype.OR1=function(t){return this.orInternal(t,1)},t.prototype.OR2=function(t){return this.orInternal(t,2)},t.prototype.OR3=function(t){return this.orInternal(t,3)},t.prototype.OR4=function(t){return this.orInternal(t,4)},t.prototype.OR5=function(t){return this.orInternal(t,5)},t.prototype.OR6=function(t){return this.orInternal(t,6)},t.prototype.OR7=function(t){return this.orInternal(t,7)},t.prototype.OR8=function(t){return this.orInternal(t,8)},t.prototype.OR9=function(t){return this.orInternal(t,9)},t.prototype.MANY=function(t){return this.manyInternal(0,t,[])},t.prototype.MANY1=function(t){return this.manyInternal(1,t,[])},t.prototype.MANY2=function(t){return this.manyInternal(2,t,[])},t.prototype.MANY3=function(t){return this.manyInternal(3,t,[])},t.prototype.MANY4=function(t){return this.manyInternal(4,t,[])},t.prototype.MANY5=function(t){return this.manyInternal(5,t,[])},t.prototype.MANY6=function(t){return this.manyInternal(6,t,[])},t.prototype.MANY7=function(t){return this.manyInternal(7,t,[])},t.prototype.MANY8=function(t){return this.manyInternal(8,t,[])},t.prototype.MANY9=function(t){return this.manyInternal(9,t,[])},t.prototype.MANY_SEP=function(t){return this.manySepFirstInternal(0,t,{values:[],separators:[]})},t.prototype.MANY_SEP1=function(t){return this.manySepFirstInternal(1,t,{values:[],separators:[]})},t.prototype.MANY_SEP2=function(t){return this.manySepFirstInternal(2,t,{values:[],separators:[]})},t.prototype.MANY_SEP3=function(t){return this.manySepFirstInternal(3,t,{values:[],separators:[]})},t.prototype.MANY_SEP4=function(t){return this.manySepFirstInternal(4,t,{values:[],separators:[]})},t.prototype.MANY_SEP5=function(t){return this.manySepFirstInternal(5,t,{values:[],separators:[]})},t.prototype.MANY_SEP6=function(t){return this.manySepFirstInternal(6,t,{values:[],separators:[]})},t.prototype.MANY_SEP7=function(t){return this.manySepFirstInternal(7,t,{values:[],separators:[]})},t.prototype.MANY_SEP8=function(t){return this.manySepFirstInternal(8,t,{values:[],separators:[]})},t.prototype.MANY_SEP9=function(t){return this.manySepFirstInternal(9,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE=function(t){return this.atLeastOneInternal(0,t,[])},t.prototype.AT_LEAST_ONE1=function(t){return this.atLeastOneInternal(1,t,[])},t.prototype.AT_LEAST_ONE2=function(t){return this.atLeastOneInternal(2,t,[])},t.prototype.AT_LEAST_ONE3=function(t){return this.atLeastOneInternal(3,t,[])},t.prototype.AT_LEAST_ONE4=function(t){return this.atLeastOneInternal(4,t,[])},t.prototype.AT_LEAST_ONE5=function(t){return this.atLeastOneInternal(5,t,[])},t.prototype.AT_LEAST_ONE6=function(t){return this.atLeastOneInternal(6,t,[])},t.prototype.AT_LEAST_ONE7=function(t){return this.atLeastOneInternal(7,t,[])},t.prototype.AT_LEAST_ONE8=function(t){return this.atLeastOneInternal(8,t,[])},t.prototype.AT_LEAST_ONE9=function(t){return this.atLeastOneInternal(9,t,[])},t.prototype.AT_LEAST_ONE_SEP=function(t){return this.atLeastOneSepFirstInternal(0,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP1=function(t){return this.atLeastOneSepFirstInternal(1,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP2=function(t){return this.atLeastOneSepFirstInternal(2,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP3=function(t){return this.atLeastOneSepFirstInternal(3,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP4=function(t){return this.atLeastOneSepFirstInternal(4,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP5=function(t){return this.atLeastOneSepFirstInternal(5,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP6=function(t){return this.atLeastOneSepFirstInternal(6,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP7=function(t){return this.atLeastOneSepFirstInternal(7,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP8=function(t){return this.atLeastOneSepFirstInternal(8,t,{values:[],separators:[]})},t.prototype.AT_LEAST_ONE_SEP9=function(t){return this.atLeastOneSepFirstInternal(9,t,{values:[],separators:[]})},t.prototype.RULE=function(t,e,r){if(void 0===r&&(r=a),utils.contains(this.definedRulesNames,t)){var i={message:errors_public.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:n.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(i)}if(this.definedRulesNames.push(t),this._productions.containsKey(t)){var o=cache.getProductionsForClass(this.className).get(t);utils.isUndefined(o)||this._productions.put(t,o)}else{var s=gast_builder.buildTopProduction(e.toString(),t,this.tokensMap);this._productions.put(t,s)}var u=this.defineRule(t,e,r);return this[t]=u,u},t.prototype.OVERRIDE_RULE=function(t,e,n){void 0===n&&(n=a);var r=[];r=r.concat(checks.validateRuleIsOverridden(t,this.definedRulesNames,this.className)),this.definitionErrors.push.apply(this.definitionErrors,r);var i=cache.getProductionOverriddenForClass(this.className);if(i.containsKey(t)){var o=cache.getProductionsForClass(this.className);this._productions.put(t,o.get(t))}else{i.put(t,!0);var s=gast_builder.buildTopProduction(e.toString(),t,this.tokensMap);this._productions.put(t,s)}return this.defineRule(t,e,n)},t.prototype.ruleInvocationStateUpdate=function(t,e,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(e,t)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!this.isAtEndOfInput()){var t=this.LA(1),e=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new exceptions_public.NotAllInputParsedException(e,t))}},t.prototype.nestedRuleInvocationStateUpdate=function(t,e){this.RULE_OCCURRENCE_STACK.push(1),this.RULE_STACK.push(e),this.cstNestedInvocationStateUpdate(t,e)},t.prototype.nestedRuleFinallyStateUpdate=function(){this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstNestedFinallyStateUpdate()},t.prototype.getTokenToInsert=function(t){var e=tokens_public.createTokenInstance(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return e.isInsertedInRecovery=!0,e},t.prototype.canTokenTypeBeInsertedInRecovery=function(t){return!0},t.prototype.getCurrentGrammarPath=function(t,e){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:utils.cloneArr(this.RULE_OCCURRENCE_STACK),lastTok:t,lastTokOccurrence:e}},t.prototype.getNextPossibleTokenTypes=function(t){var e=utils.first(t.ruleStack),n=this.getGAstProductions().get(e);return new interpreter.NextAfterTokenWalker(n,t).startWalking()},t.prototype.subruleInternal=function(t,e,n){var r=void 0!==n?n.ARGS:void 0,i=t.call(this,e,r);return this.cstPostNonTerminal(i,void 0!==n&&void 0!==n.LABEL?n.LABEL:t.ruleName),i},t.prototype.consumeInternal=function(t,e,n){var r;try{var o=this.LA(1);if(!0!==this.tokenMatcher(o,t)){var a=void 0;throw a=void 0!==n&&n.ERR_MSG?n.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new exceptions_public.MismatchedTokenException(a,o))}this.consumeToken(),r=o}catch(n){if(!this.recoveryEnabled||"MismatchedTokenException"!==n.name||this.isBackTracking())throw n;var s=this.getFollowsForInRuleRecovery(t,e);try{r=this.tryInRuleRecovery(t,s)}catch(t){throw t.name===i?n:t}}return this.cstPostTerminal(void 0!==n&&void 0!==n.LABEL?n.LABEL:t.tokenName,r),r},t.prototype.saveRecogState=function(){var t=this.errors,e=utils.cloneArr(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:e,CST_STACK:this.CST_STACK,LAST_EXPLICIT_RULE_STACK:this.LAST_EXPLICIT_RULE_STACK}},t.prototype.reloadRecogState=function(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK},t.prototype.defineRule=function(t,e,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+t+"> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.");var r,i=utils.has(n,"resyncEnabled")?n.resyncEnabled:a.resyncEnabled,o=utils.has(n,"recoveryValueFunc")?n.recoveryValueFunc:a.recoveryValueFunc,s=this.ruleShortNameIdx<<keys.BITS_FOR_METHOD_IDX+keys.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull.put(s,t),this.fullRuleNameToShort.put(t,s);return(r=function(n,r){return void 0===n&&(n=0),this.ruleInvocationStateUpdate(s,t,n),function(t){try{return!0===this.outputCst?(e.apply(this,t),this.CST_STACK[this.CST_STACK.length-1]):e.apply(this,t)}catch(t){var n=1===this.RULE_STACK.length,r=i&&!this.isBackTracking()&&this.recoveryEnabled;if(exceptions_public.isRecognitionException(t)){if(r){var a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))return t.resyncedTokens=this.reSyncTo(a),this.outputCst?((s=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,s):o();if(this.outputCst){var s,u=this.getLastExplicitRuleShortNameNoCst(),l=this.shortRuleNameToFull.get(u);(s=this.CST_STACK[this.CST_STACK.length-1]).recoveredNode=!0,this.cstPostNonTerminalRecovery(s,l)}throw t}if(n)return this.moveToTerminatedState(),o();throw t}throw t}finally{this.ruleFinallyStateUpdate()}}.call(this,r)}).ruleName=t,r},t.prototype.tryInRepetitionRecovery=function(t,e,n,r){for(var i=this,o=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],u=!1,l=this.LA(1),c=this.LA(1),p=function(){var t=i.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:l,ruleName:i.getCurrRuleFullName()}),e=new exceptions_public.MismatchedTokenException(t,l);e.resyncedTokens=utils.dropRight(s),i.SAVE_ERROR(e)};!u;){if(this.tokenMatcher(c,r))return void p();if(n.call(this))return p(),void t.apply(this,e);this.tokenMatcher(c,o)?u=!0:(c=this.SKIP_TOKEN(),this.addToResyncTokens(c,s))}this.importLexerState(a)},t.prototype.shouldInRepetitionRecoveryBeTried=function(t,e){return void 0!==t&&void 0!==e&&(!this.tokenMatcher(this.LA(1),t)&&(!this.isBackTracking()&&!this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,e))))},t.prototype.getFollowsForInRuleRecovery=function(t,e){var n=this.getCurrentGrammarPath(t,e);return this.getNextPossibleTokenTypes(n)},t.prototype.tryInRuleRecovery=function(t,e){if(this.canRecoverWithSingleTokenInsertion(t,e))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){var n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new l("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(t,e){return this.canRecoverWithSingleTokenInsertion(t,e)||this.canRecoverWithSingleTokenDeletion(t)},t.prototype.canRecoverWithSingleTokenInsertion=function(t,e){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(t))return!1;if(utils.isEmpty(e))return!1;var r=this.LA(1);return void 0!==utils.find(e,function(t){return n.tokenMatcher(r,t)})},t.prototype.canRecoverWithSingleTokenDeletion=function(t){return this.tokenMatcher(this.LA(2),t)},t.prototype.isInCurrentRuleReSyncSet=function(t){var e=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(e);return utils.contains(n,t)},t.prototype.findReSyncTokenType=function(){for(var t=this.flattenFollowSet(),e=this.LA(1),n=2;;){var r=e.tokenType;if(utils.contains(t,r))return r;e=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(1===this.RULE_STACK.length)return s;var t=this.getLastExplicitRuleShortName(),e=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:e,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var t=this,e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return utils.isEmpty(this.LAST_EXPLICIT_RULE_STACK)||(e=utils.map(this.LAST_EXPLICIT_RULE_STACK,function(e){return t.RULE_STACK[e]}),n=utils.map(this.LAST_EXPLICIT_RULE_STACK,function(e){return t.RULE_OCCURRENCE_STACK[e]})),utils.map(e,function(r,i){return 0===i?s:{ruleName:t.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:t.shortRuleNameToFullName(e[i-1])}})},t.prototype.flattenFollowSet=function(){var t=this,e=utils.map(this.buildFullFollowKeyStack(),function(e){return t.getFollowSetFromFollowKey(e)});return utils.flatten(e)},t.prototype.getFollowSetFromFollowKey=function(t){if(t===s)return[tokens_public.EOF];var e=t.ruleName+t.idxInCallingRule+constants.IN+t.inRule;return cache.getResyncFollowsForClass(this.className).get(e)},t.prototype.addToResyncTokens=function(t,e){return this.tokenMatcher(t,tokens_public.EOF)||e.push(t),e},t.prototype.reSyncTo=function(t){for(var e=[],n=this.LA(1);!1===this.tokenMatcher(n,t);)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,e);return utils.dropRight(e)},t.prototype.attemptInRepetitionRecovery=function(t,e,n,r,i,o){var a=this.getKeyForAutomaticLookahead(r,i),s=this.firstAfterRepMap.get(a);if(void 0===s){var u=this.getCurrRuleFullName();s=new o(this.getGAstProductions().get(u),i).startWalking(),this.firstAfterRepMap.put(a,s)}var l=s.token,c=s.occurrence,p=s.isEndOfRule;1===this.RULE_STACK.length&&p&&void 0===l&&(l=tokens_public.EOF,c=1),this.shouldInRepetitionRecoveryBeTried(l,c)&&this.tryInRepetitionRecovery(t,e,n,l)},t.prototype.cstNestedInvocationStateUpdate=function(t,e){this.CST_STACK.push({name:t,fullName:this.shortRuleNameToFull.get(this.getLastExplicitRuleShortName())+t,children:{}})},t.prototype.cstInvocationStateUpdate=function(t,e){this.LAST_EXPLICIT_RULE_STACK.push(this.RULE_STACK.length-1),this.CST_STACK.push({name:t,children:{}})},t.prototype.cstFinallyStateUpdate=function(){this.LAST_EXPLICIT_RULE_STACK.pop(),this.CST_STACK.pop()},t.prototype.cstNestedFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.optionInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(keys.OPTION_IDX,e),r=this.nestedRuleBeforeClause(t,n);try{return this.optionInternalLogic(t,e,n)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.optionInternalNoCst=function(t,e){var n=this.getKeyForAutomaticLookahead(keys.OPTION_IDX,e);return this.optionInternalLogic(t,e,n)},t.prototype.optionInternalLogic=function(t,e,n){var r,i,o=this,a=this.getLookaheadFuncForOption(n,e);if(void 0!==t.DEF){if(r=t.DEF,void 0!==(i=t.GATE)){var s=a;a=function(){return i.call(o)&&s.call(o)}}}else r=t;if(!0===a.call(this))return r.call(this)},t.prototype.atLeastOneInternal=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.AT_LEAST_ONE_IDX,t),i=this.nestedRuleBeforeClause(e,r);try{return this.atLeastOneInternalLogic(t,e,n,r)}finally{void 0!==i&&this.nestedRuleFinallyClause(r,i)}},t.prototype.atLeastOneInternalNoCst=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.AT_LEAST_ONE_IDX,t);return this.atLeastOneInternalLogic(t,e,n,r)},t.prototype.atLeastOneInternalLogic=function(t,e,n,r){var i,o,a=this,s=this.getLookaheadFuncForAtLeastOne(r,t);if(void 0!==e.DEF){if(i=e.DEF,void 0!==(o=e.GATE)){var u=s;s=function(){return o.call(a)&&u.call(a)}}}else i=e;if(!0!==s.call(this))throw this.raiseEarlyExitException(t,lookahead.PROD_TYPE.REPETITION_MANDATORY,e.ERR_MSG);for(n.push(i.call(this));!0===s.call(this);)n.push(i.call(this));return this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,e,n],s,keys.AT_LEAST_ONE_IDX,t,interpreter.NextTerminalAfterAtLeastOneWalker),n},t.prototype.atLeastOneSepFirstInternal=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.AT_LEAST_ONE_SEP_IDX,t),i=this.nestedRuleBeforeClause(e,r);try{return this.atLeastOneSepFirstInternalLogic(t,e,n,r)}finally{void 0!==i&&this.nestedRuleFinallyClause(r,i)}},t.prototype.atLeastOneSepFirstInternalNoCst=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.AT_LEAST_ONE_SEP_IDX,t);return this.atLeastOneSepFirstInternalLogic(t,e,n,r)},t.prototype.atLeastOneSepFirstInternalLogic=function(t,e,n,r){var i=this,o=e.DEF,a=e.SEP,s=this.getLookaheadFuncForAtLeastOneSep(r,t),u=n.values,l=n.separators;if(!0!==s.call(this))throw this.raiseEarlyExitException(t,lookahead.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,e.ERR_MSG);u.push(o.call(this));for(var c=function(){return i.tokenMatcher(i.LA(1),a)};!0===this.tokenMatcher(this.LA(1),a);)l.push(this.CONSUME(a)),u.push(o.call(this));return this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,c,o,interpreter.NextTerminalAfterAtLeastOneSepWalker,n],c,keys.AT_LEAST_ONE_SEP_IDX,t,interpreter.NextTerminalAfterAtLeastOneSepWalker),n},t.prototype.manyInternal=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.MANY_IDX,t),i=this.nestedRuleBeforeClause(e,r);try{return this.manyInternalLogic(t,e,n,r)}finally{void 0!==i&&this.nestedRuleFinallyClause(r,i)}},t.prototype.manyInternalNoCst=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.MANY_IDX,t);return this.manyInternalLogic(t,e,n,r)},t.prototype.manyInternalLogic=function(t,e,n,r){var i,o,a=this,s=this.getLookaheadFuncForMany(r,t);if(void 0!==e.DEF){if(i=e.DEF,void 0!==(o=e.GATE)){var u=s;s=function(){return o.call(a)&&u.call(a)}}}else i=e;for(;s.call(this);)n.push(i.call(this));return this.attemptInRepetitionRecovery(this.manyInternal,[t,e,n],s,keys.MANY_IDX,t,interpreter.NextTerminalAfterManyWalker),n},t.prototype.manySepFirstInternal=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.MANY_SEP_IDX,t),i=this.nestedRuleBeforeClause(e,r);try{return this.manySepFirstInternalLogic(t,e,n,r)}finally{void 0!==i&&this.nestedRuleFinallyClause(r,i)}},t.prototype.manySepFirstInternalNoCst=function(t,e,n){var r=this.getKeyForAutomaticLookahead(keys.MANY_SEP_IDX,t);return this.manySepFirstInternalLogic(t,e,n,r)},t.prototype.manySepFirstInternalLogic=function(t,e,n,r){var i=this,o=e.DEF,a=e.SEP,s=this.getLookaheadFuncForManySep(r,t),u=n.values,l=n.separators;if(!0===s.call(this)){u.push(o.call(this));for(var c=function(){return i.tokenMatcher(i.LA(1),a)};!0===this.tokenMatcher(this.LA(1),a);)l.push(this.CONSUME(a)),u.push(o.call(this));this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,a,c,o,interpreter.NextTerminalAfterManySepWalker,n],c,keys.MANY_SEP_IDX,t,interpreter.NextTerminalAfterManySepWalker)}return n},t.prototype.repetitionSepSecondInternal=function(t,e,n,r,i,o){for(;n();)o.separators.push(this.CONSUME(e)),o.values.push(r.call(this));this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,e,n,r,i,o],n,keys.AT_LEAST_ONE_SEP_IDX,t,i)},t.prototype.orInternalNoCst=function(t,e){var n=utils.isArray(t)?t:t.DEF,r=this.getLookaheadFuncForOr(e,n).call(this,n);if(void 0!==r)return n[r].ALT.call(this);this.raiseNoAltException(e,t.ERR_MSG)},t.prototype.orInternal=function(t,e){var n=this.getKeyForAutomaticLookahead(keys.OR_IDX,e),r=this.nestedRuleBeforeClause(t,n);try{var i=utils.isArray(t)?t:t.DEF,o=this.getLookaheadFuncForOr(e,i).call(this,i);if(void 0!==o){var a=i[o],s=this.nestedAltBeforeClause(a,e,keys.OR_IDX,o);try{return a.ALT.call(this)}finally{void 0!==s&&this.nestedRuleFinallyClause(s.shortName,s.nestedName)}}this.raiseNoAltException(e,t.ERR_MSG)}finally{void 0!==r&&this.nestedRuleFinallyClause(n,r)}},t.prototype.getKeyForAutomaticLookahead=function(t,e){var n=this.getLastExplicitRuleShortName();return keys.getKeyForAutomaticLookahead(n,t,e)},t.prototype.getLookaheadFuncForOr=function(t,e){var n=this.getKeyForAutomaticLookahead(keys.OR_IDX,t),r=this.classLAFuncs.get(n);if(void 0===r){var i=this.getCurrRuleFullName(),o=this.getGAstProductions().get(i),a=utils.some(e,function(t){return utils.isFunction(t.GATE)});return r=lookahead.buildLookaheadFuncForOr(t,o,this.maxLookahead,a,this.dynamicTokensEnabled,this.lookAheadBuilderForAlternatives),this.classLAFuncs.put(n,r),r}return r},t.prototype.getLookaheadFuncForOption=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,lookahead.PROD_TYPE.OPTION)},t.prototype.getLookaheadFuncForMany=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,lookahead.PROD_TYPE.REPETITION)},t.prototype.getLookaheadFuncForManySep=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,lookahead.PROD_TYPE.REPETITION_WITH_SEPARATOR)},t.prototype.getLookaheadFuncForAtLeastOne=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,lookahead.PROD_TYPE.REPETITION_MANDATORY)},t.prototype.getLookaheadFuncForAtLeastOneSep=function(t,e){return this.getLookaheadFuncFor(t,e,this.maxLookahead,lookahead.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR)},t.prototype.raiseNoAltException=function(t,e){for(var n=this.getCurrRuleFullName(),r=this.getGAstProductions().get(n),i=lookahead.getLookaheadPathsForOr(t,r,this.maxLookahead),o=[],a=1;a<this.maxLookahead;a++)o.push(this.LA(a));var s=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:o,customUserDescription:e,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new exceptions_public.NoViableAltException(s,this.LA(1)))},t.prototype.getLookaheadFuncFor=function(t,e,n,r){var i=this.classLAFuncs.get(t);if(void 0===i){var o=this.getCurrRuleFullName(),a=this.getGAstProductions().get(o);return i=lookahead.buildLookaheadFuncForOptionalProd(e,a,n,this.dynamicTokensEnabled,r,this.lookAheadBuilderForOptional),this.classLAFuncs.put(t,i),i}return i},t.prototype.raiseEarlyExitException=function(t,e,n){for(var r=this.getCurrRuleFullName(),i=this.getGAstProductions().get(r),o=lookahead.getLookaheadPathsForOptionalProd(t,i,e,this.maxLookahead)[0],a=[],s=1;s<this.maxLookahead;s++)a.push(this.LA(s));var u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new exceptions_public.EarlyExitException(u,this.LA(1),this.LA(0)))},t.prototype.getLastExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_STACK[t]},t.prototype.getLastExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-2];return this.RULE_STACK[t]},t.prototype.getPreviousExplicitRuleShortNameNoCst=function(){var t=this.RULE_STACK;return t[t.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var t=this.LAST_EXPLICIT_RULE_STACK[this.LAST_EXPLICIT_RULE_STACK.length-1];return this.RULE_OCCURRENCE_STACK[t]},t.prototype.getLastExplicitRuleOccurrenceIndexNoCst=function(){var t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]},t.prototype.nestedRuleBeforeClause=function(t,e){var n;return void 0!==t.NAME?(n=t.NAME,this.nestedRuleInvocationStateUpdate(n,e),n):void 0},t.prototype.nestedAltBeforeClause=function(t,e,n,r){var i,o=this.getLastExplicitRuleShortName(),a=keys.getKeyForAltIndex(o,n,e,r);return void 0!==t.NAME?(i=t.NAME,this.nestedRuleInvocationStateUpdate(i,a),{shortName:a,nestedName:i}):void 0},t.prototype.nestedRuleFinallyClause=function(t,e){var n=this.CST_STACK,r=n[n.length-1];this.nestedRuleFinallyStateUpdate();var i=n[n.length-1];cst.addNoneTerminalToCst(i,e,r)},t.prototype.cstPostTerminal=function(t,e){var n=this.CST_STACK[this.CST_STACK.length-1];cst.addTerminalToCst(n,e,t)},t.prototype.cstPostNonTerminal=function(t,e){cst.addNoneTerminalToCst(this.CST_STACK[this.CST_STACK.length-1],e,t)},t.prototype.cstPostNonTerminalRecovery=function(t,e){cst.addNoneTerminalToCst(this.CST_STACK[this.CST_STACK.length-2],e,t)},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(t){this.reset(),this.tokVector=t,this.tokVectorLength=t.length},enumerable:!0,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):e.END_OF_FILE},t.prototype.LA=function(t){return this.currIdx+t<0||this.tokVectorLength<=this.currIdx+t?e.END_OF_FILE:this.tokVector[this.currIdx+t]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(t){this.currIdx=t},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.lookAheadBuilderForOptional=function(t,e,n){return lookahead.buildSingleAlternativeLookaheadFunction(t,e,n)},t.prototype.lookAheadBuilderForAlternatives=function(t,e,n,r){return lookahead.buildAlternativesLookAheadFunc(t,e,n,r)},t.NO_RESYNC=!1,t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();function l(t){this.name=i,this.message=t}e.Parser=u,l.prototype=Error.prototype});unwrapExports(parser_public);var parser_public_1=parser_public.ParserDefinitionErrorType,parser_public_2=parser_public.END_OF_FILE,parser_public_3=parser_public.EMPTY_ALT,parser_public_4=parser_public.Parser,cache_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.clearCache=function(){cache.clearCache()}});unwrapExports(cache_public);var cache_public_1=cache_public.clearCache,render_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.createSyntaxDiagramsCode=function(t,e){var n=void 0===e?{}:e,r=n.resourceBase,i=void 0===r?"https://unpkg.com/chevrotain@"+version.VERSION+"/diagrams/":r,o=n.css;return"\n\x3c!-- This is a generated file --\x3e\n<!DOCTYPE html>\n<meta charset=\"utf-8\">\n<style>\n  body {\n    background-color: hsl(30, 20%, 95%)\n  }\n</style>\n\n\n<link rel='stylesheet' href='"+(void 0===o?"https://unpkg.com/chevrotain@"+version.VERSION+"/diagrams/diagrams.css":o)+"'>\n\n<script src='"+i+"vendor/railroad-diagrams.js'><\/script>\n<script src='"+i+"src/diagrams_builder.js'><\/script>\n<script src='"+i+"src/diagrams_behavior.js'><\/script>\n<script src='"+i+'src/main.js\'><\/script>\n\n<div id="diagrams" align="center"></div>    \n\n<script>\n    window.serializedGrammar = '+JSON.stringify(t,null,"  ")+';\n<\/script>\n\n<script>\n    var diagramsDiv = document.getElementById("diagrams");\n    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);\n<\/script>\n'}});unwrapExports(render_public);var render_public_1=render_public.createSyntaxDiagramsCode,generate=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n="\n";function r(t){return"\nfunction "+t.name+"(tokenVocabulary, config) {\n    // invoke super constructor\n    chevrotain.Parser.call(this, [], tokenVocabulary, config)\n\n    const $ = this\n\n    "+i(t.rules)+"\n\n    // very important to call this after all the rules have been defined.\n    // otherwise the parser may not work correctly as it will lack information\n    // derived during the self analysis phase.\n    chevrotain.Parser.performSelfAnalysis(this)\n}\n\n// inheritance as implemented in javascript in the previous decade... :(\n"+t.name+".prototype = Object.create(chevrotain.Parser.prototype)\n"+t.name+".prototype.constructor = "+t.name+"    \n    "}function i(t){return utils.map(t,function(t){return o(t,1)}).join("\n")}function o(t,e){var r=f(e,'$.RULE("'+t.name+'", function() {')+n;return r+=E(t.definition,e+1),r+=f(e+1,"})")+n}function a(t,e){var r=tokens_public.tokenName(t.terminalType);return f(e,"$.CONSUME"+t.idx+"(this.tokensMap."+r+")"+n)}function s(t,e){return f(e,"$.SUBRULE"+t.idx+"($."+t.nonTerminalName+")"+n)}function u(t,e){var r=f(e,"$.OR"+t.idx+"([")+n;return r+=utils.map(t.definition,function(t){return l(t,e+1)}).join(","+n),r+=n+f(e,"])"+n)}function l(t,e){var r=f(e,"{")+n;return t.name&&(r+=f(e+1,'NAME: "'+t.name+'",')+n),r+=f(e+1,"ALT: function() {")+n,r+=E(t.definition,e+1),r+=f(e+1,"}")+n,r+=f(e,"}")}function c(t,e,r){var i=f(r,"$."+(t+e.idx)+"(");return e.name||e.separator?(i+="{"+n,e.name&&(i+=f(r+1,'NAME: "'+e.name+'"')+","+n),e.separator&&(i+=f(r+1,"SEP: this.tokensMap."+tokens_public.tokenName(e.separator))+","+n),i+="DEF: "+p(e.definition,r+2)+n,i+=f(r,"}")+n):i+=p(e.definition,r+1),i+=f(r,")")+n}function p(t,e){var r="function() {"+n;return r+=E(t,e),r+=f(e,"}")+n}function E(t,e){var n="";return utils.forEach(t,function(t){n+=function(t,e){if(t instanceof gast_public.NonTerminal)return s(t,e);if(t instanceof gast_public.Option)return c("OPTION",t,e);if(t instanceof gast_public.RepetitionMandatory)return c("AT_LEAST_ONE",t,e);if(t instanceof gast_public.RepetitionMandatoryWithSeparator)return c("AT_LEAST_ONE_SEP",t,e);if(t instanceof gast_public.RepetitionWithSeparator)return c("MANY_SEP",t,e);if(t instanceof gast_public.Repetition)return c("MANY",t,e);if(t instanceof gast_public.Alternation)return u(t,e);if(t instanceof gast_public.Terminal)return a(t,e);if(t instanceof gast_public.Flat)return E(t.definition,e);throw Error("non exhaustive match")}(t,e+1)}),n}function f(t,e){return Array(4*t+1).join(" ")+e}e.genUmdModule=function(t){return"\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['chevrotain'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('chevrotain'));\n    } else {\n        // Browser globals (root is window)\n        root.returnExports = factory(root.b);\n    }\n}(typeof self !== 'undefined' ? self : this, function (chevrotain) {\n\n"+r(t)+"\n    \nreturn {\n    "+t.name+": "+t.name+" \n}\n}));\n"},e.genWrapperFunction=function(t){return"    \n"+r(t)+"\nreturn new "+t.name+"(tokenVocabulary, config)    \n"},e.genClass=r,e.genAllRules=i,e.genRule=o,e.genTerminal=a,e.genNonTerminal=s,e.genAlternation=u,e.genSingleAlt=l});unwrapExports(generate);var generate_1=generate.genUmdModule,generate_2=generate.genWrapperFunction,generate_3=generate.genClass,generate_4=generate.genAllRules,generate_5=generate.genRule,generate_6=generate.genTerminal,generate_7=generate.genNonTerminal,generate_8=generate.genAlternation,generate_9=generate.genSingleAlt,generate_public=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateParserFactory=function(t){var e=generate.genWrapperFunction({name:t.name,rules:t.rules}),n=new Function("tokenVocabulary","config","chevrotain",e);return function(e){return n(t.tokenVocabulary,e,api)}},e.generateParserModule=function(t){return generate.genUmdModule({name:t.name,rules:t.rules})}});unwrapExports(generate_public);var generate_public_1=generate_public.generateParserFactory,generate_public_2=generate_public.generateParserModule,api=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n={};n.VERSION=version.VERSION,n.Parser=parser_public.Parser,n.ParserDefinitionErrorType=parser_public.ParserDefinitionErrorType,n.Lexer=lexer_public.Lexer,n.LexerDefinitionErrorType=lexer_public.LexerDefinitionErrorType,n.EOF=tokens_public.EOF,n.tokenName=tokens_public.tokenName,n.tokenLabel=tokens_public.tokenLabel,n.tokenMatcher=tokens_public.tokenMatcher,n.createToken=tokens_public.createToken,n.createTokenInstance=tokens_public.createTokenInstance,n.EMPTY_ALT=parser_public.EMPTY_ALT,n.defaultParserErrorProvider=errors_public.defaultParserErrorProvider,n.isRecognitionException=exceptions_public.isRecognitionException,n.EarlyExitException=exceptions_public.EarlyExitException,n.MismatchedTokenException=exceptions_public.MismatchedTokenException,n.NotAllInputParsedException=exceptions_public.NotAllInputParsedException,n.NoViableAltException=exceptions_public.NoViableAltException,n.gast={},n.Flat=gast_public.Flat,n.Repetition=gast_public.Repetition,n.RepetitionWithSeparator=gast_public.RepetitionWithSeparator,n.RepetitionMandatory=gast_public.RepetitionMandatory,n.RepetitionMandatoryWithSeparator=gast_public.RepetitionMandatoryWithSeparator,n.Option=gast_public.Option,n.Alternation=gast_public.Alternation,n.NonTerminal=gast_public.NonTerminal,n.Terminal=gast_public.Terminal,n.Rule=gast_public.Rule,n.GAstVisitor=gast_visitor_public.GAstVisitor,n.serializeGrammar=gast_public.serializeGrammar,n.serializeProduction=gast_public.serializeProduction,n.resolveGrammar=gast_resolver_public.resolveGrammar,n.defaultGrammarResolverErrorProvider=errors_public.defaultGrammarResolverErrorProvider,n.validateGrammar=gast_resolver_public.validateGrammar,n.defaultGrammarValidatorErrorProvider=errors_public.defaultGrammarValidatorErrorProvider,n.assignOccurrenceIndices=gast_resolver_public.assignOccurrenceIndices,n.clearCache=cache_public.clearCache,n.createSyntaxDiagramsCode=render_public.createSyntaxDiagramsCode,n.generateParserFactory=generate_public.generateParserFactory,n.generateParserModule=generate_public.generateParserModule,t.exports=n});unwrapExports(api);var api_1=api.Parser,api_2=api.Lexer,api_3=api.createToken,regex={or:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new RegExp(t.map(function(t){return"("+t.source+")"}).join("|"))},and:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new RegExp(t.map(function(t){return"("+t.source+")"}).join(""))},option:function(t){return new RegExp("("+t.source+")?")},many:function(t){return new RegExp("("+t.source+")*")}},IRIREF=/<[^<>\\{}|\^`\u0000-\u0020]*>/,PN_CHARS_BASE=/[A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDBFF][\uDC00-\uDFFF]/,LANGTAG=/@[a-zA-Z]+(-[a-zA-Z0-9]+)*/,INTEGER=/\d+/,DECIMAL=/(\d*\.\d+)|(\d+\.\d*)/,EXPONENT=/[eE][+-]?\d+/,ECHAR=/\\[tbnrf"'\\]/,WS=/[\u0020\u0009\u000d\u000a]/,HEX=/[0-9A-Fa-f]/,PN_LOCAL_ESC=/\\[_~.\-!\$&'()*+,=\/?#@%;]/,PN_CHARS_U=regex.or(PN_CHARS_BASE,/_/),PN_CHARS=regex.or(PN_CHARS_U,/-/,/\d/,/\u00b7/,/[\u0300-\u036f]/,/[\u203f-\u2040]/),PN_PREFIX=regex.and(PN_CHARS_BASE,regex.option(regex.and(regex.many(regex.or(PN_CHARS,/\./)),PN_CHARS))),PERCENT=regex.and(/%/,HEX,HEX),PLX=regex.or(PERCENT,PN_LOCAL_ESC),PN_LOCAL=regex.and(regex.or(PN_CHARS_U,/:/,/\d/,PLX),regex.option(regex.and(regex.many(regex.or(PN_CHARS,/\./,/:/,PLX)),regex.or(PN_CHARS,/:/,PLX)))),VARNAME=regex.and(regex.or(PN_CHARS_U,/\d/),regex.many(regex.or(PN_CHARS_U,/\d/,/\u00b7/,/[\u0300-\u036f]/,/[\u203f-\u2040]/))),ANON=regex.and(/\[/,regex.many(WS),/\]/),NIL=regex.and(/\(/,regex.many(WS),/\)/),STRING_LITERAL1=regex.and(/'/,regex.many(regex.or(/[^\u0027\u005C\u000A\u000D]/,ECHAR)),/'/),STRING_LITERAL2=regex.and(/"/,regex.many(regex.or(/[^\u0022\u005C\u000A\u000D]/,ECHAR)),/"/),STRING_LITERAL_LONG1=regex.and(/'''/,regex.many(regex.and(regex.option(regex.or(/'/,/''/)),regex.or(/[^'\\]/,ECHAR))),/'''/),STRING_LITERAL_LONG2=regex.and(/"""/,regex.many(regex.and(regex.option(regex.or(/"/,/""/)),regex.or(/[^"\\]/,ECHAR))),/"""/),DOUBLE=regex.or(regex.and(/\d+\.\d*/,EXPONENT),regex.and(/\.\d+/,EXPONENT),regex.and(/\d+/,EXPONENT)),INTEGER_POSITIVE=regex.and(/\+/,INTEGER),DECIMAL_POSITIVE=regex.and(/\+/,DECIMAL),DOUBLE_POSITIVE=regex.and(/\+/,DOUBLE),INTEGER_NEGATIVE=regex.and(/-/,INTEGER),DECIMAL_NEGATIVE=regex.and(/-/,DECIMAL),DOUBLE_NEGATIVE=regex.and(/-/,DOUBLE),VAR1=regex.and(/\?/,VARNAME),VAR2=regex.and(/\$/,VARNAME),BLANK_NODE_LABEL=regex.and(/_:/,regex.or(PN_CHARS_U,/\d/),regex.option(regex.and(regex.many(regex.or(PN_CHARS,/\./)),PN_CHARS))),PNAME_NS=regex.and(regex.option(PN_PREFIX),/:/),PNAME_LN=regex.and(PNAME_NS,PN_LOCAL),matchers=Object.freeze({IRIREF:IRIREF,PN_CHARS_BASE:PN_CHARS_BASE,LANGTAG:LANGTAG,INTEGER:INTEGER,DECIMAL:DECIMAL,EXPONENT:EXPONENT,ECHAR:ECHAR,WS:WS,HEX:HEX,PN_LOCAL_ESC:PN_LOCAL_ESC,PN_CHARS_U:PN_CHARS_U,PN_CHARS:PN_CHARS,PN_PREFIX:PN_PREFIX,PERCENT:PERCENT,PLX:PLX,PN_LOCAL:PN_LOCAL,VARNAME:VARNAME,ANON:ANON,NIL:NIL,STRING_LITERAL1:STRING_LITERAL1,STRING_LITERAL2:STRING_LITERAL2,STRING_LITERAL_LONG1:STRING_LITERAL_LONG1,STRING_LITERAL_LONG2:STRING_LITERAL_LONG2,DOUBLE:DOUBLE,INTEGER_POSITIVE:INTEGER_POSITIVE,DECIMAL_POSITIVE:DECIMAL_POSITIVE,DOUBLE_POSITIVE:DOUBLE_POSITIVE,INTEGER_NEGATIVE:INTEGER_NEGATIVE,DECIMAL_NEGATIVE:DECIMAL_NEGATIVE,DOUBLE_NEGATIVE:DOUBLE_NEGATIVE,VAR1:VAR1,VAR2:VAR2,BLANK_NODE_LABEL:BLANK_NODE_LABEL,PNAME_NS:PNAME_NS,PNAME_LN:PNAME_LN}),STRING_LITERAL_LONG1_TOKEN=api_3({name:"STRING_LITERAL_LONG1",pattern:STRING_LITERAL_LONG1}),STRING_LITERAL_LONG2_TOKEN=api_3({name:"STRING_LITERAL_LONG2",pattern:STRING_LITERAL_LONG2}),PNAME_LN_TOKEN=api_3({name:"PNAME_LN",pattern:PNAME_LN}),terminals={IRIREF:api_3({name:"IRIREF",pattern:IRIREF,label:"<http://example.com>"}),LANGTAG:api_3({name:"LANGTAG",pattern:LANGTAG}),INTEGER:api_3({name:"INTEGER",pattern:INTEGER}),DECIMAL:api_3({name:"DECIMAL",pattern:DECIMAL}),DOUBLE:api_3({name:"DOUBLE",pattern:DOUBLE}),INTEGER_POSITIVE:api_3({name:"INTEGER_POSITIVE",pattern:INTEGER_POSITIVE}),DECIMAL_POSITIVE:api_3({name:"DECIMAL_POSITIVE",pattern:DECIMAL_POSITIVE}),DOUBLE_POSITIVE:api_3({name:"DOUBLE_POSITIVE",pattern:DOUBLE_POSITIVE}),INTEGER_NEGATIVE:api_3({name:"INTEGER_NEGATIVE",pattern:INTEGER_NEGATIVE}),DECIMAL_NEGATIVE:api_3({name:"DECIMAL_NEGATIVE",pattern:DECIMAL_NEGATIVE}),DOUBLE_NEGATIVE:api_3({name:"DOUBLE_NEGATIVE",pattern:DOUBLE_NEGATIVE}),STRING_LITERAL_LONG1:STRING_LITERAL_LONG1_TOKEN,STRING_LITERAL_LONG2:STRING_LITERAL_LONG2_TOKEN,STRING_LITERAL1:api_3({name:"STRING_LITERAL1",pattern:STRING_LITERAL1,longer_alt:STRING_LITERAL_LONG1_TOKEN}),STRING_LITERAL2:api_3({name:"STRING_LITERAL2",pattern:STRING_LITERAL2,longer_alt:STRING_LITERAL_LONG2_TOKEN}),NIL:api_3({name:"NIL",pattern:NIL,label:"()"}),ANON:api_3({name:"ANON",pattern:ANON,label:"[]"}),PNAME_LN:PNAME_LN_TOKEN,PNAME_NS:api_3({name:"PNAME_NS",pattern:PNAME_NS,longer_alt:PNAME_LN_TOKEN}),BLANK_NODE_LABEL:api_3({name:"BLANK_NODE_LABEL",pattern:BLANK_NODE_LABEL}),VAR1:api_3({name:"VAR1",pattern:VAR1,label:"?foo"}),VAR2:api_3({name:"VAR2",pattern:VAR2,label:"?bar"}),PERCENT:api_3({name:"PERCENT",pattern:PERCENT})},MAX_LENGTH=api_3({name:"MAX_LENGTH",pattern:/MAX LENGTH/i}),keywords={SELECT:api_3({name:"SELECT",pattern:/SELECT/i}),CONSTRUCT:api_3({name:"CONSTRUCT",pattern:/CONSTRUCT/i}),DISTINCT:api_3({name:"DISTINCT",pattern:/DISTINCT/i}),START:api_3({name:"START",pattern:/START/i}),END:api_3({name:"END",pattern:/END/i}),VIA:api_3({name:"VIA",pattern:/VIA/i}),PATHS:api_3({name:"PATHS",pattern:/PATHS/i}),PATHS_ALL:api_3({name:"PATHS_ALL",pattern:/PATHS ALL/i}),PATHS_SHORTEST:api_3({name:"PATHS_SHORTEST",pattern:/PATHS SHORTEST/i}),CYCLIC:api_3({name:"CYCLIC",pattern:/CYCLIC/i}),AS:api_3({name:"AS",pattern:/AS/i}),WHERE:api_3({name:"WHERE",pattern:/WHERE/i}),A:api_3({name:"A",pattern:/a/i}),GroupBy:api_3({name:"GroupBy",pattern:/group by/i}),OrderBy:api_3({name:"OrderBy",pattern:/order by/i}),By:api_3({name:"By",pattern:/By/i}),BASE:api_3({name:"BASE",pattern:/BASE/i}),PREFIX:api_3({name:"PREFIX",pattern:/PREFIX/i}),DESCRIBE:api_3({name:"DESCRIBE",pattern:/DESCRIBE/i}),ASK:api_3({name:"ASK",pattern:/ASK/i}),FROM:api_3({name:"FROM",pattern:/FROM/i}),REDUCED:api_3({name:"REDUCED",pattern:/REDUCED/i}),NAMED:api_3({name:"NAMED",pattern:/NAMED/i}),HAVING:api_3({name:"HAVING",pattern:/HAVING/i}),ASC:api_3({name:"ASC",pattern:/ASC/i}),DESC:api_3({name:"DESC",pattern:/DESC/i}),OFFSET:api_3({name:"OFFSET",pattern:/OFFSET/i}),LIMIT:api_3({name:"LIMIT",pattern:/LIMIT/i}),VALUES:api_3({name:"VALUES",pattern:/VALUES/i}),LOAD:api_3({name:"LOAD",pattern:/LOAD/i}),SILENT:api_3({name:"SILENT",pattern:/SILENT/i}),INTO:api_3({name:"INTO",pattern:/INTO/i}),CLEAR:api_3({name:"CLEAR",pattern:/CLEAR/i}),DROP:api_3({name:"DROP",pattern:/DROP/i}),CREATE:api_3({name:"CREATE",pattern:/CREATE/i}),ADD:api_3({name:"ADD",pattern:/ADD/i}),TO:api_3({name:"TO",pattern:/TO/i}),MOVE:api_3({name:"MOVE",pattern:/MOVE/i}),COPY:api_3({name:"COPY",pattern:/COPY/i}),INSERT_DATA:api_3({name:"INSERT_DATA",pattern:/Insert +Data/i}),DELETE_DATA:api_3({name:"DELETE_DATA",pattern:/Delete +Data/i}),DELETE_WHERE:api_3({name:"DELETE_WHERE",pattern:/Delete +Where/i}),WITH:api_3({name:"WITH",pattern:/WITH/i}),DELETE:api_3({name:"DELETE",pattern:/DELETE/i}),INSERT:api_3({name:"INSERT",pattern:/INSERT/i}),USING:api_3({name:"USING",pattern:/USING/i}),DEFAULT:api_3({name:"DEFAULT",pattern:/DEFAULT/i}),GRAPH:api_3({name:"GRAPH",pattern:/GRAPH/i}),ALL:api_3({name:"ALL",pattern:/ALL/i}),OPTIONAL:api_3({name:"OPTIONAL",pattern:/OPTIONAL/i}),SERVICE:api_3({name:"SERVICE",pattern:/SERVICE/i}),BIND:api_3({name:"BIND",pattern:/BIND/i}),UNDEF:api_3({name:"UNDEF",pattern:/UNDEF/i}),MINUS:api_3({name:"MINUS",pattern:/MINUS/i}),UNION:api_3({name:"UNION",pattern:/UNION/i}),FILTER:api_3({name:"FILTER",pattern:/FILTER/i}),STR:api_3({name:"STR",pattern:/STR/i}),LANG:api_3({name:"LANG",pattern:/LANG/i}),LANGMATCHERS:api_3({name:"LANGMATCHERS",pattern:/LANGMATCHERS/i}),DATATYPE:api_3({name:"DATATYPE",pattern:/DATATYPE/i}),BOUND:api_3({name:"BOUND",pattern:/BOUND/i}),IRI:api_3({name:"IRI",pattern:/IRI/i}),URI:api_3({name:"URI",pattern:/URI/i}),BNODE:api_3({name:"BNODE",pattern:/BNODE/i}),RAND:api_3({name:"RAND",pattern:/RAND/i}),ABS:api_3({name:"ABS",pattern:/ABS/i}),CEIL:api_3({name:"CEIL",pattern:/CEIL/i}),FLOOR:api_3({name:"FLOOR",pattern:/FLOOR/i}),ROUND:api_3({name:"ROUND",pattern:/ROUND/i}),CONCAT:api_3({name:"CONCAT",pattern:/CONCAT/i}),STRLEN:api_3({name:"STRLEN",pattern:/STRLEN/i}),UCASE:api_3({name:"UCASE",pattern:/UCASE/i}),LCASE:api_3({name:"LCASE",pattern:/LCASE/i}),ENCODE_FOR_URI:api_3({name:"ENCODE_FOR_URI",pattern:/ENCODE_FOR_URI/i}),CONTAINS:api_3({name:"CONTAINS",pattern:/CONTAINS/i}),STRSTARTS:api_3({name:"STRSTARTS",pattern:/STRSTARTS/i}),STRENDS:api_3({name:"STRENDS",pattern:/STRENDS/i}),STRBEFORE:api_3({name:"STRBEFORE",pattern:/STRBEFORE/i}),STRAFTER:api_3({name:"STRAFTER",pattern:/STRAFTER/i}),YEAR:api_3({name:"YEAR",pattern:/YEAR/i}),MONTH:api_3({name:"MONTH",pattern:/MONTH/i}),DAY:api_3({name:"DAY",pattern:/DAY/i}),HOURS:api_3({name:"HOURS",pattern:/HOURS/i}),MINUTES:api_3({name:"MINUTES",pattern:/MINUTES/i}),SECONDS:api_3({name:"SECONDS",pattern:/SECONDS/i}),TIMEZONE:api_3({name:"TIMEZONE",pattern:/TIMEZONE/i}),TZ:api_3({name:"TZ",pattern:/TZ/i}),NOW:api_3({name:"NOW",pattern:/NOW/i}),UUID:api_3({name:"UUID",pattern:/UUID/i}),STRUUID:api_3({name:"STRUUID",pattern:/STRUUID/i}),MD5:api_3({name:"MD5",pattern:/MD5/i}),SHA1:api_3({name:"SHA1",pattern:/SHA1/i}),SHA256:api_3({name:"SHA256",pattern:/SHA256/i}),SHA384:api_3({name:"SHA384",pattern:/SHA384/i}),SHA512:api_3({name:"SHA512",pattern:/SHA512/i}),COALESCE:api_3({name:"COALESCE",pattern:/COALESCE/i}),IF:api_3({name:"IF",pattern:/IF/i}),STRLANG:api_3({name:"STRLANG",pattern:/STRLANG/i}),STRDT:api_3({name:"STRDT",pattern:/STRDT/i}),sameTerm:api_3({name:"sameTerm",pattern:/sameTerm/i}),isIRI:api_3({name:"isIRI",pattern:/isIRI/i}),isURI:api_3({name:"isURI",pattern:/isURI/i}),isBlank:api_3({name:"isBlank",pattern:/isBlank/i}),isLiteral:api_3({name:"isLiteral",pattern:/isLiteral/i}),isNumeric:api_3({name:"isNumeric",pattern:/isNumeric/i}),REGEX:api_3({name:"REGEX",pattern:/REGEX/i}),SUBSTR:api_3({name:"SUBSTR",pattern:/SUBSTR/i}),REPLACE:api_3({name:"REPLACE",pattern:/REPLACE/i}),EXISTS:api_3({name:"EXISTS",pattern:/EXISTS/i}),NOT_EXISTS:api_3({name:"NOT_EXISTS",pattern:/NOT EXISTS/i}),COUNT:api_3({name:"COUNT",pattern:/COUNT/i}),SUM:api_3({name:"SUM",pattern:/SUM/i}),MIN:api_3({name:"MIN",pattern:/MIN/i}),AVG:api_3({name:"AVG",pattern:/AVG/i}),SAMPLE:api_3({name:"SAMPLE",pattern:/SAMPLE/i}),GROUP_CONCAT:api_3({name:"GROUP_CONCAT",pattern:/GROUP_CONCAT/i}),SEPARATOR:api_3({name:"SEPARATOR",pattern:/SEPARATOR/i}),TRUE:api_3({name:"TRUE",pattern:/TRUE/i}),FALSE:api_3({name:"FALSE",pattern:/FALSE/i}),IN:api_3({name:"IN",pattern:/IN/i}),NOT_IN:api_3({name:"NOT_IN",pattern:/NOT IN/i}),MAX_LENGTH:MAX_LENGTH,MAX:api_3({name:"MAX",pattern:/MAX/i,longer_alt:MAX_LENGTH})},tokenMap={IRIREF:terminals.IRIREF,LANGTAG:terminals.LANGTAG,INTEGER:terminals.INTEGER,DECIMAL:terminals.DECIMAL,DOUBLE:terminals.DOUBLE,INTEGER_POSITIVE:terminals.INTEGER_POSITIVE,DECIMAL_POSITIVE:terminals.DECIMAL_POSITIVE,DOUBLE_POSITIVE:terminals.DOUBLE_POSITIVE,INTEGER_NEGATIVE:terminals.INTEGER_NEGATIVE,DECIMAL_NEGATIVE:terminals.DECIMAL_NEGATIVE,DOUBLE_NEGATIVE:terminals.DOUBLE_NEGATIVE,STRING_LITERAL1:terminals.STRING_LITERAL1,STRING_LITERAL2:terminals.STRING_LITERAL2,STRING_LITERAL_LONG1:terminals.STRING_LITERAL_LONG1,STRING_LITERAL_LONG2:terminals.STRING_LITERAL_LONG2,NIL:terminals.NIL,ANON:terminals.ANON,PNAME_NS:terminals.PNAME_NS,PNAME_LN:terminals.PNAME_LN,BLANK_NODE_LABEL:terminals.BLANK_NODE_LABEL,VAR1:terminals.VAR1,VAR2:terminals.VAR2,PERCENT:terminals.PERCENT,Comment:api_3({name:"Comment",pattern:/#[^\n]*/,group:"comments"}),LCurly:api_3({name:"LCurly",pattern:"{"}),RCurly:api_3({name:"RCurly",pattern:"}"}),LParen:api_3({name:"LParen",pattern:"("}),RParen:api_3({name:"RParen",pattern:")"}),WhiteSpace:api_3({name:"WhiteSpace",pattern:/\s+/,group:api_2.SKIPPED,line_breaks:!0}),Star:api_3({name:"Star",pattern:"*"}),Unknown:api_3({name:"Unknown",pattern:/\w+/}),Period:api_3({name:"Period",pattern:"."}),QuestionMark:api_3({name:"QuestionMark",pattern:"?"}),Plus:api_3({name:"Plus",pattern:"+"}),Minus:api_3({name:"Minus",pattern:"-"}),LBracket:api_3({name:"LBracket",pattern:"["}),RBracket:api_3({name:"RBracket",pattern:"]"}),Semicolon:api_3({name:"Semicolon",pattern:";"}),Comma:api_3({name:"Comma",pattern:","}),Pipe:api_3({name:"Pipe",pattern:"|"}),ForwardSlash:api_3({name:"ForwardSlash",pattern:"/"}),Caret:api_3({name:"Caret",pattern:"^"}),DoubleCaret:api_3({name:"DoubleCaret",pattern:"^^"}),Bang:api_3({name:"Bang",pattern:"!"}),LogicalOr:api_3({name:"LogicalOr",pattern:"||"}),LogicalAnd:api_3({name:"LogicalAnd",pattern:"&&"}),Equals:api_3({name:"Equals",pattern:"="}),NotEquals:api_3({name:"NotEquals",pattern:"!="}),LessThan:api_3({name:"LessThan",pattern:"<"}),GreaterThan:api_3({name:"GreaterThan",pattern:">"}),LessThanEquals:api_3({name:"LessThanEquals",pattern:"<="}),GreaterThanEquals:api_3({name:"GreaterThanEquals",pattern:">="}),SELECT:keywords.SELECT,CONSTRUCT:keywords.CONSTRUCT,DISTINCT:keywords.DISTINCT,START:keywords.START,END:keywords.END,VIA:keywords.VIA,CYCLIC:keywords.CYCLIC,PATHS_SHORTEST:keywords.PATHS_SHORTEST,PATHS_ALL:keywords.PATHS_ALL,PATHS:keywords.PATHS,AS:keywords.AS,WHERE:keywords.WHERE,A:keywords.A,GroupBy:keywords.GroupBy,OrderBy:keywords.OrderBy,By:keywords.By,BASE:keywords.BASE,PREFIX:keywords.PREFIX,DESCRIBE:keywords.DESCRIBE,ASK:keywords.ASK,FROM:keywords.FROM,REDUCED:keywords.REDUCED,NAMED:keywords.NAMED,HAVING:keywords.HAVING,ASC:keywords.ASC,DESC:keywords.DESC,OFFSET:keywords.OFFSET,LIMIT:keywords.LIMIT,VALUES:keywords.VALUES,LOAD:keywords.LOAD,SILENT:keywords.SILENT,INTO:keywords.INTO,CLEAR:keywords.CLEAR,DROP:keywords.DROP,CREATE:keywords.CREATE,ADD:keywords.ADD,TO:keywords.TO,MOVE:keywords.MOVE,COPY:keywords.COPY,INSERT_DATA:keywords.INSERT_DATA,DELETE_DATA:keywords.DELETE_DATA,DELETE_WHERE:keywords.DELETE_WHERE,WITH:keywords.WITH,DELETE:keywords.DELETE,INSERT:keywords.INSERT,USING:keywords.USING,DEFAULT:keywords.DEFAULT,GRAPH:keywords.GRAPH,ALL:keywords.ALL,OPTIONAL:keywords.OPTIONAL,SERVICE:keywords.SERVICE,BIND:keywords.BIND,UNDEF:keywords.UNDEF,MINUS:keywords.MINUS,UNION:keywords.UNION,FILTER:keywords.FILTER,STR:keywords.STR,LANG:keywords.LANG,LANGMATCHERS:keywords.LANGMATCHERS,DATATYPE:keywords.DATATYPE,BOUND:keywords.BOUND,IRI:keywords.IRI,URI:keywords.URI,BNODE:keywords.BNODE,RAND:keywords.RAND,ABS:keywords.ABS,CEIL:keywords.CEIL,FLOOR:keywords.FLOOR,ROUND:keywords.ROUND,CONCAT:keywords.CONCAT,STRLEN:keywords.STRLEN,UCASE:keywords.UCASE,LCASE:keywords.LCASE,ENCODE_FOR_URI:keywords.ENCODE_FOR_URI,CONTAINS:keywords.CONTAINS,STRSTARTS:keywords.STRSTARTS,STRENDS:keywords.STRENDS,STRBEFORE:keywords.STRBEFORE,STRAFTER:keywords.STRAFTER,YEAR:keywords.YEAR,MONTH:keywords.MONTH,DAY:keywords.DAY,HOURS:keywords.HOURS,MINUTES:keywords.MINUTES,SECONDS:keywords.SECONDS,TIMEZONE:keywords.TIMEZONE,TZ:keywords.TZ,NOW:keywords.NOW,UUID:keywords.UUID,STRUUID:keywords.STRUUID,MD5:keywords.MD5,SHA1:keywords.SHA1,SHA256:keywords.SHA256,SHA384:keywords.SHA384,SHA512:keywords.SHA512,COALESCE:keywords.COALESCE,IF:keywords.IF,STRLANG:keywords.STRLANG,STRDT:keywords.STRDT,sameTerm:keywords.sameTerm,isIRI:keywords.isIRI,isURI:keywords.isURI,isBlank:keywords.isBlank,isLiteral:keywords.isLiteral,isNumeric:keywords.isNumeric,REGEX:keywords.REGEX,SUBSTR:keywords.SUBSTR,REPLACE:keywords.REPLACE,EXISTS:keywords.EXISTS,NOT_EXISTS:keywords.NOT_EXISTS,COUNT:keywords.COUNT,SUM:keywords.SUM,MIN:keywords.MIN,AVG:keywords.AVG,SAMPLE:keywords.SAMPLE,GROUP_CONCAT:keywords.GROUP_CONCAT,SEPARATOR:keywords.SEPARATOR,TRUE:keywords.TRUE,FALSE:keywords.FALSE,IN:keywords.IN,NOT_IN:keywords.NOT_IN,MAX_LENGTH:keywords.MAX_LENGTH,MAX:keywords.MAX},baseTokens=[tokenMap.NIL,tokenMap.ANON,tokenMap.LCurly,tokenMap.RCurly,tokenMap.LParen,tokenMap.RParen,tokenMap.WhiteSpace,tokenMap.IRIREF,tokenMap.LANGTAG,tokenMap.DOUBLE,tokenMap.DECIMAL,tokenMap.INTEGER,tokenMap.DOUBLE_POSITIVE,tokenMap.DECIMAL_POSITIVE,tokenMap.INTEGER_POSITIVE,tokenMap.DOUBLE_NEGATIVE,tokenMap.DECIMAL_NEGATIVE,tokenMap.INTEGER_NEGATIVE,tokenMap.STRING_LITERAL1,tokenMap.STRING_LITERAL2,tokenMap.STRING_LITERAL_LONG1,tokenMap.STRING_LITERAL_LONG2,tokenMap.PNAME_NS,tokenMap.PNAME_LN,tokenMap.BLANK_NODE_LABEL,tokenMap.VAR1,tokenMap.VAR2,tokenMap.Comment,tokenMap.SELECT,tokenMap.CONSTRUCT,tokenMap.DISTINCT,tokenMap.Star,tokenMap.WHERE,tokenMap.GroupBy,tokenMap.OrderBy,tokenMap.By,tokenMap.Period,tokenMap.QuestionMark,tokenMap.Plus,tokenMap.Minus,tokenMap.LBracket,tokenMap.RBracket,tokenMap.PERCENT,tokenMap.BASE,tokenMap.PREFIX,tokenMap.DESCRIBE,tokenMap.ASK,tokenMap.FROM,tokenMap.REDUCED,tokenMap.NAMED,tokenMap.HAVING,tokenMap.ASC,tokenMap.DESC,tokenMap.OFFSET,tokenMap.LIMIT,tokenMap.VALUES,tokenMap.LOAD,tokenMap.SILENT,tokenMap.INTO,tokenMap.AS,tokenMap.CLEAR,tokenMap.DROP,tokenMap.CREATE,tokenMap.ADD,tokenMap.TO,tokenMap.MOVE,tokenMap.COPY,tokenMap.INSERT_DATA,tokenMap.DELETE_DATA,tokenMap.DELETE_WHERE,tokenMap.WITH,tokenMap.DELETE,tokenMap.INSERT,tokenMap.USING,tokenMap.DEFAULT,tokenMap.GRAPH,tokenMap.ALL,tokenMap.OPTIONAL,tokenMap.SERVICE,tokenMap.BIND,tokenMap.UNDEF,tokenMap.MINUS,tokenMap.UNION,tokenMap.FILTER,tokenMap.LANGMATCHERS,tokenMap.LANG,tokenMap.DATATYPE,tokenMap.BOUND,tokenMap.IRI,tokenMap.URI,tokenMap.BNODE,tokenMap.RAND,tokenMap.ABS,tokenMap.CEIL,tokenMap.FLOOR,tokenMap.ROUND,tokenMap.CONCAT,tokenMap.STRLEN,tokenMap.UCASE,tokenMap.LCASE,tokenMap.ENCODE_FOR_URI,tokenMap.CONTAINS,tokenMap.STRSTARTS,tokenMap.STRENDS,tokenMap.STRBEFORE,tokenMap.STRAFTER,tokenMap.YEAR,tokenMap.MONTH,tokenMap.DAY,tokenMap.HOURS,tokenMap.MINUTES,tokenMap.SECONDS,tokenMap.TIMEZONE,tokenMap.TZ,tokenMap.NOW,tokenMap.UUID,tokenMap.STRUUID,tokenMap.MD5,tokenMap.SHA1,tokenMap.SHA256,tokenMap.SHA384,tokenMap.SHA512,tokenMap.COALESCE,tokenMap.IF,tokenMap.STRLANG,tokenMap.STRDT,tokenMap.STR,tokenMap.sameTerm,tokenMap.isIRI,tokenMap.isURI,tokenMap.isBlank,tokenMap.isLiteral,tokenMap.isNumeric,tokenMap.REGEX,tokenMap.SUBSTR,tokenMap.REPLACE,tokenMap.EXISTS,tokenMap.NOT_EXISTS,tokenMap.COUNT,tokenMap.SUM,tokenMap.MIN,tokenMap.MAX_LENGTH,tokenMap.MAX,tokenMap.AVG,tokenMap.SAMPLE,tokenMap.GROUP_CONCAT,tokenMap.SEPARATOR,tokenMap.TRUE,tokenMap.FALSE,tokenMap.Semicolon,tokenMap.Comma,tokenMap.ForwardSlash,tokenMap.DoubleCaret,tokenMap.Caret,tokenMap.LogicalOr,tokenMap.Pipe,tokenMap.LogicalAnd,tokenMap.NotEquals,tokenMap.Bang,tokenMap.Equals,tokenMap.LessThanEquals,tokenMap.GreaterThanEquals,tokenMap.LessThan,tokenMap.GreaterThan,tokenMap.IN,tokenMap.NOT_IN,tokenMap.A,tokenMap.Unknown],pathsTokens=[tokenMap.START,tokenMap.END,tokenMap.VIA,tokenMap.CYCLIC,tokenMap.PATHS_SHORTEST,tokenMap.PATHS_ALL,tokenMap.PATHS],tokenTypes=baseTokens.concat(pathsTokens),tokens$2=Object.freeze({tokenMap:tokenMap,baseTokens:baseTokens,pathsTokens:pathsTokens,tokenTypes:tokenTypes});function log(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var BaseSparqlParser=function(t){function e(e,n){void 0===e&&(e={});var r=t.call(this,e.input||[],n,__assign({recoveryEnabled:!0,outputCst:!0},e.config))||this;return r.tokenize=function(t){return r.lexer.tokenize(t).tokens},r.parse=function(t){r.input=r.lexer.tokenize(t).tokens;var e=r.SparqlDoc();return{errors:r.errors,cst:e}},r.SparqlDoc=r.RULE("SparqlDoc",function(){log("SparqlDoc"),r.SUBRULE(r.Prologue),r.OR([{ALT:function(){return r.SUBRULE(r.QueryUnit)}},{ALT:function(){return r.SUBRULE(r.UpdateUnit)}}])}),r.QueryUnit=r.RULE("QueryUnit",function(){log("QueryUnit"),r.SUBRULE(r.Query)}),r.Query=r.RULE("Query",function(){log("Query"),r.OR([{ALT:function(){return r.SUBRULE(r.SelectQuery)}},{ALT:function(){return r.SUBRULE(r.ConstructQuery)}},{ALT:function(){return r.SUBRULE(r.DescribeQuery)}},{ALT:function(){return r.SUBRULE(r.AskQuery)}}]),r.SUBRULE(r.ValuesClause)}),r.Constant=r.RULE("Constant",function(){r.OR([{ALT:function(){return r.SUBRULE(r.iri)}},{ALT:function(){return r.SUBRULE(r.RDFLiteral)}},{ALT:function(){return r.SUBRULE(r.NumericLiteral)}},{ALT:function(){return r.SUBRULE(r.BooleanLiteral)}}])}),r.MaxLength=r.RULE("MaxLength",function(){r.CONSUME(tokenMap.MAX_LENGTH),r.CONSUME(tokenMap.INTEGER)}),r.UpdateUnit=r.RULE("UpdateUnit",function(){log("UpdateUnit"),r.SUBRULE(r.Update)}),r.Prologue=r.RULE("Prologue",function(){log("Prologue"),r.MANY(function(){return r.OR([{ALT:function(){return r.SUBRULE(r.BaseDecl)}},{ALT:function(){return r.SUBRULE(r.PrefixDecl)}}])})}),r.BaseDecl=r.RULE("BaseDecl",function(){log("BaseDecl"),r.CONSUME(tokenMap.BASE),r.CONSUME(tokenMap.IRIREF)}),r.PrefixDecl=r.RULE("PrefixDecl",function(){log("PrefixDecl"),r.CONSUME(tokenMap.PREFIX),r.CONSUME(tokenMap.PNAME_NS),r.CONSUME(tokenMap.IRIREF)}),r.SelectQuery=r.RULE("SelectQuery",function(){log("SelectQuery"),r.SUBRULE(r.SelectClause),r.MANY(function(){return r.SUBRULE(r.DatasetClause)}),r.SUBRULE(r.WhereClause),r.SUBRULE(r.SolutionModifier)}),r.SubSelect=r.RULE("SubSelect",function(){log("SubSelect"),r.SUBRULE(r.SelectClause),r.SUBRULE(r.WhereClause),r.SUBRULE(r.SolutionModifier),r.SUBRULE(r.ValuesClause)}),r.SelectClause=r.RULE("SelectClause",function(){log("SelectClause"),r.CONSUME(tokenMap.SELECT),r.OPTION(function(){return r.OR([{ALT:function(){return r.CONSUME(tokenMap.DISTINCT)}},{ALT:function(){return r.CONSUME(tokenMap.REDUCED)}}])}),r.OR1([{ALT:function(){r.AT_LEAST_ONE(function(){return r.OR2([{ALT:function(){return r.SUBRULE(r.Var)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.AS),r.SUBRULE1(r.Var),r.CONSUME(tokenMap.RParen)}}])})}},{ALT:function(){return r.CONSUME(tokenMap.Star)}}])}),r.ConstructQuery=r.RULE("ConstructQuery",function(){r.CONSUME(tokenMap.CONSTRUCT),r.OR([{ALT:function(){r.SUBRULE(r.ConstructTemplate),r.MANY(function(){return r.SUBRULE(r.DatasetClause)}),r.SUBRULE(r.WhereClause)}},{ALT:function(){r.MANY1(function(){return r.SUBRULE1(r.DatasetClause)}),r.CONSUME(tokenMap.WHERE),r.CONSUME(tokenMap.LCurly),r.OPTION(function(){return r.SUBRULE(r.TriplesTemplate)}),r.CONSUME(tokenMap.RCurly)}}]),r.SUBRULE(r.SolutionModifier)}),r.DescribeQuery=r.RULE("DescribeQuery",function(){log("DescribeQuery"),r.CONSUME(tokenMap.DESCRIBE),r.OR([{ALT:function(){r.AT_LEAST_ONE(function(){return r.SUBRULE(r.VarOrIri)})}},{ALT:function(){return r.CONSUME(tokenMap.Star)}}]),r.MANY(function(){return r.SUBRULE(r.DatasetClause)}),r.OPTION(function(){return r.SUBRULE(r.WhereClause)}),r.SUBRULE(r.SolutionModifier)}),r.AskQuery=r.RULE("AskQuery",function(){log("AskQuery"),r.CONSUME(tokenMap.ASK),r.MANY(function(){return r.SUBRULE(r.DatasetClause)}),r.SUBRULE(r.WhereClause),r.SUBRULE(r.SolutionModifier)}),r.DatasetClause=r.RULE("DatasetClause",function(){log("DatasetClause"),r.CONSUME(tokenMap.FROM),r.OR([{ALT:function(){return r.SUBRULE(r.DefaultGraphClause)}},{ALT:function(){return r.SUBRULE(r.NamedGraphClause)}}])}),r.DefaultGraphClause=r.RULE("DefaultGraphClause",function(){log("DefaultGraphClause"),r.SUBRULE(r.SourceSelector)}),r.NamedGraphClause=r.RULE("NamedGraphClause",function(){log("NamedGraphClause"),r.CONSUME(tokenMap.NAMED),r.SUBRULE(r.SourceSelector)}),r.SourceSelector=r.RULE("SourceSelector",function(){log("SourceSelector"),r.SUBRULE(r.iri)}),r.WhereClause=r.RULE("WhereClause",function(){log("WhereClause"),r.OPTION(function(){return r.CONSUME(tokenMap.WHERE)}),r.SUBRULE(r.GroupGraphPattern)}),r.SolutionModifier=r.RULE("SolutionModifier",function(){log("SolutionModifier"),r.OPTION(function(){return r.SUBRULE(r.GroupClause)}),r.OPTION1(function(){return r.SUBRULE(r.HavingClause)}),r.OPTION2(function(){return r.SUBRULE(r.OrderClause)}),r.OPTION3(function(){return r.SUBRULE(r.LimitOffsetClause)})}),r.GroupClause=r.RULE("GroupClause",function(){log("GroupClause"),r.CONSUME(tokenMap.GroupBy),r.AT_LEAST_ONE(function(){return r.SUBRULE(r.GroupCondition)})}),r.GroupCondition=r.RULE("GroupCondition",function(){log("GroupCondition"),r.OR([{ALT:function(){return r.SUBRULE(r.BuiltInCall)}},{ALT:function(){return r.SUBRULE(r.FunctionCall)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.OPTION(function(){r.CONSUME(tokenMap.AS),r.SUBRULE(r.Var)}),r.CONSUME(tokenMap.RParen)}},{ALT:function(){return r.SUBRULE1(r.Var)}}])}),r.HavingClause=r.RULE("HavingClause",function(){log("HavingClause"),r.CONSUME(tokenMap.HAVING),r.SUBRULE(r.HavingCondition)}),r.HavingCondition=r.RULE("HavingCondition",function(){log("HavingCondition"),r.SUBRULE(r.Constraint)}),r.OrderClause=r.RULE("OrderClause",function(){log("OrderClause"),r.CONSUME(tokenMap.OrderBy),r.AT_LEAST_ONE(function(){return r.SUBRULE(r.OrderCondition)})}),r.OrderCondition=r.RULE("OrderCondition",function(){log("OrderCondition"),r.OR([{ALT:function(){r.OR1([{ALT:function(){return r.CONSUME(tokenMap.ASC)}},{ALT:function(){return r.CONSUME(tokenMap.DESC)}}]),r.SUBRULE(r.BrackettedExpression)}},{ALT:function(){return r.SUBRULE(r.Constraint)}},{ALT:function(){return r.SUBRULE(r.Var)}}])}),r.LimitOffsetClause=r.RULE("LimitOffsetClause",function(){log("LimitOffsetClause"),r.OR([{ALT:function(){r.SUBRULE(r.LimitClause),r.OPTION(function(){return r.SUBRULE(r.OffsetClause)})}},{ALT:function(){r.SUBRULE1(r.OffsetClause),r.OPTION1(function(){return r.SUBRULE1(r.LimitClause)})}}])}),r.OffsetClause=r.RULE("OffsetClause",function(){log("OffsetClause"),r.CONSUME(tokenMap.OFFSET),r.CONSUME(tokenMap.INTEGER)}),r.LimitClause=r.RULE("LimitClause",function(){log("LimitClause"),r.CONSUME(tokenMap.LIMIT),r.CONSUME(tokenMap.INTEGER)}),r.ValuesClause=r.RULE("ValuesClause",function(){log("ValuesClause"),r.OPTION(function(){r.CONSUME(tokenMap.VALUES),r.SUBRULE(r.DataBlock)})}),r.Update=r.RULE("Update",function(){log("Update"),r.SUBRULE(r.Prologue),r.OPTION(function(){r.SUBRULE(r.Update1),r.OPTION1(function(){r.CONSUME(tokenMap.Semicolon),r.SUBRULE(r.Update)})})}),r.Update1=r.RULE("Update1",function(){log("Update1"),r.OR([{ALT:function(){return r.SUBRULE(r.Load)}},{ALT:function(){return r.SUBRULE(r.Clear)}},{ALT:function(){return r.SUBRULE(r.Drop)}},{ALT:function(){return r.SUBRULE(r.Add)}},{ALT:function(){return r.SUBRULE(r.Move)}},{ALT:function(){return r.SUBRULE(r.Copy)}},{ALT:function(){return r.SUBRULE(r.Create)}},{ALT:function(){return r.SUBRULE(r.InsertData)}},{ALT:function(){return r.SUBRULE(r.DeleteData)}},{ALT:function(){return r.SUBRULE(r.DeleteWhere)}},{ALT:function(){return r.SUBRULE(r.Modify)}}])}),r.Load=r.RULE("Load",function(){log("Load"),r.CONSUME(tokenMap.LOAD),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.iri),r.OPTION1(function(){r.CONSUME(tokenMap.INTO),r.SUBRULE(r.GraphRef)})}),r.Clear=r.RULE("Clear",function(){log("Clear"),r.CONSUME(tokenMap.CLEAR),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.GraphRefAll)}),r.Drop=r.RULE("Drop",function(){log("Drop"),r.CONSUME(tokenMap.DROP),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.GraphRefAll)}),r.Create=r.RULE("Create",function(){log("Create"),r.CONSUME(tokenMap.CREATE),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.GraphRefAll)}),r.Add=r.RULE("Add",function(){log("Add"),r.CONSUME(tokenMap.ADD),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.GraphOrDefault),r.CONSUME(tokenMap.TO),r.SUBRULE1(r.GraphOrDefault)}),r.Move=r.RULE("Move",function(){log("Move"),r.CONSUME(tokenMap.MOVE),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.GraphOrDefault),r.CONSUME(tokenMap.TO),r.SUBRULE1(r.GraphOrDefault)}),r.Copy=r.RULE("Copy",function(){log("Copy"),r.CONSUME(tokenMap.COPY),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.GraphOrDefault),r.CONSUME(tokenMap.TO),r.SUBRULE1(r.GraphOrDefault)}),r.InsertData=r.RULE("InsertData",function(){log("InsertData"),r.CONSUME(tokenMap.INSERT_DATA),r.SUBRULE(r.QuadData)}),r.DeleteData=r.RULE("DeleteData",function(){log("DeleteData"),r.CONSUME(tokenMap.DELETE_DATA),r.SUBRULE(r.QuadData)}),r.DeleteWhere=r.RULE("DeleteWhere",function(){log("DeleteWhere"),r.CONSUME(tokenMap.DELETE_WHERE),r.SUBRULE(r.QuadPattern)}),r.Modify=r.RULE("Modify",function(){log("Modify"),r.OPTION(function(){r.CONSUME(tokenMap.WITH),r.SUBRULE(r.iri)}),r.OR([{ALT:function(){r.SUBRULE(r.DeleteClause),r.OPTION1(function(){return r.SUBRULE(r.InsertClause)})}},{ALT:function(){return r.SUBRULE1(r.InsertClause)}}]),r.MANY(function(){return r.SUBRULE(r.UsingClause)}),r.CONSUME(tokenMap.WHERE),r.SUBRULE(r.GroupGraphPattern)}),r.DeleteClause=r.RULE("DeleteClause",function(){log("DeleteClause"),r.CONSUME(tokenMap.DELETE),r.SUBRULE(r.QuadPattern)}),r.InsertClause=r.RULE("InsertClause",function(){log("InsertClause"),r.CONSUME(tokenMap.INSERT),r.SUBRULE(r.QuadPattern)}),r.UsingClause=r.RULE("UsingClause",function(){log("UsingClause"),r.CONSUME(tokenMap.USING),r.OR([{ALT:function(){return r.SUBRULE(r.iri)}},{ALT:function(){r.CONSUME(tokenMap.NAMED),r.SUBRULE1(r.iri)}}])}),r.GraphOrDefault=r.RULE("GraphOrDefault",function(){log("GraphOrDefault"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.DEFAULT)}},{ALT:function(){r.OPTION(function(){return r.CONSUME(tokenMap.GRAPH)}),r.SUBRULE(r.iri)}}])}),r.GraphRef=r.RULE("GraphRef",function(){log("GraphRef"),r.CONSUME(tokenMap.GRAPH),r.SUBRULE(r.iri)}),r.GraphRefAll=r.RULE("GraphRefAll",function(){log("GraphRefAll"),r.OR([{ALT:function(){return r.SUBRULE(r.GraphRef)}},{ALT:function(){return r.CONSUME(tokenMap.DEFAULT)}},{ALT:function(){return r.CONSUME(tokenMap.NAMED)}},{ALT:function(){return r.CONSUME(tokenMap.ALL)}}])}),r.QuadPattern=r.RULE("QuadPattern",function(){log("QuadPattern"),r.CONSUME(tokenMap.LCurly),r.SUBRULE(r.Quads),r.CONSUME(tokenMap.RCurly)}),r.QuadData=r.RULE("QuadData",function(){log("QuadData"),r.CONSUME(tokenMap.LCurly),r.SUBRULE(r.Quads),r.CONSUME(tokenMap.RCurly)}),r.Quads=r.RULE("Quads",function(){log("Quads"),r.OPTION(function(){return r.SUBRULE(r.TriplesTemplate)}),r.MANY(function(){r.SUBRULE(r.QuadsNotTriples),r.OPTION1(function(){return r.CONSUME(tokenMap.Period)}),r.OPTION2(function(){return r.SUBRULE1(r.TriplesTemplate)})})}),r.QuadsNotTriples=r.RULE("QuadsNotTriples",function(){log("QuadsNotTriples"),r.CONSUME(tokenMap.GRAPH),r.SUBRULE(r.VarOrIri),r.CONSUME(tokenMap.LCurly),r.OPTION(function(){return r.SUBRULE(r.TriplesTemplate)}),r.CONSUME(tokenMap.RCurly)}),r.TriplesTemplate=r.RULE("TriplesTemplate",function(){log("TriplesTemplate"),r.SUBRULE(r.TriplesSameSubject),r.OPTION(function(){r.CONSUME(tokenMap.Period),r.OPTION1(function(){return r.SUBRULE(r.TriplesTemplate)})})}),r.GroupGraphPattern=r.RULE("GroupGraphPattern",function(){log("GroupGraphPattern"),r.CONSUME(tokenMap.LCurly),r.OR([{ALT:function(){return r.SUBRULE(r.SubSelect)}},{ALT:function(){return r.SUBRULE(r.GroupGraphPatternSub)}}]),r.CONSUME(tokenMap.RCurly)}),r.GroupGraphPatternSub=r.RULE("GroupGraphPatternSub",function(){log("GroupGraphPatternSub"),r.OPTION(function(){return r.SUBRULE(r.TriplesBlock)}),r.MANY(function(){r.SUBRULE(r.GraphPatternNotTriples),r.OPTION1(function(){return r.CONSUME(tokenMap.Period)}),r.OPTION2(function(){return r.SUBRULE1(r.TriplesBlock)})})}),r.TriplesBlock=r.RULE("TriplesBlock",function(){log("TriplesBlock"),r.SUBRULE(r.TriplesSameSubjectPath),r.OPTION(function(){r.CONSUME(tokenMap.Period),r.OPTION1(function(){return r.SUBRULE(r.TriplesBlock)})})}),r.GraphPatternNotTriples=r.RULE("GraphPatternNotTriples",function(){log("GraphPatternNotTriples"),r.OR([{ALT:function(){return r.SUBRULE(r.GroupOrUnionGraphPattern)}},{ALT:function(){return r.SUBRULE(r.OptionalGraphPattern)}},{ALT:function(){return r.SUBRULE(r.MinusGraphPattern)}},{ALT:function(){return r.SUBRULE(r.GraphGraphPattern)}},{ALT:function(){return r.SUBRULE(r.ServiceGraphPattern)}},{ALT:function(){return r.SUBRULE(r.Filter)}},{ALT:function(){return r.SUBRULE(r.Bind)}},{ALT:function(){return r.SUBRULE(r.InlineData)}}])}),r.OptionalGraphPattern=r.RULE("OptionalGraphPattern",function(){log("OptionalGraphPattern"),r.CONSUME(tokenMap.OPTIONAL),r.SUBRULE(r.GroupGraphPattern)}),r.GraphGraphPattern=r.RULE("GraphGraphPattern",function(){log("GraphGraphPattern"),r.CONSUME(tokenMap.GRAPH),r.SUBRULE(r.VarOrIri),r.SUBRULE(r.GroupGraphPattern)}),r.ServiceGraphPattern=r.RULE("ServiceGraphPattern",function(){log("ServiceGraphPattern"),r.CONSUME(tokenMap.SERVICE),r.OPTION(function(){return r.CONSUME(tokenMap.SILENT)}),r.SUBRULE(r.VarOrIri),r.SUBRULE(r.GroupGraphPattern)}),r.Bind=r.RULE("Bind",function(){log("Bind"),r.CONSUME(tokenMap.BIND),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.AS),r.SUBRULE(r.Var),r.CONSUME(tokenMap.RParen)}),r.InlineData=r.RULE("InlineData",function(){log("InlineData"),r.CONSUME(tokenMap.VALUES),r.SUBRULE(r.DataBlock)}),r.DataBlock=r.RULE("DataBlock",function(){log("DataBlock"),r.OR([{ALT:function(){return r.SUBRULE(r.InlineDataOneVar)}},{ALT:function(){return r.SUBRULE(r.InlineDataFull)}}])}),r.InlineDataOneVar=r.RULE("InlineDataOneVar",function(){log("InlineDataOneVar"),r.SUBRULE(r.Var),r.CONSUME(tokenMap.LCurly),r.MANY(function(){return r.SUBRULE(r.DataBlockValue)}),r.CONSUME(tokenMap.RCurly)}),r.InlineDataFull=r.RULE("InlineDataFull",function(){log("InlineDataFull"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.NIL)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.MANY(function(){return r.SUBRULE(r.Var)}),r.CONSUME(tokenMap.RParen)}}]),r.CONSUME(tokenMap.LCurly),r.MANY1(function(){return r.OR1([{ALT:function(){r.CONSUME1(tokenMap.LParen),r.MANY2(function(){return r.SUBRULE(r.DataBlockValue)}),r.CONSUME1(tokenMap.RParen)}},{ALT:function(){return r.CONSUME1(tokenMap.NIL)}}])}),r.CONSUME(tokenMap.RCurly)}),r.DataBlockValue=r.RULE("DataBlockValue",function(){log("DataBlockValue"),r.OR([{ALT:function(){return r.SUBRULE(r.iri)}},{ALT:function(){return r.SUBRULE(r.RDFLiteral)}},{ALT:function(){return r.SUBRULE(r.NumericLiteral)}},{ALT:function(){return r.SUBRULE(r.BooleanLiteral)}},{ALT:function(){return r.CONSUME(tokenMap.UNDEF)}}])}),r.MinusGraphPattern=r.RULE("MinusGraphPattern",function(){log("MinusGraphPattern"),r.CONSUME(tokenMap.MINUS),r.SUBRULE(r.GroupGraphPattern)}),r.GroupOrUnionGraphPattern=r.RULE("GroupOrUnionGraphPattern",function(){log("GroupOrUnionGraphPattern"),r.SUBRULE(r.GroupGraphPattern),r.MANY(function(){r.CONSUME(tokenMap.UNION),r.SUBRULE1(r.GroupGraphPattern)})}),r.Filter=r.RULE("Filter",function(){log("Filter"),r.CONSUME(tokenMap.FILTER),r.SUBRULE(r.Constraint)}),r.Constraint=r.RULE("Constraint",function(){log("Constraint"),r.OR([{ALT:function(){return r.SUBRULE(r.BrackettedExpression)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall)}},{ALT:function(){return r.SUBRULE(r.FunctionCall)}}])}),r.FunctionCall=r.RULE("FunctionCall",function(){log("FunctionCall"),r.SUBRULE(r.iri),r.SUBRULE(r.ArgList)}),r.ArgList=r.RULE("ArgList",function(){log("ArgList"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.NIL)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.OPTION(function(){return r.CONSUME(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.MANY(function(){r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression)}),r.CONSUME(tokenMap.RParen)}}])}),r.ExpressionList=r.RULE("ExpressionList",function(){log("ExpressionList"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.NIL)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.MANY(function(){r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression)}),r.CONSUME(tokenMap.RParen)}}])}),r.ConstructTemplate=r.RULE("ConstructTemplate",function(){log("ConstructTemplate"),r.CONSUME(tokenMap.LCurly),r.OPTION(function(){return r.SUBRULE(r.ConstructTriples)}),r.CONSUME(tokenMap.RCurly)}),r.ConstructTriples=r.RULE("ConstructTriples",function(){log("ConstructTriples"),r.SUBRULE(r.TriplesSameSubject),r.OPTION(function(){r.CONSUME(tokenMap.Period),r.OPTION1(function(){return r.SUBRULE(r.ConstructTriples)})})}),r.TriplesSameSubject=r.RULE("TriplesSameSubject",function(){log("TriplesSameSubject"),r.OR([{ALT:function(){r.SUBRULE(r.VarOrTerm),r.SUBRULE(r.PropertyListNotEmpty)}},{ALT:function(){r.SUBRULE(r.TriplesNode),r.SUBRULE(r.PropertyList)}}])}),r.PropertyList=r.RULE("PropertyList",function(){log("PropertyList"),r.OPTION(function(){return r.SUBRULE(r.PropertyListNotEmpty)})}),r.PropertyListNotEmpty=r.RULE("PropertyListNotEmpty",function(){log("PropertyListNotEmpty"),r.SUBRULE(r.Verb),r.SUBRULE(r.ObjectList),r.MANY(function(){r.CONSUME(tokenMap.Semicolon),r.OPTION(function(){r.SUBRULE1(r.Verb),r.SUBRULE1(r.ObjectList)})})}),r.Verb=r.RULE("Verb",function(){log("Verb"),r.OR([{ALT:function(){return r.SUBRULE(r.VarOrIri)}},{ALT:function(){return r.CONSUME(tokenMap.A)}}])}),r.ObjectList=r.RULE("ObjectList",function(){log("ObjectList"),r.AT_LEAST_ONE_SEP({SEP:tokenMap.Comma,DEF:function(){return r.SUBRULE(r.Object)}})}),r.Object=r.RULE("Object",function(){log("Object"),r.SUBRULE(r.GraphNode)}),r.TriplesSameSubjectPath=r.RULE("TriplesSameSubjectPath",function(){log("TriplesSameSubjectPath"),r.OR([{ALT:function(){r.SUBRULE(r.VarOrTerm),r.SUBRULE(r.PropertyListPathNotEmpty)}},{ALT:function(){r.SUBRULE(r.TriplesNodePath),r.SUBRULE(r.PropertyListPath)}}])}),r.PropertyListPath=r.RULE("PropertyListPath",function(){log("PropertyListPath"),r.OPTION(function(){return r.SUBRULE(r.PropertyListPathNotEmpty)})}),r.PropertyListPathNotEmpty=r.RULE("PropertyListPathNotEmpty",function(){log("PropertyListPathNotEmpty"),r.OR([{ALT:function(){return r.SUBRULE(r.VerbPath)}},{ALT:function(){return r.SUBRULE(r.VerbSimple)}}]),r.SUBRULE(r.ObjectListPath),r.MANY(function(){r.CONSUME(tokenMap.Semicolon),r.OPTION(function(){r.OR1([{ALT:function(){return r.SUBRULE1(r.VerbPath)}},{ALT:function(){return r.SUBRULE1(r.VerbSimple)}}]),r.SUBRULE1(r.ObjectListPath)})})}),r.VerbPath=r.RULE("VerbPath",function(){log("VerbPath"),r.SUBRULE(r.Path)}),r.VerbSimple=r.RULE("VerbSimple",function(){log("VerbSimple"),r.SUBRULE(r.Var)}),r.ObjectListPath=r.RULE("ObjectListPath",function(){log("ObjectListPath"),r.AT_LEAST_ONE_SEP({SEP:tokenMap.Comma,DEF:function(){return r.SUBRULE(r.ObjectPath)}})}),r.ObjectPath=r.RULE("ObjectPath",function(){log("ObjectPath"),r.SUBRULE(r.GraphNodePath)}),r.Path=r.RULE("Path",function(){log("Path"),r.SUBRULE(r.PathAlternative)}),r.PathAlternative=r.RULE("PathAlternative",function(){log("PathAlternative"),r.AT_LEAST_ONE_SEP({SEP:tokenMap.Pipe,DEF:function(){return r.SUBRULE(r.PathSequence)}})}),r.PathSequence=r.RULE("PathSequence",function(){log("PathSequence"),r.AT_LEAST_ONE_SEP({SEP:tokenMap.ForwardSlash,DEF:function(){return r.SUBRULE(r.PathEltOrInverse)}})}),r.PathElt=r.RULE("PathElt",function(){log("PathElt"),r.SUBRULE(r.PathPrimary),r.OPTION(function(){return r.SUBRULE(r.PathMod)})}),r.PathEltOrInverse=r.RULE("PathEltOrInverse",function(){log("PathEltOrInverse"),r.OPTION(function(){return r.CONSUME(tokenMap.Caret)}),r.SUBRULE(r.PathElt)}),r.PathMod=r.RULE("PathMod",function(){log("PathMod"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.QuestionMark)}},{ALT:function(){return r.CONSUME(tokenMap.Star)}},{ALT:function(){return r.CONSUME(tokenMap.Plus)}}])}),r.PathPrimary=r.RULE("PathPrimary",function(){log("PathPrimary"),r.OR([{ALT:function(){return r.SUBRULE(r.iri)}},{ALT:function(){return r.CONSUME(tokenMap.A)}},{ALT:function(){r.CONSUME(tokenMap.Bang),r.SUBRULE(r.PathNegatedPropertySet)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Path),r.CONSUME(tokenMap.RParen)}}])}),r.PathNegatedPropertySet=r.RULE("PathNegatedPropertySet",function(){log("PathNegatedPropertySet"),r.OR([{ALT:function(){return r.SUBRULE(r.PathOneInPropertySet)}},{ALT:function(){r.CONSUME(tokenMap.LParen),r.MANY_SEP({SEP:tokenMap.Pipe,DEF:function(){return r.SUBRULE1(r.PathOneInPropertySet)}}),r.CONSUME(tokenMap.RParen)}}])}),r.PathOneInPropertySet=r.RULE("PathOneInPropertySet",function(){log("PathOneInPropertySet"),r.OPTION(function(){return r.CONSUME(tokenMap.Caret)}),r.OR([{ALT:function(){return r.SUBRULE(r.iri)}},{ALT:function(){return r.CONSUME(tokenMap.A)}}])}),r.Integer=r.RULE("Integer",function(){log("Integer"),r.CONSUME(tokenMap.INTEGER)}),r.TriplesNode=r.RULE("TriplesNode",function(){log("TriplesNode"),r.OR([{ALT:function(){return r.SUBRULE(r.Collection)}},{ALT:function(){return r.SUBRULE(r.BlankNodePropertyList)}}])}),r.BlankNodePropertyList=r.RULE("BlankNodePropertyList",function(){log("BlankNodePropertyList"),r.CONSUME(tokenMap.LBracket),r.SUBRULE(r.PropertyListNotEmpty),r.CONSUME(tokenMap.RBracket)}),r.TriplesNodePath=r.RULE("TriplesNodePath",function(){log("TriplesNodePath"),r.OR([{ALT:function(){return r.SUBRULE(r.CollectionPath)}},{ALT:function(){return r.SUBRULE(r.BlankNodePropertyListPath)}}])}),r.BlankNodePropertyListPath=r.RULE("BlankNodePropertyListPath",function(){log("BlankNodePropertyListPath"),r.CONSUME(tokenMap.LBracket),r.SUBRULE(r.PropertyListPathNotEmpty),r.CONSUME(tokenMap.RBracket)}),r.Collection=r.RULE("Collection",function(){log("Collection"),r.CONSUME(tokenMap.LParen),r.AT_LEAST_ONE(function(){return r.SUBRULE(r.GraphNode)}),r.CONSUME(tokenMap.RParen)}),r.CollectionPath=r.RULE("CollectionPath",function(){log("CollectionPath"),r.CONSUME(tokenMap.LParen),r.AT_LEAST_ONE(function(){return r.SUBRULE(r.GraphNodePath)}),r.CONSUME(tokenMap.RParen)}),r.GraphNode=r.RULE("GraphNode",function(){log("GraphNode"),r.OR([{ALT:function(){return r.SUBRULE(r.VarOrTerm)}},{ALT:function(){return r.SUBRULE(r.TriplesNode)}}])}),r.GraphNodePath=r.RULE("GraphNodePath",function(){log("GraphNodePath"),r.OR([{ALT:function(){return r.SUBRULE(r.VarOrTerm)}},{ALT:function(){return r.SUBRULE(r.TriplesNodePath)}}])}),r.VarOrTerm=r.RULE("VarOrTerm",function(){log("VarOrTerm"),r.OR([{ALT:function(){return r.SUBRULE(r.Var)}},{ALT:function(){return r.SUBRULE(r.GraphTerm)}}])}),r.VarOrIri=r.RULE("VarOrIri",function(){log("VarOrIri"),r.OR([{ALT:function(){return r.SUBRULE(r.Var)}},{ALT:function(){return r.SUBRULE(r.iri)}}])}),r.Var=r.RULE("Var",function(){log("Var"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.VAR1)}},{ALT:function(){return r.CONSUME(tokenMap.VAR2)}}])}),r.GraphTerm=r.RULE("GraphTerm",function(){log("GraphTerm"),r.OR([{ALT:function(){return r.SUBRULE(r.iri)}},{ALT:function(){return r.SUBRULE(r.RDFLiteral)}},{ALT:function(){return r.SUBRULE(r.NumericLiteral)}},{ALT:function(){return r.SUBRULE(r.BooleanLiteral)}},{ALT:function(){return r.SUBRULE(r.BlankNode)}},{ALT:function(){return r.CONSUME(tokenMap.NIL)}}])}),r.Expression=r.RULE("Expression",function(){log("Expression"),r.SUBRULE(r.ConditionalOrExpression)}),r.ConditionalOrExpression=r.RULE("ConditionalOrExpression",function(){log("ConditionalOrExpression"),r.AT_LEAST_ONE_SEP({SEP:tokenMap.LogicalOr,DEF:function(){return r.SUBRULE(r.ConditionalAndExpression)}})}),r.ConditionalAndExpression=r.RULE("ConditionalAndExpression",function(){log("ConditionalAndExpression"),r.AT_LEAST_ONE_SEP({SEP:tokenMap.LogicalAnd,DEF:function(){return r.SUBRULE(r.ValueLogical)}})}),r.ValueLogical=r.RULE("ValueLogical",function(){log("ValueLogical"),r.SUBRULE(r.RelationalExpression)}),r.RelationalExpression=r.RULE("RelationalExpression",function(){log("RelationalExpression"),r.SUBRULE(r.NumericExpression),r.OPTION(function(){return r.OR([{ALT:function(){r.OR1([{ALT:function(){return r.CONSUME(tokenMap.Equals)}},{ALT:function(){return r.CONSUME(tokenMap.NotEquals)}},{ALT:function(){return r.CONSUME(tokenMap.LessThan)}},{ALT:function(){return r.CONSUME(tokenMap.GreaterThan)}},{ALT:function(){return r.CONSUME(tokenMap.LessThanEquals)}},{ALT:function(){return r.CONSUME(tokenMap.GreaterThanEquals)}}]),r.SUBRULE1(r.NumericExpression)}},{ALT:function(){r.CONSUME(tokenMap.IN),r.SUBRULE(r.ExpressionList)}},{ALT:function(){r.CONSUME(tokenMap.NOT_IN),r.SUBRULE1(r.ExpressionList)}}])})}),r.NumericExpression=r.RULE("NumericExpression",function(){log("NumericExpression"),r.SUBRULE(r.AdditiveExpression)}),r.AdditiveExpression=r.RULE("AdditiveExpression",function(){log("AdditiveExpression"),r.SUBRULE(r.MultiplicativeExpression),r.MANY(function(){return r.OR([{ALT:function(){r.OR1([{ALT:function(){return r.CONSUME(tokenMap.Plus)}},{ALT:function(){return r.CONSUME(tokenMap.Minus)}}]),r.SUBRULE1(r.MultiplicativeExpression)}},{ALT:function(){r.OR2([{ALT:function(){return r.SUBRULE(r.NumericLiteralPositive)}},{ALT:function(){return r.SUBRULE(r.NumericLiteralNegative)}}]),r.MANY1(function(){return r.OR3([{ALT:function(){r.OR4([{ALT:function(){return r.CONSUME(tokenMap.Star)}},{ALT:function(){return r.CONSUME(tokenMap.ForwardSlash)}}]),r.SUBRULE1(r.UnaryExpression)}}])})}}])})}),r.MultiplicativeExpression=r.RULE("MultiplicativeExpression",function(){log("MultiplicativeExpression"),r.SUBRULE(r.UnaryExpression),r.MANY(function(){return r.OR([{ALT:function(){r.CONSUME(tokenMap.Star),r.SUBRULE1(r.UnaryExpression)}},{ALT:function(){r.CONSUME(tokenMap.ForwardSlash),r.SUBRULE2(r.UnaryExpression)}}])})}),r.UnaryExpression=r.RULE("UnaryExpression",function(){log("UnaryExpression"),r.OR([{ALT:function(){r.CONSUME(tokenMap.Bang),r.SUBRULE(r.PrimaryExpression)}},{ALT:function(){r.CONSUME(tokenMap.Plus),r.SUBRULE1(r.PrimaryExpression)}},{ALT:function(){r.CONSUME(tokenMap.Minus),r.SUBRULE2(r.PrimaryExpression)}},{ALT:function(){return r.SUBRULE3(r.PrimaryExpression)}}])}),r.PrimaryExpression=r.RULE("PrimaryExpression",function(){log("PrimaryExpression"),r.OR([{ALT:function(){return r.SUBRULE(r.BrackettedExpression)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall)}},{ALT:function(){return r.SUBRULE(r.iriOrFunction)}},{ALT:function(){return r.SUBRULE(r.RDFLiteral)}},{ALT:function(){return r.SUBRULE(r.NumericLiteral)}},{ALT:function(){return r.SUBRULE(r.BooleanLiteral)}},{ALT:function(){return r.SUBRULE(r.Var)}}])}),r.BrackettedExpression=r.RULE("BrackettedExpression",function(){log("BrackettedExpression"),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STR=r.RULE("BuiltInCall_STR",function(){log("BuiltInCall_STR"),r.CONSUME(tokenMap.STR),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_LANG=r.RULE("BuiltInCall_LANG",function(){log("BuiltInCall_LANG"),r.CONSUME(tokenMap.LANG),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_LANGMATCHERS=r.RULE("BuiltInCall_LANGMATCHERS",function(){log("BuiltInCall_LANGMATCHERS"),r.CONSUME(tokenMap.LANGMATCHERS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_DATATYPE=r.RULE("BuiltInCall_DATATYPE",function(){log("BuiltInCall_DATATYPE"),r.CONSUME(tokenMap.DATATYPE),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_BOUND=r.RULE("BuiltInCall_BOUND",function(){log("BuiltInCall_BOUND"),r.CONSUME(tokenMap.BOUND),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Var),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_IRI=r.RULE("BuiltInCall_IRI",function(){log("BuiltInCall_IRI"),r.CONSUME(tokenMap.IRI),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_URI=r.RULE("BuiltInCall_URI",function(){log("BuiltInCall_URI"),r.CONSUME(tokenMap.URI),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_BNODE=r.RULE("BuiltInCall_BNODE",function(){log("BuiltInCall_BNODE"),r.CONSUME(tokenMap.BNODE),r.OR([{ALT:function(){r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}},{ALT:function(){return r.CONSUME(tokenMap.NIL)}}])}),r.BuiltInCall_RAND=r.RULE("BuiltInCall_RAND",function(){log("BuiltInCall_RAND"),r.CONSUME(tokenMap.RAND),r.CONSUME(tokenMap.NIL)}),r.BuiltInCall_ABS=r.RULE("BuiltInCall_ABS",function(){log("BuiltInCall_ABS"),r.CONSUME(tokenMap.ABS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_CEIL=r.RULE("BuiltInCall_CEIL",function(){log("BuiltInCall_CEIL"),r.CONSUME(tokenMap.CEIL),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_FLOOR=r.RULE("BuiltInCall_FLOOR",function(){log("BuiltInCall_FLOOR"),r.CONSUME(tokenMap.FLOOR),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_ROUND=r.RULE("BuiltInCall_ROUND",function(){log("BuiltInCall_ROUND"),r.CONSUME(tokenMap.ROUND),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_CONCAT=r.RULE("BuiltInCall_CONCAT",function(){log("BuiltInCall_CONCAT"),r.CONSUME(tokenMap.CONCAT),r.SUBRULE(r.ExpressionList)}),r.BuiltInCall_STRLEN=r.RULE("BuiltInCall_STRLEN",function(){log("BuiltInCall_STRLEN"),r.CONSUME(tokenMap.STRLEN),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_UCASE=r.RULE("BuiltInCall_UCASE",function(){log("BuiltInCall_UCASE"),r.CONSUME(tokenMap.UCASE),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_LCASE=r.RULE("BuiltInCall_LCASE",function(){log("BuiltInCall_LCASE"),r.CONSUME(tokenMap.LCASE),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_ENCODE_FOR_URI=r.RULE("BuiltInCall_ENCODE_FOR_URI",function(){log("BuiltInCall_ENCODE_FOR_URI"),r.CONSUME(tokenMap.ENCODE_FOR_URI),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_CONTAINS=r.RULE("BuiltInCall_CONTAINS",function(){log("BuiltInCall_CONTAINS"),r.CONSUME(tokenMap.CONTAINS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STRSTARTS=r.RULE("BuiltInCall_STRSTARTS",function(){log("BuiltInCall_STRSTARTS"),r.CONSUME(tokenMap.STRSTARTS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STRENDS=r.RULE("BuiltInCall_STRENDS",function(){log("BuiltInCall_STRENDS"),r.CONSUME(tokenMap.STRENDS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STRBEFORE=r.RULE("BuiltInCall_STRBEFORE",function(){log("BuiltInCall_STRBEFORE"),r.CONSUME(tokenMap.STRBEFORE),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STRAFTER=r.RULE("BuiltInCall_STRAFTER",function(){log("BuiltInCall_STRAFTER"),r.CONSUME(tokenMap.STRAFTER),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_YEAR=r.RULE("BuiltInCall_YEAR",function(){log("BuiltInCall_YEAR"),r.CONSUME(tokenMap.YEAR),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_MONTH=r.RULE("BuiltInCall_MONTH",function(){log("BuiltInCall_MONTH"),r.CONSUME(tokenMap.MONTH),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_DAY=r.RULE("BuiltInCall_DAY",function(){log("BuiltInCall_DAY"),r.CONSUME(tokenMap.DAY),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_HOURS=r.RULE("BuiltInCall_HOURS",function(){log("BuiltInCall_HOURS"),r.CONSUME(tokenMap.HOURS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_MINUTES=r.RULE("BuiltInCall_MINUTES",function(){log("BuiltInCall_MINUTES"),r.CONSUME(tokenMap.MINUTES),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_SECONDS=r.RULE("BuiltInCall_SECONDS",function(){log("BuiltInCall_SECONDS"),r.CONSUME(tokenMap.SECONDS),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_TIMEZONE=r.RULE("BuiltInCall_TIMEZONE",function(){log("BuiltInCall_TIMEZONE"),r.CONSUME(tokenMap.TIMEZONE),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_TZ=r.RULE("BuiltInCall_TZ",function(){log("BuiltInCall_TZ"),r.CONSUME(tokenMap.TZ),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_NOW=r.RULE("BuiltInCall_NOW",function(){log("BuiltInCall_NOW"),r.CONSUME(tokenMap.NOW),r.CONSUME(tokenMap.NIL)}),r.BuiltInCall_UUID=r.RULE("BuiltInCall_UUID",function(){log("BuiltInCall_UUID"),r.CONSUME(tokenMap.UUID),r.CONSUME(tokenMap.NIL)}),r.BuiltInCall_STRUUID=r.RULE("BuiltInCall_STRUUID",function(){log("BuiltInCall_STRUUID"),r.CONSUME(tokenMap.STRUUID),r.CONSUME(tokenMap.NIL)}),r.BuiltInCall_MD5=r.RULE("BuiltInCall_MD5",function(){log("BuiltInCall_MD5"),r.CONSUME(tokenMap.MD5),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_SHA1=r.RULE("BuiltInCall_SHA1",function(){log("BuiltInCall_SHA1"),r.CONSUME(tokenMap.SHA1),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_SHA256=r.RULE("BuiltInCall_SHA256",function(){log("BuiltInCall_SHA256"),r.CONSUME(tokenMap.SHA256),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_SHA384=r.RULE("BuiltInCall_SHA384",function(){log("BuiltInCall_SHA384"),r.CONSUME(tokenMap.SHA384),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_SHA512=r.RULE("BuiltInCall_SHA512",function(){log("BuiltInCall_SHA512"),r.CONSUME(tokenMap.SHA512),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_COALESCE=r.RULE("BuiltInCall_COALESCE",function(){log("BuiltInCall_COALESCE"),r.CONSUME(tokenMap.COALESCE),r.SUBRULE(r.ExpressionList)}),r.BuiltInCall_IF=r.RULE("BuiltInCall_IF",function(){log("BuiltInCall_IF"),r.CONSUME(tokenMap.IF),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME1(tokenMap.Comma),r.SUBRULE2(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STRLANG=r.RULE("BuiltInCall_STRLANG",function(){log("BuiltInCall_STRLANG"),r.CONSUME(tokenMap.STRLANG),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_STRDT=r.RULE("BuiltInCall_STRDT",function(){log("BuiltInCall_STRDT"),r.CONSUME(tokenMap.STRDT),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_sameTerm=r.RULE("BuiltInCall_sameTerm",function(){log("BuiltInCall_sameTerm"),r.CONSUME(tokenMap.sameTerm),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_isIRI=r.RULE("BuiltInCall_isIRI",function(){log("BuiltInCall_isIRI"),r.CONSUME(tokenMap.isIRI),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_isURI=r.RULE("BuiltInCall_isURI",function(){log("BuiltInCall_isURI"),r.CONSUME(tokenMap.isURI),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_isBlank=r.RULE("BuiltInCall_isBlank",function(){log("BuiltInCall_isBlank"),r.CONSUME(tokenMap.isBlank),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_isLiteral=r.RULE("BuiltInCall_isLiteral",function(){log("BuiltInCall_isLiteral"),r.CONSUME(tokenMap.isLiteral),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall_isNumeric=r.RULE("BuiltInCall_isNumeric",function(){log("BuiltInCall_isNumeric"),r.CONSUME(tokenMap.isNumeric),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.BuiltInCall=r.RULE("BuiltInCall",function(){log("BuiltInCall"),r.OR([{ALT:function(){return r.SUBRULE(r.Aggregate)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STR)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_LANG)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_LANGMATCHERS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_DATATYPE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_BOUND)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_IRI)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_URI)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_BNODE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_RAND)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_ABS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_CEIL)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_FLOOR)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_ROUND)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_CONCAT)}},{ALT:function(){return r.SUBRULE(r.SubstringExpression)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRLEN)}},{ALT:function(){return r.SUBRULE(r.StrReplaceExpression)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_UCASE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_LCASE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_ENCODE_FOR_URI)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_CONTAINS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRSTARTS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRENDS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRBEFORE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRAFTER)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_YEAR)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_MONTH)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_DAY)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_HOURS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_MINUTES)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_SECONDS)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_TIMEZONE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_TZ)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_NOW)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_UUID)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRUUID)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_MD5)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_SHA1)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_SHA256)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_SHA384)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_SHA512)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_COALESCE)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_IF)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRLANG)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_STRDT)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_sameTerm)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_isIRI)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_isURI)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_isBlank)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_isLiteral)}},{ALT:function(){return r.SUBRULE(r.BuiltInCall_isNumeric)}},{ALT:function(){return r.SUBRULE(r.RegexExpression)}},{ALT:function(){return r.SUBRULE(r.ExistsFunction)}},{ALT:function(){return r.SUBRULE(r.NotExistsFunction)}}])}),r.RegexExpression=r.RULE("RegexExpression",function(){log("RegexExpression"),r.CONSUME(tokenMap.REGEX),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.OPTION(function(){r.CONSUME1(tokenMap.Comma),r.SUBRULE2(r.Expression)}),r.CONSUME(tokenMap.RParen)}),r.SubstringExpression=r.RULE("SubstringExpression",function(){log("SubstringExpression"),r.CONSUME(tokenMap.SUBSTR),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.OPTION(function(){r.CONSUME1(tokenMap.Comma),r.SUBRULE2(r.Expression)}),r.CONSUME(tokenMap.RParen)}),r.StrReplaceExpression=r.RULE("StrReplaceExpression",function(){log("StrReplaceExpression"),r.CONSUME(tokenMap.REPLACE),r.CONSUME(tokenMap.LParen),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.Comma),r.SUBRULE1(r.Expression),r.CONSUME1(tokenMap.Comma),r.SUBRULE2(r.Expression),r.OPTION(function(){r.CONSUME2(tokenMap.Comma),r.SUBRULE3(r.Expression)}),r.CONSUME(tokenMap.RParen)}),r.ExistsFunction=r.RULE("ExistsFunction",function(){log("ExistsFunction"),r.CONSUME(tokenMap.EXISTS),r.SUBRULE(r.GroupGraphPattern)}),r.NotExistsFunction=r.RULE("NotExistsFunction",function(){log("NotExistsFunction"),r.CONSUME(tokenMap.NOT_EXISTS),r.SUBRULE(r.GroupGraphPattern)}),r.Count=r.RULE("Count",function(){log("Count"),r.CONSUME(tokenMap.COUNT),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.OR([{ALT:function(){return r.CONSUME3(tokenMap.Star)}},{ALT:function(){return r.SUBRULE(r.Expression)}}]),r.CONSUME(tokenMap.RParen)}),r.Sum=r.RULE("Sum",function(){log("Sum"),r.CONSUME(tokenMap.SUM),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.Min=r.RULE("Min",function(){log("Min"),r.CONSUME(tokenMap.MIN),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.Max=r.RULE("Max",function(){log("Max"),r.CONSUME(tokenMap.MAX),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.Avg=r.RULE("Avg",function(){log("Avg"),r.CONSUME(tokenMap.AVG),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.Sample=r.RULE("Sample",function(){log("Sample"),r.CONSUME(tokenMap.SAMPLE),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.CONSUME(tokenMap.RParen)}),r.GroupConcat=r.RULE("GroupConcat",function(){log("GroupConcat"),r.CONSUME(tokenMap.GROUP_CONCAT),r.CONSUME1(tokenMap.LParen),r.OPTION(function(){return r.CONSUME2(tokenMap.DISTINCT)}),r.SUBRULE(r.Expression),r.OPTION1(function(){r.CONSUME(tokenMap.Semicolon),r.CONSUME(tokenMap.SEPARATOR),r.CONSUME(tokenMap.Equals),r.SUBRULE(r.String)}),r.CONSUME(tokenMap.RParen)}),r.Aggregate=r.RULE("Aggregate",function(){log("Aggregate"),r.OR([{ALT:function(){return r.SUBRULE(r.Count)}},{ALT:function(){return r.SUBRULE(r.Sum)}},{ALT:function(){return r.SUBRULE(r.Min)}},{ALT:function(){return r.SUBRULE(r.Max)}},{ALT:function(){return r.SUBRULE(r.Avg)}},{ALT:function(){return r.SUBRULE(r.Sample)}},{ALT:function(){return r.SUBRULE(r.GroupConcat)}}])}),r.iriOrFunction=r.RULE("iriOrFunction",function(){log("iriOrFunction"),r.SUBRULE(r.iri),r.OPTION(function(){return r.SUBRULE(r.ArgList)})}),r.RDFLiteral=r.RULE("RDFLiteral",function(){log("RDFLiteral"),r.SUBRULE(r.String),r.OPTION(function(){return r.OR([{ALT:function(){return r.CONSUME(tokenMap.LANGTAG)}},{ALT:function(){r.CONSUME(tokenMap.DoubleCaret),r.SUBRULE(r.iri)}}])})}),r.NumericLiteral=r.RULE("NumericLiteral",function(){log("NumericLiteral"),r.OR([{ALT:function(){return r.SUBRULE(r.NumericLiteralUnsigned)}},{ALT:function(){return r.SUBRULE(r.NumericLiteralPositive)}},{ALT:function(){return r.SUBRULE(r.NumericLiteralNegative)}}])}),r.NumericLiteralUnsigned=r.RULE("NumericLiteralUnsigned",function(){log("NumericLiteralUnsigned"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.INTEGER)}},{ALT:function(){return r.CONSUME(tokenMap.DECIMAL)}},{ALT:function(){return r.CONSUME(tokenMap.DOUBLE)}}])}),r.NumericLiteralPositive=r.RULE("NumericLiteralPositive",function(){log("NumericLiteralPositive"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.INTEGER_POSITIVE)}},{ALT:function(){return r.CONSUME(tokenMap.DECIMAL_POSITIVE)}},{ALT:function(){return r.CONSUME(tokenMap.DOUBLE_POSITIVE)}}])}),r.NumericLiteralNegative=r.RULE("NumericLiteralNegative",function(){log("NumericLiteralNegative"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.INTEGER_NEGATIVE)}},{ALT:function(){return r.CONSUME(tokenMap.DECIMAL_NEGATIVE)}},{ALT:function(){return r.CONSUME(tokenMap.DOUBLE_NEGATIVE)}}])}),r.BooleanLiteral=r.RULE("BooleanLiteral",function(){log("BooleanLiteral"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.TRUE)}},{ALT:function(){return r.CONSUME(tokenMap.FALSE)}}])}),r.String=r.RULE("String",function(){log("String"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.STRING_LITERAL1)}},{ALT:function(){return r.CONSUME(tokenMap.STRING_LITERAL2)}},{ALT:function(){return r.CONSUME(tokenMap.STRING_LITERAL_LONG1)}},{ALT:function(){return r.CONSUME(tokenMap.STRING_LITERAL_LONG2)}}])}),r.iri=r.RULE("iri",function(){log("iri"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.IRIREF)}},{ALT:function(){return r.SUBRULE(r.PrefixedName)}}])}),r.PrefixedName=r.RULE("PrefixedName",function(){log("PrefixedName"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.PNAME_LN)}},{ALT:function(){return r.CONSUME(tokenMap.PNAME_NS)}}])}),r.BlankNode=r.RULE("BlankNode",function(){log("BlankNode"),r.OR([{ALT:function(){return r.CONSUME(tokenMap.BLANK_NODE_LABEL)}},{ALT:function(){return r.CONSUME(tokenMap.ANON)}}])}),r.lexer=new api_2(n),r}return __extends(e,t),e}(api_1),indexOfSELECT=baseTokens.indexOf(tokenMap.SELECT),stardogTokens=baseTokens.slice(0,indexOfSELECT).concat(pathsTokens,baseTokens.slice(indexOfSELECT)),StardogSparqlParser=function(t){function e(e){var n=t.call(this,e,stardogTokens)||this;return n.Query=n.OVERRIDE_RULE("Query",function(){n.OR([{ALT:function(){return n.SUBRULE(n.SelectQuery)}},{ALT:function(){return n.SUBRULE(n.ConstructQuery)}},{ALT:function(){return n.SUBRULE(n.DescribeQuery)}},{ALT:function(){return n.SUBRULE(n.AskQuery)}},{ALT:function(){return n.SUBRULE(n.PathQuery)}}]),n.SUBRULE(n.ValuesClause)}),n.PathQuery=n.RULE("PathQuery",function(){n.SUBRULE(n.PathSpec),n.MANY(function(){return n.SUBRULE(n.DatasetClause)}),n.CONSUME(tokenMap.START),n.SUBRULE(n.PathTerminal),n.CONSUME(tokenMap.END),n.SUBRULE1(n.PathTerminal),n.SUBRULE(n.Via),n.OPTION(function(){return n.SUBRULE(n.MaxLength)}),n.SUBRULE(n.SolutionModifier)}),n.Via=n.RULE("Via",function(){n.CONSUME(tokenMap.VIA),n.OR([{ALT:function(){return n.SUBRULE(n.GroupGraphPattern)}},{ALT:function(){return n.SUBRULE(n.Var)}},{ALT:function(){return n.SUBRULE(n.Path)}}])}),n.PathTerminal=n.RULE("PathTerminal",function(){n.SUBRULE(n.Var),n.OPTION(function(){n.OR([{ALT:function(){n.CONSUME(tokenMap.Equals),n.SUBRULE(n.iri)}},{ALT:function(){return n.SUBRULE(n.GroupGraphPattern)}}])})}),n.PathSpec=n.RULE("PathSpec",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap.PATHS)}},{ALT:function(){return n.CONSUME(tokenMap.PATHS_SHORTEST)}},{ALT:function(){return n.CONSUME(tokenMap.PATHS_ALL)}}]),n.OPTION1(function(){return n.CONSUME(tokenMap.CYCLIC)})}),n.BuiltInCall=n.OVERRIDE_RULE("BuiltInCall",function(){n.OR([{ALT:function(){return n.SUBRULE(n.Aggregate)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STR)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_LANG)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_LANGMATCHERS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_DATATYPE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_BOUND)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_IRI)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_URI)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_BNODE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_RAND)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_ABS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_CEIL)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_FLOOR)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_ROUND)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_CONCAT)}},{ALT:function(){return n.SUBRULE(n.SubstringExpression)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRLEN)}},{ALT:function(){return n.SUBRULE(n.StrReplaceExpression)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_UCASE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_LCASE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_ENCODE_FOR_URI)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_CONTAINS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRSTARTS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRENDS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRBEFORE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRAFTER)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_YEAR)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_MONTH)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_DAY)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_HOURS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_MINUTES)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_SECONDS)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_TIMEZONE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_TZ)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_NOW)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_UUID)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRUUID)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_MD5)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_SHA1)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_SHA256)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_SHA384)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_SHA512)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_COALESCE)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_IF)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRLANG)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_STRDT)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_sameTerm)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_isIRI)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_isURI)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_isBlank)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_isLiteral)}},{ALT:function(){return n.SUBRULE(n.BuiltInCall_isNumeric)}},{ALT:function(){return n.SUBRULE(n.RegexExpression)}},{ALT:function(){return n.SUBRULE(n.ExistsFunction)}},{ALT:function(){return n.SUBRULE(n.NotExistsFunction)}},{ALT:function(){return n.SUBRULE(n.StardogOrCustomFunction)}}])}),n.StardogOrCustomFunction=n.RULE("StardogOrCustomFunction",function(){n.CONSUME(tokenMap.Unknown),n.SUBRULE(n.ExpressionList)}),n.ConstructTemplate=n.OVERRIDE_RULE("ConstructTemplate",function(){n.CONSUME(tokenMap.LCurly),n.OPTION(function(){return n.SUBRULE(n.Quads)}),n.CONSUME(tokenMap.RCurly)}),api_1.performSelfAnalysis(n),n}return __extends(e,t),e}(BaseSparqlParser),W3SpecSparqlParser=function(t){function e(e){var n=t.call(this,e,baseTokens)||this;return api_1.performSelfAnalysis(n),n}return __extends(e,t),e}(BaseSparqlParser),escapeSequence=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,escapeReplacements={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},unescapedStringLiteralQuote=/^"([^"\\\r\n]+)"/,unescapedStringLiteralSingleQuote=/^'([^'\\\r\n]+)'/,stringLiteralQuote=/^"((?:[^"\\\r\n]|\\.)*)"(?=[^"])/,stringLiteralSingleQuote=/^'((?:[^'\\\r\n]|\\.)*)'(?=[^'])/,stringLiteralLongQuote=/^"""([^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*)"""/,stringLiteralLongSingleQuote=/^'''([^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*)'''/,illegalIriChars=/[\x00-\x20<>\\"\{\}\|\^\`]/,escapedIri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,unescape=function(t){try{return t.replace(escapeSequence,function(t,e,n,r){if(e)return String.fromCharCode(parseInt(e,16));if(n){var i=parseInt(n,16);return i<=65535?String.fromCharCode(i):String.fromCharCode(55296+(i-=65536)/1024,56320+(1023&i))}var o=escapeReplacements[r];if(!o)throw new Error;return o})}catch(t){return null}},unicodeRegexp=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tokenMap$1={Comment:api_3({name:"Comment",pattern:/#[^\n]*/,group:"comments"}),LBracket:tokenMap.LBracket,RBracket:tokenMap.RBracket,LParen:tokenMap.LParen,RParen:tokenMap.RParen,Period:tokenMap.Period,WhiteSpace:tokenMap.WhiteSpace,TRUE:tokenMap.TRUE,FALSE:tokenMap.FALSE,DoubleCaret:tokenMap.DoubleCaret,Comma:tokenMap.Comma,Semicolon:tokenMap.Semicolon,A:tokenMap.A,PREFIX:tokenMap.PREFIX,BASE:tokenMap.BASE,PNAME_NS:tokenMap.PNAME_NS,PNAME_LN:tokenMap.PNAME_LN,BLANK_NODE_LABEL:tokenMap.BLANK_NODE_LABEL,TTL_BASE:api_3({name:"TTL_BASE",pattern:/@base/}),TTL_PREFIX:api_3({name:"TTL_PREFIX",pattern:/@prefix/}),LANGTAG:tokenMap.LANGTAG,INTEGER:api_3({name:"INTEGER",pattern:regex.and(regex.option(/[+-]/),/\d+/)}),DECIMAL:api_3({name:"DECIMAL",pattern:regex.and(regex.option(/[+-]/),/(\d*\.\d+)/)}),DOUBLE:api_3({name:"DOUBLE",pattern:regex.and(regex.option(/[+-]/),regex.or(regex.and(/\d+\.\d*/,EXPONENT),regex.and(/\.\d+/,EXPONENT),regex.and(/\d+/,EXPONENT)))}),EXPONENT:api_3({name:"EXPONENT",pattern:EXPONENT}),ECHAR:api_3({name:"ECHAR",pattern:ECHAR}),ANON:tokenMap.ANON,PLX:api_3({name:"PLX",pattern:PLX}),PERCENT:tokenMap.PERCENT,HEX:api_3({name:"HEX",pattern:HEX}),STRING_LITERAL_LONG_SINGLE_QUOTE:api_3({name:"STRING_LITERAL_LONG_SINGLE_QUOTE",pattern:function(t,e){void 0===e&&(e=0);var n=stringLiteralLongSingleQuote.exec(t.slice(e));return n&&null!==unescape(n[1])?n:null},line_breaks:!0}),STRING_LITERAL_LONG_QUOTE:api_3({name:"STRING_LITERAL_LONG_QUOTE",pattern:function(t,e){void 0===e&&(e=0);var n=stringLiteralLongQuote.exec(t.slice(e));return n&&null!==unescape(n[1])?n:null},line_breaks:!0}),STRING_LITERAL_QUOTE:api_3({name:"STRING_LITERAL_QUOTE",pattern:function(t,e){void 0===e&&(e=0);var n=t.slice(e),r=unescapedStringLiteralQuote.exec(n);return r||((r=stringLiteralQuote.exec(n))?null===unescape(r[1])?null:r:null)},line_breaks:!1}),STRING_LITERAL_SINGLE_QUOTE:api_3({name:"STRING_LITERAL_SINGLE_QUOTE",pattern:function(t,e){void 0===e&&(e=0);var n=t.slice(e),r=unescapedStringLiteralSingleQuote.exec(n);return r||((r=stringLiteralSingleQuote.exec(n))?null===unescape(r[1])?null:r:null)},line_breaks:!1}),UCHAR:api_3({name:"UCHAR",pattern:function(t,e){return void 0===e&&(e=0),unicodeRegexp.exec(t.slice(e))},line_breaks:!1}),IRIREF:api_3({name:"IRIREF",pattern:function(t,e){void 0===e&&(e=0);var n=t.slice(e),r=unescapedIri.exec(n);if(r)return r;if(!(r=escapedIri.exec(n)))return null;var i=unescape(r[1]);return null===i||illegalIriChars.test(i)?null:r},line_breaks:!1}),PN_CHARS_BASE:api_3({name:"PN_CHARS_BASE",pattern:PN_CHARS_BASE}),PN_CHARS_U:api_3({name:"PN_CHARS_U",pattern:PN_CHARS_U}),PN_CHARS:api_3({name:"PN_CHARS",pattern:PN_CHARS}),PN_PREFIX:api_3({name:"PN_PREFIX",pattern:PN_PREFIX}),PN_LOCAL:api_3({name:"PN_LOCAL",pattern:PN_LOCAL}),PN_LOCAL_ESC:api_3({name:"PN_LOCAL_ESC",pattern:PN_LOCAL_ESC}),Unknown:api_3({name:"Unknown",pattern:/\w+/})},tokenTypes$1=[tokenMap$1.Comment,tokenMap.ANON,tokenMap.LBracket,tokenMap.RBracket,tokenMap.LParen,tokenMap.RParen,tokenMap.WhiteSpace,tokenMap.TRUE,tokenMap.FALSE,tokenMap.Comma,tokenMap.Semicolon,tokenMap.PNAME_NS,tokenMap.A,tokenMap.PREFIX,tokenMap.BASE,tokenMap.PNAME_LN,tokenMap.BLANK_NODE_LABEL,tokenMap$1.TTL_BASE,tokenMap$1.TTL_PREFIX,tokenMap.LANGTAG,tokenMap$1.DOUBLE,tokenMap$1.DECIMAL,tokenMap.Period,tokenMap.DoubleCaret,tokenMap$1.IRIREF,tokenMap$1.STRING_LITERAL_LONG_SINGLE_QUOTE,tokenMap$1.STRING_LITERAL_LONG_QUOTE,tokenMap$1.STRING_LITERAL_QUOTE,tokenMap$1.STRING_LITERAL_SINGLE_QUOTE,tokenMap$1.INTEGER,tokenMap$1.EXPONENT,tokenMap$1.PLX,tokenMap.PERCENT,tokenMap$1.HEX,tokenMap$1.PN_CHARS_BASE,tokenMap$1.PN_CHARS_U,tokenMap$1.PN_CHARS,tokenMap$1.PN_PREFIX,tokenMap$1.PN_LOCAL,tokenMap$1.PN_LOCAL_ESC,tokenMap$1.ECHAR,tokenMap$1.UCHAR,tokenMap$1.Unknown],tokens$3=Object.freeze({tokenMap:tokenMap$1,tokenTypes:tokenTypes$1}),TurtleParser=function(t){function e(e){var n=t.call(this,[],tokenTypes$1,__assign({outputCst:!0,recoveryEnabled:!0},e))||this;return n.namespacesMap={},n.semanticErrors=[],n.resetManagedState=function(){n.namespacesMap={},n.semanticErrors=[]},n.tokenize=function(t){return n.lexer.tokenize(t).tokens},n.parse=function(t){n.input=n.lexer.tokenize(t).tokens;var e=n.turtleDoc(),r=n.errors.slice(),i=n.semanticErrors.slice();return n.resetManagedState(),{errors:r,semanticErrors:i,cst:e}},n.turtleDoc=n.RULE("turtleDoc",function(){n.MANY(function(){return n.SUBRULE(n.statement)})}),n.statement=n.RULE("statement",function(){n.OR([{ALT:function(){return n.SUBRULE(n.directive)}},{ALT:function(){n.SUBRULE(n.triples),n.CONSUME(tokenMap$1.Period)}}])}),n.directive=n.RULE("directive",function(){n.OR([{ALT:function(){return n.SUBRULE(n.prefixID)}},{ALT:function(){return n.SUBRULE(n.base)}},{ALT:function(){return n.SUBRULE(n.sparqlPrefix)}},{ALT:function(){return n.SUBRULE(n.sparqlBase)}}])}),n.prefixID=n.RULE("prefixID",function(){n.CONSUME(tokenMap$1.TTL_PREFIX);var t=n.CONSUME(tokenMap$1.PNAME_NS),e=n.CONSUME(tokenMap$1.IRIREF),r=t.image.slice(0,-1),i=e.image;n.namespacesMap[r]=i,n.CONSUME(tokenMap$1.Period)}),n.base=n.RULE("base",function(){n.CONSUME(tokenMap$1.TTL_BASE),n.CONSUME(tokenMap$1.IRIREF),n.CONSUME(tokenMap$1.Period)}),n.sparqlBase=n.RULE("sparqlBase",function(){n.CONSUME(tokenMap$1.BASE),n.CONSUME(tokenMap$1.IRIREF)}),n.sparqlPrefix=n.RULE("sparqlPrefix",function(){n.CONSUME(tokenMap$1.PREFIX);var t=n.CONSUME(tokenMap$1.PNAME_NS),e=n.CONSUME(tokenMap$1.IRIREF),r=t.image.slice(0,-1),i=e.image;n.namespacesMap[r]=i}),n.triples=n.RULE("triples",function(){n.OR([{ALT:function(){n.SUBRULE(n.subject),n.SUBRULE(n.predicateObjectList)}},{ALT:function(){n.SUBRULE(n.blankNodePropertyList),n.OPTION(function(){return n.SUBRULE1(n.predicateObjectList)})}}])}),n.predicateObjectList=n.RULE("predicateObjectList",function(){n.SUBRULE(n.verb),n.SUBRULE(n.objectList),n.OPTION(function(){n.CONSUME(tokenMap$1.Semicolon),n.OPTION1(function(){n.SUBRULE1(n.verb),n.SUBRULE1(n.objectList)})}),n.MANY(function(){n.CONSUME1(tokenMap$1.Semicolon),n.OPTION2(function(){n.SUBRULE2(n.verb),n.SUBRULE2(n.objectList)})})}),n.subject=n.RULE("subject",function(){n.OR([{ALT:function(){return n.SUBRULE(n.iri)}},{ALT:function(){return n.SUBRULE(n.BlankNode)}},{ALT:function(){return n.SUBRULE(n.collection)}}])}),n.predicate=n.RULE("predicate",function(){n.SUBRULE(n.iri)}),n.objectList=n.RULE("objectList",function(){n.SUBRULE(n.object),n.MANY(function(){n.CONSUME(tokenMap$1.Comma),n.SUBRULE1(n.object)})}),n.verb=n.RULE("verb",function(){n.OR([{ALT:function(){return n.SUBRULE(n.predicate)}},{ALT:function(){return n.CONSUME(tokenMap$1.A)}}])}),n.literal=n.RULE("literal",function(){n.OR([{ALT:function(){return n.SUBRULE(n.RDFLiteral)}},{ALT:function(){return n.SUBRULE(n.NumericLiteral)}},{ALT:function(){return n.SUBRULE(n.BooleanLiteral)}}])}),n.blankNodePropertyList=n.RULE("blankNodePropertyList",function(){n.CONSUME(tokenMap$1.LBracket),n.SUBRULE(n.predicateObjectList),n.CONSUME(tokenMap$1.RBracket)}),n.object=n.RULE("object",function(){n.OR([{ALT:function(){return n.SUBRULE(n.iri)}},{ALT:function(){return n.SUBRULE(n.BlankNode)}},{ALT:function(){return n.SUBRULE(n.collection)}},{ALT:function(){return n.SUBRULE(n.blankNodePropertyList)}},{ALT:function(){return n.SUBRULE(n.literal)}}])}),n.collection=n.RULE("collection",function(){n.CONSUME(tokenMap$1.LParen),n.MANY(function(){return n.SUBRULE(n.object)}),n.CONSUME(tokenMap$1.RParen)}),n.NumericLiteral=n.RULE("NumericLiteral",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.INTEGER)}},{ALT:function(){return n.CONSUME(tokenMap$1.DECIMAL)}},{ALT:function(){return n.CONSUME(tokenMap$1.DOUBLE)}}])}),n.RDFLiteral=n.RULE("RDFLiteral",function(){n.SUBRULE(n.String),n.OPTION(function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.LANGTAG)}},{ALT:function(){n.CONSUME(tokenMap$1.DoubleCaret),n.SUBRULE(n.iri)}}])})}),n.BooleanLiteral=n.RULE("BooleanLiteral",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.TRUE)}},{ALT:function(){return n.CONSUME(tokenMap$1.FALSE)}}])}),n.String=n.RULE("String",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.STRING_LITERAL_QUOTE)}},{ALT:function(){return n.CONSUME(tokenMap$1.STRING_LITERAL_SINGLE_QUOTE)}},{ALT:function(){return n.CONSUME(tokenMap$1.STRING_LITERAL_LONG_SINGLE_QUOTE)}},{ALT:function(){return n.CONSUME(tokenMap$1.STRING_LITERAL_LONG_QUOTE)}}])}),n.iri=n.RULE("iri",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.IRIREF)}},{ALT:function(){return n.SUBRULE(n.PrefixedName)}}])}),n.PrefixedName=n.RULE("PrefixedName",function(){var t=n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.PNAME_LN)}},{ALT:function(){return n.CONSUME(tokenMap$1.PNAME_NS)}}]);t.image.slice(0,t.image.indexOf(":"))in n.namespacesMap||n.semanticErrors.push({name:"NoNamespacePrefixError",message:"A prefix was used for which there was no namespace defined.",token:t,context:{ruleStack:n.getHumanReadableRuleStack(),ruleOccurrenceStack:n.RULE_OCCURRENCE_STACK.slice()},resyncedTokens:[]})}),n.BlankNode=n.RULE("BlankNode",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$1.BLANK_NODE_LABEL)}},{ALT:function(){return n.CONSUME(tokenMap$1.ANON)}}])}),n.lexer=new api_2(tokenTypes$1),api_1.performSelfAnalysis(n),n}return __extends(e,t),e}(api_1),FROM_BLOCK_END_MATCHER=/^\s*to\s*{/i,FROM_JSON_BLOCK_END_MATCHER=/((?:.|\s)*?)to\s*{/i,explicitEndMatcher=function(t,e,n){for(var r=0;r<t.length;r++)if(t[r]!==e);else{var i=t.slice(r+1);if(n.exec(i))return[t.slice(0,r)]}return null},tokenMap$2={STRING_LITERAL1:tokenMap.STRING_LITERAL1,STRING_LITERAL2:tokenMap.STRING_LITERAL2,STRING_LITERAL_LONG1:tokenMap.STRING_LITERAL_LONG1,STRING_LITERAL_LONG2:tokenMap.STRING_LITERAL_LONG2,IRIREF:tokenMap.IRIREF,PNAME_LN:tokenMap.PNAME_LN,PNAME_NS:tokenMap.PNAME_NS,NIL:tokenMap.NIL,DISTINCT:tokenMap.DISTINCT,VAR1:tokenMap.VAR1,VAR2:tokenMap.VAR2,BIND:tokenMap.BIND,AS:tokenMap.AS,WHERE:tokenMap.WHERE,LANGTAG:tokenMap.LANGTAG,INTEGER:tokenMap.INTEGER,DECIMAL:tokenMap.DECIMAL,DOUBLE:tokenMap.DOUBLE,INTEGER_POSITIVE:tokenMap.INTEGER_POSITIVE,DECIMAL_POSITIVE:tokenMap.DECIMAL_POSITIVE,DOUBLE_POSITIVE:tokenMap.DOUBLE_POSITIVE,INTEGER_NEGATIVE:tokenMap.INTEGER_NEGATIVE,DECIMAL_NEGATIVE:tokenMap.DECIMAL_NEGATIVE,DOUBLE_NEGATIVE:tokenMap.DOUBLE_NEGATIVE,TRUE:tokenMap.TRUE,FALSE:tokenMap.FALSE,BLANK_NODE_LABEL:tokenMap.BLANK_NODE_LABEL,ANON:tokenMap.ANON,A:tokenMap.A,FROM:tokenMap.FROM,PREFIX:tokenMap.PREFIX,Comment:tokenMap.Comment,Period:tokenMap.Period,Comma:tokenMap.Comma,LCurly:tokenMap.LCurly,RCurly:tokenMap.RCurly,LParen:tokenMap.LParen,RParen:tokenMap.RParen,WhiteSpace:tokenMap.WhiteSpace,DoubleCaret:tokenMap.DoubleCaret,Semicolon:tokenMap.Semicolon,LBracket:tokenMap.LBracket,RBracket:tokenMap.RBracket,Template:api_3({name:"Template",pattern:/template/i}),TO:api_3({name:"TO",pattern:/to/i}),Sql:api_3({name:"Sql",pattern:/sql/i}),GraphQl:api_3({name:"GraphQl",pattern:/graphql/i}),Json:api_3({name:"Json",pattern:/json/i}),Mapping:api_3({name:"Mapping",pattern:/mapping/i}),SqlBlock:api_3({name:"SqlBlock",pattern:function(t,e,n){void 0===e&&(e=0);var r=n.slice(-2),i=r[0],o=r[1];if(!i||!o||i.tokenType.tokenName!==tokenMap$2.Sql.tokenName||o.tokenType.tokenName!==tokenMap$2.LCurly.tokenName)return null;var a=t.slice(e);return explicitEndMatcher(a,"}",FROM_BLOCK_END_MATCHER)},line_breaks:!0}),JsonBlock:api_3({name:"JsonBlock",pattern:function(t,e,n){void 0===e&&(e=0);var r=n.slice(-1)[0];if(!r||r.tokenType.tokenName!==tokenMap$2.Json.tokenName)return null;var i=t.slice(e),o=FROM_JSON_BLOCK_END_MATCHER.exec(i);return o?o.slice(1):null},line_breaks:!0}),GraphQlBlock:api_3({name:"GraphQlBlock",pattern:function(t,e,n){void 0===e&&(e=0);var r=n.slice(-2),i=r[0],o=r[1];if(!i||!o||i.tokenType.tokenName!==tokenMap$2.GraphQl.tokenName||o.tokenType.tokenName!==tokenMap$2.LCurly.tokenName)return null;var a=t.slice(e);return explicitEndMatcher(a,"}",FROM_BLOCK_END_MATCHER)},line_breaks:!0})},tokenTypes$2=[tokenMap$2.WhiteSpace,tokenMap$2.Comment,tokenMap$2.LParen,tokenMap$2.RParen,tokenMap$2.Period,tokenMap$2.Template,tokenMap$2.IRIREF,tokenMap$2.PNAME_LN,tokenMap$2.PNAME_NS,tokenMap$2.NIL,tokenMap$2.DISTINCT,tokenMap$2.VAR1,tokenMap$2.VAR2,tokenMap$2.BIND,tokenMap$2.AS,tokenMap$2.WHERE,tokenMap$2.TO,tokenMap$2.LANGTAG,tokenMap$2.INTEGER,tokenMap$2.DECIMAL,tokenMap$2.DOUBLE,tokenMap$2.INTEGER_POSITIVE,tokenMap$2.DECIMAL_POSITIVE,tokenMap$2.DOUBLE_POSITIVE,tokenMap$2.INTEGER_NEGATIVE,tokenMap$2.DECIMAL_NEGATIVE,tokenMap$2.DOUBLE_NEGATIVE,tokenMap$2.TRUE,tokenMap$2.FALSE,tokenMap$2.BLANK_NODE_LABEL,tokenMap$2.ANON,tokenMap$2.A,tokenMap$2.FROM,tokenMap$2.PREFIX,tokenMap$2.Comma,tokenMap$2.DoubleCaret,tokenMap$2.Semicolon,tokenMap$2.LBracket,tokenMap$2.RBracket,tokenMap$2.Sql,tokenMap$2.GraphQl,tokenMap$2.Json,tokenMap$2.Mapping,tokenMap$2.SqlBlock,tokenMap$2.JsonBlock,tokenMap$2.GraphQlBlock,tokenMap$2.LCurly,tokenMap$2.RCurly,tokenMap$2.STRING_LITERAL1,tokenMap$2.STRING_LITERAL2,tokenMap$2.STRING_LITERAL_LONG1,tokenMap$2.STRING_LITERAL_LONG2],tokens$4=Object.freeze({tokenMap:tokenMap$2,tokenTypes:tokenTypes$2}),SmsParser=function(t){function e(e){var n=t.call(this,[],tokenTypes$2,__assign({outputCst:!0,recoveryEnabled:!0},e))||this;return n.tokenize=function(t){return n.lexer.tokenize(t).tokens},n.parse=function(t){n.input=n.lexer.tokenize(t).tokens;var e=n.MappingDoc();return{errors:n.errors,cst:e}},n.MappingDoc=n.RULE("MappingDoc",function(){n.MANY(function(){return n.SUBRULE(n.PrefixDecl)}),n.SUBRULE(n.MappingClause),n.MANY1(function(){n.CONSUME(tokenMap$2.Semicolon),n.SUBRULE1(n.MappingClause)})}),n.MappingClause=n.RULE("MappingClause",function(){n.SUBRULE(n.MappingDecl),n.SUBRULE(n.FromClause),n.SUBRULE(n.ToClause),n.SUBRULE(n.WhereClause)}),n.MappingDecl=n.RULE("MappingDecl",function(){n.CONSUME(tokenMap$2.Mapping),n.OPTION(function(){return n.SUBRULE(n.iri)})}),n.FromClause=n.RULE("FromClause",function(){n.CONSUME(tokenMap$2.FROM),n.OR([{ALT:function(){return n.SUBRULE(n.SqlClause)}},{ALT:function(){return n.SUBRULE(n.JsonClause)}},{ALT:function(){return n.SUBRULE(n.GraphQlClause)}}])}),n.JsonClause=n.RULE("JsonClause",function(){n.CONSUME(tokenMap$2.Json),n.CONSUME(tokenMap$2.JsonBlock)}),n.GraphQlClause=n.RULE("GraphQlClause",function(){n.CONSUME(tokenMap$2.GraphQl),n.CONSUME(tokenMap$2.LCurly),n.CONSUME(tokenMap$2.GraphQlBlock),n.CONSUME(tokenMap$2.RCurly)}),n.SqlClause=n.RULE("SqlClause",function(){n.CONSUME(tokenMap$2.Sql),n.CONSUME(tokenMap$2.LCurly),n.CONSUME(tokenMap$2.SqlBlock),n.CONSUME(tokenMap$2.RCurly)}),n.ToClause=n.RULE("ToClause",function(){n.CONSUME(tokenMap$2.TO),n.SUBRULE(n.ConstructTemplate)}),n.WhereClause=n.RULE("WhereClause",function(){n.CONSUME(tokenMap$2.WHERE),n.CONSUME(tokenMap$2.LCurly),n.MANY(function(){return n.SUBRULE(n.Bind)}),n.CONSUME(tokenMap$2.RCurly)}),n.Bind=n.RULE("Bind",function(){n.CONSUME(tokenMap$2.BIND),n.CONSUME(tokenMap$2.LParen),n.SUBRULE(n.TemplateOrCast),n.CONSUME(tokenMap$2.AS),n.SUBRULE(n.Var),n.CONSUME(tokenMap$2.RParen)}),n.TemplateOrCast=n.RULE("TemplateOrCast",function(){n.OR([{ALT:function(){return n.SUBRULE(n.TemplateFunc)}},{ALT:function(){return n.SUBRULE(n.CastFunc)}}])}),n.CastFunc=n.RULE("CastFunc",function(){n.SUBRULE(n.iri),n.CONSUME(tokenMap$2.LParen),n.SUBRULE(n.Var),n.CONSUME(tokenMap$2.RParen)}),n.TemplateFunc=n.RULE("TemplateFunc",function(){n.CONSUME(tokenMap$2.Template),n.CONSUME(tokenMap$2.LParen),n.SUBRULE(n.String),n.CONSUME(tokenMap$2.RParen)}),n.PrefixDecl=n.RULE("PrefixDecl",function(){n.CONSUME(tokenMap$2.PREFIX),n.CONSUME(tokenMap$2.PNAME_NS),n.CONSUME(tokenMap$2.IRIREF)}),n.iri=n.RULE("iri",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.IRIREF)}},{ALT:function(){return n.SUBRULE(n.PrefixedName)}}])}),n.PrefixedName=n.RULE("PrefixedName",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.PNAME_LN)}},{ALT:function(){return n.CONSUME(tokenMap$2.PNAME_NS)}}])}),n.ConstructTemplate=n.RULE("ConstructTemplate",function(){n.CONSUME(tokenMap$2.LCurly),n.OPTION(function(){return n.SUBRULE(n.ConstructTriples)}),n.CONSUME(tokenMap$2.RCurly)}),n.ConstructTriples=n.RULE("ConstructTriples",function(){n.SUBRULE(n.TriplesSameSubject),n.OPTION(function(){n.CONSUME(tokenMap$2.Period),n.OPTION1(function(){return n.SUBRULE(n.ConstructTriples)})})}),n.TriplesSameSubject=n.RULE("TriplesSameSubject",function(){n.OR([{ALT:function(){n.SUBRULE(n.VarOrTerm),n.SUBRULE(n.PropertyListNotEmpty)}},{ALT:function(){n.SUBRULE(n.TriplesNode),n.SUBRULE(n.PropertyList)}}])}),n.VarOrTerm=n.RULE("VarOrTerm",function(){n.OR([{ALT:function(){return n.SUBRULE(n.Var)}},{ALT:function(){return n.SUBRULE(n.GraphTerm)}}])}),n.PropertyListNotEmpty=n.RULE("PropertyListNotEmpty",function(){n.SUBRULE(n.Verb),n.SUBRULE(n.ObjectList),n.MANY(function(){n.CONSUME(tokenMap$2.Semicolon),n.OPTION(function(){n.SUBRULE1(n.Verb),n.SUBRULE1(n.ObjectList)})})}),n.TriplesNode=n.RULE("TriplesNode",function(){n.OR([{ALT:function(){return n.SUBRULE(n.Collection)}},{ALT:function(){return n.SUBRULE(n.BlankNodePropertyList)}}])}),n.PropertyList=n.RULE("PropertyList",function(){n.OPTION(function(){return n.SUBRULE(n.PropertyListNotEmpty)})}),n.GraphTerm=n.RULE("GraphTerm",function(){n.OR([{ALT:function(){return n.SUBRULE(n.iri)}},{ALT:function(){return n.SUBRULE(n.RDFLiteral)}},{ALT:function(){return n.SUBRULE(n.NumericLiteral)}},{ALT:function(){return n.SUBRULE(n.BooleanLiteral)}},{ALT:function(){return n.SUBRULE(n.BlankNode)}},{ALT:function(){return n.CONSUME(tokenMap$2.NIL)}}])}),n.Verb=n.RULE("Verb",function(){n.OR([{ALT:function(){return n.SUBRULE(n.VarOrIri)}},{ALT:function(){return n.CONSUME(tokenMap$2.A)}}])}),n.ObjectList=n.RULE("ObjectList",function(){n.AT_LEAST_ONE_SEP({SEP:tokenMap$2.Comma,DEF:function(){return n.SUBRULE(n.Object)}})}),n.Object=n.RULE("Object",function(){n.SUBRULE(n.GraphNode)}),n.Collection=n.RULE("Collection",function(){n.CONSUME(tokenMap$2.LParen),n.AT_LEAST_ONE(function(){return n.SUBRULE(n.GraphNode)}),n.CONSUME(tokenMap$2.RParen)}),n.BlankNodePropertyList=n.RULE("BlankNodePropertyList",function(){n.CONSUME(tokenMap$2.LBracket),n.SUBRULE(n.PropertyListNotEmpty),n.CONSUME(tokenMap$2.RBracket)}),n.VarOrIri=n.RULE("VarOrIri",function(){n.OR([{ALT:function(){return n.SUBRULE(n.Var)}},{ALT:function(){return n.SUBRULE(n.iri)}}])}),n.RDFLiteral=n.RULE("RDFLiteral",function(){n.SUBRULE(n.String),n.OPTION(function(){return n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.LANGTAG)}},{ALT:function(){n.CONSUME(tokenMap$2.DoubleCaret),n.SUBRULE(n.iri)}}])})}),n.NumericLiteral=n.RULE("NumericLiteral",function(){n.OR([{ALT:function(){return n.SUBRULE(n.NumericLiteralUnsigned)}},{ALT:function(){return n.SUBRULE(n.NumericLiteralPositive)}},{ALT:function(){return n.SUBRULE(n.NumericLiteralNegative)}}])}),n.NumericLiteralUnsigned=n.RULE("NumericLiteralUnsigned",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.INTEGER)}},{ALT:function(){return n.CONSUME(tokenMap$2.DECIMAL)}},{ALT:function(){return n.CONSUME(tokenMap$2.DOUBLE)}}])}),n.NumericLiteralPositive=n.RULE("NumericLiteralPositive",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.INTEGER_POSITIVE)}},{ALT:function(){return n.CONSUME(tokenMap$2.DECIMAL_POSITIVE)}},{ALT:function(){return n.CONSUME(tokenMap$2.DOUBLE_POSITIVE)}}])}),n.NumericLiteralNegative=n.RULE("NumericLiteralNegative",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.INTEGER_NEGATIVE)}},{ALT:function(){return n.CONSUME(tokenMap$2.DECIMAL_NEGATIVE)}},{ALT:function(){return n.CONSUME(tokenMap$2.DOUBLE_NEGATIVE)}}])}),n.BooleanLiteral=n.RULE("BooleanLiteral",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.TRUE)}},{ALT:function(){return n.CONSUME(tokenMap$2.FALSE)}}])}),n.BlankNode=n.RULE("BlankNode",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.BLANK_NODE_LABEL)}},{ALT:function(){return n.CONSUME(tokenMap$2.ANON)}}])}),n.GraphNode=n.RULE("GraphNode",function(){n.OR([{ALT:function(){return n.SUBRULE(n.VarOrTerm)}},{ALT:function(){return n.SUBRULE(n.TriplesNode)}}])}),n.Var=n.RULE("Var",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.VAR1)}},{ALT:function(){return n.CONSUME(tokenMap$2.VAR2)}}])}),n.String=n.RULE("String",function(){n.OR([{ALT:function(){return n.CONSUME(tokenMap$2.STRING_LITERAL1)}},{ALT:function(){return n.CONSUME(tokenMap$2.STRING_LITERAL2)}},{ALT:function(){return n.CONSUME(tokenMap$2.STRING_LITERAL_LONG1)}},{ALT:function(){return n.CONSUME(tokenMap$2.STRING_LITERAL_LONG2)}}])}),n.lexer=new api_2(tokenTypes$2),api_1.performSelfAnalysis(n),n}return __extends(e,t),e}(api_1),traverse=function(t,e){_traverse(t,null,e)};function isCstNode(t){return"name"in t}var TraverseContext=function(){return function(t){var e=t.node,n=t.parentCtx;this.node=__assign({},e),this.parentCtx=__assign({},n)}}(),_traverse=function(t,e,n){if(void 0===e&&(e=new TraverseContext({node:t})),!isCstNode(t))return n(__assign({},e));var r=t.children;Object.keys(r).forEach(function(t){var i=r[t];i.length&&i.forEach(function(t){var r=new TraverseContext({node:t,parentCtx:e});n(r,function(e){var i=e?new TraverseContext({node:e.node,parentCtx:e.parentCtx}):r;_traverse(t,i,n)})})})};export{tokens$2 as sparqlTokens,tokens$3 as turtleTokens,tokens$4 as smsTokens,keywords as sparqlKeywords,terminals as sparqlTerminals,matchers,BaseSparqlParser,StardogSparqlParser,W3SpecSparqlParser,TurtleParser,SmsParser,traverse,isCstNode};
